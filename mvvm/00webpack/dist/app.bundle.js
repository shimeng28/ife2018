!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=6)}([function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=(0,o.default)(e),r=(0,o.default)(t),i=n.path;if(0===i.indexOf("/"))return e;var s=i.split("/"),a=r.path.split("/");a.pop();for(var c=0;c<s.length;c++){var p=s[c];switch(p){case"..":a.pop();break;case".":break;default:a.push(p)}}""!==a[0]&&a.unshift("");return a.join("/")+(n.queryString?"?"+n.queryString:"")};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={hash:"",queryString:"",params:{},query:{},path:e},n=t.path.indexOf("#");n>=0&&(t.hash=t.path.slice(n+1),t.path=t.path.slice(0,n));var r=t.query,i=t.path.indexOf("?");i>=0&&(t.queryString=t.path.slice(i+1),t.path=t.path.slice(0,i),t.queryString.split("&").forEach(function(e){var t=e.indexOf("="),n="";t>0&&(n=e.slice(t+1),e=e.slice(0,t));var i=decodeURIComponent(e);n=decodeURIComponent(n),r.hasOwnProperty(i)?r[i]=[].concat(r[i],n):r[i]=n}));return t}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.on=function(e,t){"function"==typeof t&&(this._eventListeners||(this._eventListeners={}),this._eventListeners[e]||(this._eventListeners[e]=[]),this._eventListeners[e].push(t))},e.prototype.un=function(e,t){if(this._eventListeners&&this._eventListeners[e])if(t)for(var n=this._eventListeners[e],r=n.length;r--;)n[r]===t&&n.splice(r,1);else this._eventListeners[e]=[]},e.prototype.fire=function(e,t){if(!e)throw new Error("No event type specified");var n=this._eventListeners&&this._eventListeners[e];if(n)for(var r=0;r<n.length;r++)n[r](t)},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(6),o=n(0),s=(r=o)&&r.__esModule?r:{default:r};t.default={template:'<a href="{{href}}"\n        onclick="return false;"\n        on-click="clicker($event)"\n        target="{{target}}"\n        class="{{class}}"\n        style="{{style}}"\n        >\n        <slot></slot>\n    </a>',clicker:function(e){var t=this.data.get("href");"string"==typeof t&&i.router.locator.redirect(t.replace(/^#/,"")),e.preventDefault?e.preventDefault():e.returnValue=!1},computed:{href:function(){var e=this.data.get("to");if("string"==typeof e){var t=(0,s.default)(e,i.router.locator.current);return"hash"===i.router.mode&&(t="#"+t),t}}}}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(2)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function s(){var e=location.href.indexOf("#");return e<0?"/":location.href.slice(e+1)||"/"}var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.current=s(),n.referrer="",n.hashChangeHandler=function(){n.redirect(s())},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.start=function(){window.addEventListener&&window.addEventListener("hashchange",this.hashChangeHandler,!1),window.attachEvent&&window.attachEvent("onhashchange",this.hashChangeHandler)},t.prototype.stop=function(){window.removeEventListener&&window.removeEventListener("hashchange",this.hashChangeHandler,!1),window.detachEvent&&window.detachEvent("onhashchange",this.hashChangeHandler)},t.prototype.redirect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!1};e=(0,i.default)(e,this.current);var n=this.current,r=e!==n;r?(this.referrer=n,this.current=e,location.hash=e):n=this.referrer,!r&&!t.force||t.silent||this.fire("redirect",{url:e,referrer:n})},t.prototype.reload=function(){this.redirect(this.current,{force:!0})},t}(r.default);t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(2)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return location.pathname+location.search}var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return n.current=s(),n.referrer="",n.popstateHandler=function(){n.referrer=n.current,n.current=s(),n.fire("redirect",{url:n.current,referrer:n.referrer})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.start=function(){window.addEventListener("popstate",this.popstateHandler)},t.prototype.stop=function(){window.removeEventListener("popstate",this.popstateHandler)},t.prototype.redirect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!1};e=(0,i.default)(e,this.current);var n=this.current,r=e!==n;r&&(this.referrer=n,this.current=e,history.pushState({},"",e)),!r&&!t.force||t.silent||this.fire("redirect",{url:e,referrer:n})},t.prototype.reload=function(){this.fire("redirect",{url:this.current,referrer:this.referrer})},t}(r.default);t.default=a,a.isSupport="pushState"in window.history},function(e,t,n){"use strict";t.__esModule=!0,t.Link=t.router=t.Router=t.version=void 0;var r=c(n(4)),i=c(n(5)),o=c(n(1)),s=c(n(3)),a=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var p=365611;function h(e){return e.prototype&&(5===e.prototype.nodeType||"san-cmpt"===e.prototype._type)}t.version="1.2.0";var l=t.Router=function(){function e(){var t=this,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mode,r=void 0===n?"hash":n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routes=[],this.routeAlives=[],this.listeners=[],this.locatorRedirectHandler=function(e){for(var n=(0,o.default)(e.url),r=void 0,i=0;i<t.routes.length;i++){var s=t.routes[i],a=s.rule.exec(n.path);if(a){r=s;for(var c=s.keys||[],p=1;p<a.length;p++){var h=c[p]||p,l=a[p];n.query[h]=l,n.params[h]=l}n.referrer=e.referrer,n.config=s.config;break}}var u=0,f=1,d={hash:n.hash,queryString:n.queryString,query:n.query,path:n.path,referrer:n.referrer,config:n.config,resume:m,suspend:function(){f=0},stop:function(){f=-1}},v=function(){f>0&&(u<t.listeners.length?(t.listeners[u].call(t,d,n.config),f>0&&m()):y())};function m(){f=1,u++,v()}var y=function(){if(r)t.doRoute(r,n);else for(var e=t.routeAlives.length;e--;)t.routeAlives[e].component.dispose(),t.routeAlives.splice(e,1)};v()},this.setMode(r)}return e.prototype.listen=function(e){this.listeners.push(e)},e.prototype.unlisten=function(e){for(var t=this.listeners.length;t--;)this.listeners[t]===e&&this.listeners.splice(t,1)},e.prototype.doRoute=function(e,t){for(var n=this,r=!1,i=this.routeAlives.length;i--;){var o=this.routeAlives[i];o.id===e.id?(o.component.data.set("route",t),o.component._callHook("route"),r=!0):(o.component.dispose(),this.routeAlives.splice(i,1))}r||(e.Component?h(e.Component)?this.attachCmpt(e,t):e.Component().then(function(r){h(r)?e.Component=r:r.__esModule&&h(r.default)&&(e.Component=r.default),n.attachCmpt(e,t)}):e.handler.call(this,t))},e.prototype.attachCmpt=function(e,t){var n=new e.Component;n.data.set("route",t),n._callHook("route");var r=e.target,i=(0,a.default)(r);if(!i)throw new Error('[SAN-ROUTER ERROR] Attach failed, target element "'+e.target+'" is not found.');n.attach(i),this.routeAlives.push({component:n,id:e.id})},e.prototype.add=function(e){var t=e.rule,n=e.handler,r=e.target,i=void 0===r?"#main":r,o=e.Component,s=[""];if("string"==typeof t){var a=t.replace(/\/:([a-z0-9_-]+)(?=\/|$)/gi,function(e,t){return s.push(t),"/([^/\\s]+)"});t=new RegExp("^"+a+"$","i")}if(!(t instanceof RegExp))throw new Error("[SAN-ROUTER ERROR] Rule must be string or RegExp!");var c=(++p).toString();return this.routes.push({id:c,rule:t,handler:n,keys:s,target:i,Component:o,config:e}),this},e.prototype.start=function(){return this.isStarted||(this.isStarted=!0,this.locator.on("redirect",this.locatorRedirectHandler),this.locator.start(),this.locator.reload()),this},e.prototype.stop=function(){return this.locator.un("redirect",this.locatorRedirectHandler),this.locator.stop(),this.isStarted=!1,this},e.prototype.setMode=function(e){if(e=e.toLowerCase(),this.mode!==e){this.mode=e;var t=!1;switch(this.isStarted&&(this.stop(),t=!0),e){case"hash":this.locator=new r.default;break;case"html5":this.locator=new i.default}return t&&this.start(),this}},e}();t.router=new l;t.Link=s.default},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){switch(void 0===e?"undefined":r(e)){case"object":return e;case"string":return document.querySelector?document.querySelector(e):document.getElementById(e.replace(/#/i,""))}}}])},e.exports=r()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){!function(n){var r=1,i=(new Date).getTime().toString(16).slice(8);function o(){return"_"+i+r++}function s(){}function a(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];void 0!==r&&(e[n]=r)}return e}function c(e,t){var n=e.prototype,r=new Function;r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,a(e.prototype,n)}function p(e,t){if(e&&e.length>0)for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}function h(e,t){var n=Function.prototype.bind,r=Array.prototype.slice;if(n&&e.bind===n)return n.apply(e,r.call(arguments,1));var i=r.call(arguments,2);return function(){return e.apply(t,i.concat(r.call(arguments)))}}function l(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function u(e){var t={};return p(e.split(","),function(e){t[e]=1}),t}var f=u("svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph");function d(e){return f[e]?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var m,y=[],g="function"==typeof Promise&&/native code/.test(Promise);function w(e,n){if(n&&(e=h(e,n)),y.push(e),!m)if(m=function(){var e=y.slice(0);y=[],m=null;for(var t=0,n=e.length;t<n;t++)e[t]()},"function"==typeof t)t(m);else if("function"==typeof MessageChannel){var r=new MessageChannel,i=r.port2;r.port1.onmessage=m,i.postMessage(1)}else g?Promise.resolve().then(m):setTimeout(m,0)}var x="undefined"!=typeof navigator&&navigator.userAgent.match(/msie\s*([0-9]+)/i),N=x?x[1]-0:0,b=N&&N<9;function E(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}9===N&&l(document,"selectionchange",function(){var e=document.activeElement;"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||E(e,"input")});var R=u("area,base,br,col,embed,hr,img,input,keygen,param,source,track,wbr"),C="<<anonymous>>";function T(e){return e&&1===e.nodeType?"element":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function _(e){var t=function(){};t.isRequired=s;var n=function(t,n,r,i,o){var s=n[r],a=T(s);if(i=i||C,null!=s)e(n,r,i,o);else if(t)throw new Error("[SAN ERROR] The `"+r+"` is marked as required in `"+i+"`, but its value is "+a)};return(t=h(n,null,!1)).isRequired=h(n,null,!0),t}function S(e){return _(function(t,n,r,i){var o=T(t[n]);if(o!==e)throw new Error("[SAN ERROR] Invalid "+r+" data `"+i+"` of type("+o+" supplied to "+r+", expected "+e+")")})}var A=(_(s),_(s),_(s),_(s),_(s),_(s),_(s));function O(e){this.source=e,this.len=this.source.length,this.index=0}function k(e){return(e=e||{}).textExpr||(e.directives=e.directives||{},e.props=e.props||[],e.events=e.events||[],e.children=e.children||[]),e}function I(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}A={any:_(s),array:S("array"),object:S("object"),func:S("function"),string:S("string"),number:S("number"),bool:S("boolean"),symbol:S("symbol"),arrayOf:function(e){return _(function(t,n,r,i){if("function"!=typeof e)throw new Error("[SAN ERROR] Data `"+n+"` of `"+r+"` has invalid DataType notation inside `arrayOf`, expected `function`");var o=t[n],s=T(o);if("array"!==s)throw new Error("[SAN ERROR] Invalid "+r+" data `"+i+"` of type("+s+" supplied to "+r+", expected array)");for(var a=0,c=o.length;a<c;a++)e(o,a,r,i+"["+a+"]")})},instanceOf:function(e){return _(function(t,n,r,i){var o=t[n];if(!(o instanceof e)){var s=o.constructor&&o.constructor.name?o.constructor.name:C,a=e.name||C;throw new Error("[SAN ERROR] Invalid "+r+" data `"+i+"` of type("+s+" supplied to "+r+", expected instance of "+a+")")}})},shape:function(e){return _(function(t,n,r,i){if("object"!==T(e))throw new Error("[SAN ERROR] Data `"+i+"` of `"+r+"` has invalid DataType notation inside `shape`, expected `object`");var o=t[n],s=T(o);if("object"!==s)throw new Error("[SAN ERROR] Invalid "+r+" data `"+i+"` of type("+s+" supplied to "+r+", expected object)");for(var a in e)if(e.hasOwnProperty(a)){var c=e[a];"function"==typeof c&&c(o,a,r,i+"."+a)}})},oneOf:function(e){return _(function(t,n,r,i){if("array"!==T(e))throw new Error("[SAN ERROR] Data `"+i+"` of `"+r+"` has invalid DataType notation inside `oneOf`, array is expected.");for(var o=t[n],s=0,a=e.length;s<a;s++)if(o===e[s])return;throw new Error("[SAN ERROR] Invalid "+r+" data `"+i+"` of value(`"+o+"` supplied to "+r+", expected one of "+e.join(",")+")")})},oneOfType:function(e){return _(function(t,n,r,i){if("array"!==T(e))throw new Error("[SAN ERROR] Data `"+n+"` of `"+r+"` has invalid DataType notation inside `oneOf`, array is expected.");for(var o=t[n],s=0,a=e.length;s<a;s++){var c=e[s];if("function"==typeof c)try{return void c(t,n,r,i)}catch(e){}}throw new Error("[SAN ERROR] Invalid "+r+" data `"+n+"` of value(`"+o+"` supplied to "+r+")")})},objectOf:function(e){return _(function(t,n,r,i){if("function"!=typeof e)throw new Error("[SAN ERROR] Data `"+n+"` of `"+r+"` has invalid DataType notation inside `objectOf`, expected function");var o=t[n],s=T(o);if("object"!==s)throw new Error("[SAN ERROR] Invalid "+r+" data `"+n+"` of type("+s+" supplied to "+r+", expected object)");for(var a in o)o.hasOwnProperty(a)&&e(o,a,r,i+"."+a)})},exact:function(e){return _(function(t,n,r,i,o){if("object"!==T(e))throw new Error("[SAN ERROR] Data `"+n+"` of `"+r+"` has invalid DataType notation inside `exact`");var s=t[n],c=T(s);if("object"!==c)throw new Error("[SAN ERROR] Invalid data `"+i+"` of type `"+c+"`(supplied to "+r+", expected `object`)");var p={};for(var h in a(p,e),a(p,s),p)if(p.hasOwnProperty(h)){var l=e[h];if(!l)throw new Error("[SAN ERROR] Invalid data `"+i+"` key `"+h+"` supplied to `"+r+"`. (`"+h+"` is not defined in `DataTypes.exact`)");if(!(h in s))throw new Error("[SAN ERROR] Invalid data `"+i+"` key `"+h+"` supplied to `"+r+"`. (`"+h+"` is marked `required` in `DataTypes.exact`)");l(s,h,r,i+"."+h,o)}})}},O.prototype.currentCode=function(){return this.charCode(this.index)},O.prototype.cut=function(e,t){return this.source.slice(e,t)},O.prototype.go=function(e){this.index+=e},O.prototype.nextCode=function(){return this.go(1),this.currentCode()},O.prototype.charCode=function(e){return this.source.charCodeAt(e)},O.prototype.goUntil=function(e){for(var t;this.index<this.len&&(t=this.currentCode());)switch(t){case 32:case 9:this.index++;break;default:return t===e?(this.index++,1):void 0}},O.prototype.match=function(e){e.lastIndex=this.index;var t=e.exec(this.source);return t&&(this.index=e.lastIndex),t};var L={STRING:1,NUMBER:2,BOOL:3,ACCESSOR:4,INTERP:5,CALL:6,TEXT:7,BINARY:8,UNARY:9,TERTIARY:10,OBJECT:11,ARRAY:12};function P(e){return{type:L.ACCESSOR,paths:e}}function j(e){return e.match(/\s*([\$0-9a-z_]+)/gi)[1]}function M(e){var t=function e(t){var n=function e(t){var n=function(e){var t=$(e);e.goUntil();var n=e.currentCode();switch(n){case 61:case 33:if(61===e.nextCode())return n+=61,61===e.nextCode()&&(n+=61,e.go(1)),{type:L.BINARY,operator:n,segs:[t,$(e)]};e.go(-1)}return t}(t);t.goUntil();if(38===t.currentCode()){if(38===t.nextCode())return t.go(1),{type:L.BINARY,operator:76,segs:[n,e(t)]};t.go(-1)}return n}(t);t.goUntil();if(124===t.currentCode()){if(124===t.nextCode())return t.go(1),{type:L.BINARY,operator:248,segs:[n,e(t)]};t.go(-1)}return n}(e);if(e.goUntil(),63===e.currentCode()){e.go(1);var n=M(e);if(e.goUntil(),58===e.currentCode())return e.go(1),{type:L.TERTIARY,segs:[t,n,M(e)]}}return t}function U(e){var t=j(e);switch(t){case"true":case"false":return{type:L.BOOL,value:"true"===t}}var n=P([{type:L.STRING,value:t}]);e:for(;;)switch(e.currentCode()){case 46:e.go(1),n.paths.push({type:L.STRING,value:j(e)});break;case 91:e.go(1),n.paths.push(M(e)),e.goUntil(93);break;default:break e}return n}function D(e){switch(e.goUntil(),e.currentCode()){case 33:return e.go(1),{type:L.UNARY,expr:D(e)};case 34:case 39:return function(e){var t,n=e.currentCode(),r=e.index;e:for(;t=e.nextCode();)switch(t){case 92:e.go(1);break;case n:e.go(1);break e}var i=e.cut(r,e.index);return{type:L.STRING,value:new Function("return "+i)()}}(e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e){var t=e.match(/\s*(-?[0-9]+(\.[0-9]+)?)/g);return{type:L.NUMBER,value:+t[1]}}(e);case 40:return function(e){e.go(1);var t=M(e);return e.goUntil(41),t}(e);case 91:e.go(1);for(var t=[];!e.goUntil(93);){var n={};t.push(n),46===e.currentCode()&&e.match(/\.\.\.\s*/g)&&(n.spread=!0),n.expr=M(e),e.goUntil(44)}return{type:L.ARRAY,items:t};case 123:e.go(1);for(var r=[];!e.goUntil(125);){n={};r.push(n),46===e.currentCode()&&e.match(/\.\.\.\s*/g)?(n.spread=!0,n.expr=M(e)):(n.name=D(e),e.goUntil(58)?n.expr=M(e):n.expr=n.name,n.name.type===L.ACCESSOR&&(n.name=n.name.paths[0])),e.goUntil(44)}return{type:L.OBJECT,items:r}}return U(e)}function B(e){for(var t=D(e);;){e.goUntil();var n=e.currentCode();switch(n){case 37:case 42:case 47:e.go(1),t={type:L.BINARY,operator:n,segs:[t,D(e)]};continue}break}return t}function F(e){for(var t=B(e);;){e.goUntil();var n=e.currentCode();switch(n){case 43:case 45:e.go(1),t={type:L.BINARY,operator:n,segs:[t,B(e)]};continue}break}return t}function $(e){var t=F(e);e.goUntil();var n=e.currentCode();switch(n){case 60:case 62:return 61===e.nextCode()&&(n+=61,e.go(1)),{type:L.BINARY,operator:n,segs:[t,F(e)]}}return t}function H(e){if("object"==typeof e&&e.type)return e;var t=M(new O(e));return t.raw=e,t}function Y(e,t){e.goUntil();var n=U(e),r=[];if(e.goUntil(40))for(;!e.goUntil(41);)r.push(M(e)),e.goUntil(44);else t&&(r=t);return{type:L.CALL,name:n,args:r}}function q(e,t){var n=Y(new O(e),t);return n.raw=e,n}function G(e){for(var t=new O(e),n={type:L.INTERP,expr:M(t),filters:[],raw:e};t.goUntil(124);){var r=Y(t);switch(r.name.paths[0].value){case"html":break;case"raw":n.original=1;break;default:n.filters.push(r)}}return n}var z={lt:"<",gt:">",nbsp:" ",quot:'"',emsp:" ",ensp:" ",thinsp:" ",copy:"©",reg:"®",zwnj:"‌",zwj:"‍",amp:"&"};function W(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+\\]/g,function(e){return"\\"+e})}function X(e,t){t=t||["{{","}}"];var n,r=new RegExp(W(t[0])+"\\s*([\\s\\S]+?)\\s*"+W(t[1]),"ig"),i=new O(e),o=0,s={type:L.TEXT,segs:[]};function a(e){var t;e&&s.segs.push({type:L.STRING,literal:e,value:(t=e,t.replace(/&#([0-9]+);/g,function(e,t){return String.fromCharCode(+t)}).replace(/&#x([0-9a-f]+);/gi,function(e,t){return String.fromCharCode(parseInt(t,16))}).replace(/&([a-z]+);/gi,function(e,t){return z[t]||e}))})}for(var c=t[1].length;null!=(n=i.match(r));){var p=n[1],h=n[0].length;i.cut(i.index+1-c,i.index+1)===t[1]&&(p+=i.cut(i.index,i.index+1),i.go(1),h++),a(i.cut(o,i.index-h));var l=G(p);s.original=s.original||l.original,s.segs.push(l),o=i.index}return a(i.cut(o)),1===s.segs.length&&s.segs[0].type===L.STRING&&(s.value=s.segs[0].value),s}var J={for:function(e){var t=new O(e),n=t.match(/^\s*([\$0-9a-z_]+)(\s*,\s*([\$0-9a-z_]+))?\s+in\s+/gi);if(n)return{item:H(n[1]),index:H(n[3]||"$index"),value:U(t)};throw new Error("[SAN FATAL] for syntax error: "+e)},ref:function(e,t){return{value:X(e,t.delimiters)}},if:function(e){return{value:H(e.replace(/(^\{\{|\}\}$)/g,""))}},elif:function(e){return{value:H(e.replace(/(^\{\{|\}\}$)/g,""))}},else:function(e){return{value:{}}},bind:function(e){return{value:H(e.replace(/(^\{\{|\}\}$)/g,""))}},html:function(e){return{value:H(e.replace(/(^\{\{|\}\}$)/g,""))}},transition:function(e){return{value:q(e)}}};function V(e){var t=e.expr;if(t.type===L.TEXT)switch(t.segs.length){case 0:e.expr={type:L.BOOL,value:!0};break;case 1:(t=e.expr=t.segs[0]).type===L.INTERP&&0===t.filters.length&&(e.expr=t.expr)}}function K(e,t,n,r){var i,o,s=t.indexOf("-");switch(s>0&&(o=t.slice(0,s),i=t.slice(s+1)),o){case"on":var a,c={name:i,modifier:{}};for(e.events.push(c);(a=n.indexOf(":"))>0;){var p=n.slice(0,a);if(!/^[a-z]+$/i.test(p))break;c.modifier[p]=!0,n=n.slice(a+1)}c.expr=q(n,[P([{type:L.STRING,value:"$event"}])]);break;case"san":case"s":!function(e,t,n,r){"else-if"===t&&(t="elif");var i=J[t];i&&((e.directives[t]=i(n,r)).raw=n)}(e,i,n,r);break;case"prop":Q(e,i,n,r);break;case"var":e.vars||(e.vars=[]),i=I(i),e.vars.push({name:i,expr:H(n.replace(/(^\{\{|\}\}$)/g,""))});break;default:Q(e,t,n,r)}}function Q(e,t,n,r){var i=n.match(/^\{=\s*(.*?)\s*=\}$/);if(i)e.props.push({name:t,expr:H(i[1]),x:1,raw:n});else{var o={name:t,expr:X(n,r.delimiters),raw:n};switch(t){case"class":case"style":p(o.expr.segs,function(e){e.type===L.INTERP&&e.filters.push({type:L.CALL,name:P([{type:L.STRING,value:"_"+o.name}]),args:[]})});break;case"checked":"input"===e.tagName&&V(o)}e.props.push(o)}}function Z(e,t){for(var n=["ROOT"],r=1,i=e.length;r<i;r++)n.push(e[r].tagName);return t&&n.push(t),n.join(">")}function ee(e,t){(t=t||{}).trimWhitespace=t.trimWhitespace||"none";var n=k();if("string"!=typeof e)return n;for(var r,i=new O(e=e.replace(/<!--([\s\S]*?)-->/gm,"").replace(/(^\s+|\s+$)/g,"")),o=/<(\/)?([a-z0-9-]+)\s*/gi,s=/([-:0-9a-z\(\)\[\]]+)(\s*=\s*(['"])([^\3]*?)\3)?\s*/gi,a=n,c=[n],p=0,h=0;null!=(r=i.match(o));){var l=r[1],u=r[2].toLowerCase();if(N(e.slice(h,i.index-r[0].length)),l&&62===i.currentCode()){var f=p;if(R[u])throw new Error("[SAN ERROR] "+Z(c,u)+" is a `auto closed` tag, so it cannot be closed with </"+u+">");if(c[f].tagName!==u&&("table"!==u||"tbody"!==c[f].tagName))throw new Error("[SAN ERROR] "+Z(c)+" is closed with "+u);for(;f>0&&c[f].tagName!==u;)f--;f>0&&(a=c[p=f-1]),i.go(1)}else{if(l){if(60===i.currentCode())throw new Error("[SAN ERROR] "+Z(c)+"'s close tag not closed");throw new Error("[SAN ERROR] "+Z(c)+"'s close tag has attributes")}if(!l){for(var d=k({tagName:u}),v=R[u];;){var m=i.currentCode();if(62===m){i.go(1);break}if(47===m&&62===i.charCode(i.index+1)){i.go(2),v=1;break}if(60===m)throw new Error("[SAN ERROR] "+Z(c,u)+" is not closed");var y=i.match(s);if(y){if(61===i.charCode(y.index+y[1].length)&&!y[2])throw new Error("[SAN ERROR] "+Z(c,u)+" attribute `"+y[1]+'` is not wrapped with ""');K(d,y[1],y[2]?y[4]:"",t)}}if(d.directives.else||d.directives.elif)for(var g=a.children.length;g--;){var w=a.children[g];if(!w.textExpr){if(!w.directives.if)throw new Error("[SAN FATEL] else not match if.");w.elses=w.elses||[],w.elses.push(d);break}a.children.splice(g,1)}else{if("tr"===d.tagName&&"table"===a.tagName){var x=k({tagName:"tbody"});a.children.push(x),a=x,c[++p]=x}a.children.push(d)}v||(a=d,c[++p]=d)}}h=i.index}return N(i.cut(h)),n;function N(e){switch(t.trimWhitespace){case"blank":/^\s+$/.test(e)&&(e=null);break;case"all":e=e.replace(/(^\s+|\s+$)/g,"")}e&&a.children.push(k({textExpr:X(e,t.delimiters)}))}}var te={url:encodeURIComponent,_class:function(e){return e instanceof Array?e.join(" "):e},_style:function(e){if("object"==typeof e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}return e},_sep:function(e,t){return e?t+e:e}};function ne(e,t,n){if(null!=e.value)return e.value;var r=se.get(t,e);if(null==r){switch(e.type){case L.UNARY:r=!ne(e.expr,t,n);break;case L.BINARY:var i=ne(e.segs[0],t,n),o=ne(e.segs[1],t,n);switch(e.operator){case 37:r=i%o;break;case 43:r=i+o;break;case 45:r=i-o;break;case 42:r=i*o;break;case 47:r=i/o;break;case 60:r=i<o;break;case 62:r=i>o;break;case 76:r=i&&o;break;case 94:r=i!=o;break;case 121:r=i<=o;break;case 122:r=i==o;break;case 123:r=i>=o;break;case 155:r=i!==o;break;case 183:r=i===o;break;case 248:r=i||o}break;case L.TERTIARY:r=ne(e.segs[ne(e.segs[0],t,n)?1:2],t,n);break;case L.ARRAY:r=[];for(var s=0,c=e.items.length;s<c;s++){var p=ne((h=e.items[s]).expr,t,n);h.spread?p&&(r=r.concat(p)):r.push(p)}break;case L.OBJECT:r={};for(s=0,c=e.items.length;s<c;s++){var h;p=ne((h=e.items[s]).expr,t,n);h.spread?p&&a(r,p):r[ne(h.name,t,n)]=p}break;case L.ACCESSOR:r=t.get(e);break;case L.INTERP:if(r=ne(e.expr,t,n),n)for(s=0,c=e.filters.length;s<c;s++){var l=e.filters[s],u=l.name.paths[0].value;n.filters[u]?r=n.filters[u].apply(n,[r].concat(re(l.args,t,n))):te[u]&&(r=te[u](r,l.args[0]?l.args[0].value:""))}null==r&&(r="");break;case L.TEXT:var f="";for(s=0,c=e.segs.length;s<c;s++){var d=e.segs[s];f+=d.value||ne(d,t,n)}return f}se.set(t,e,r)}return r}function re(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(ne(e[i],t,n));return r}var ie={},oe=1,se={clear:function(){oe||(oe=1,ie={})},set:function(e,t,n){t.raw&&(oe=0,(ie[e.id]=ie[e.id]||{})[t.raw]=n)},get:function(e,t){if(t.raw&&ie[e.id])return ie[e.id][t.raw]}};function ae(e,t,n){for(var r=0,i=t.length;r<i;r++)if(ce(e,t[r],n))return 1;return 0}function ce(e,t,n){switch(t.type){case L.ACCESSOR:for(var r=t.paths,i=r.length,o=e.paths,s=o.length,a=1,c=0;c<i;c++){var h=r[c];if(h.type===L.ACCESSOR&&ce(e,h,n))return 1;a&&c<s&&(h.value||ne(h,n))!=(o[c].value||ne(o[c],n))&&(a=0)}return a&&(a=Math.max(1,s-i+2)),a;case L.UNARY:return ce(e,t.expr,n)?1:0;case L.TEXT:case L.BINARY:case L.TERTIARY:return ae(e,t.segs,n);case L.ARRAY:case L.OBJECT:c=0;for(var l=t.items.length;c<l;c++)if(ce(e,t.items[c].expr,n))return 1;return 0;case L.INTERP:var u;return ce(e,t.expr,n)?1:(p(t.filters,function(t){return!(u=ae(e,t.args,n))}),u?1:0)}return 0}var pe=1,he=2;function le(e){return this[e]}var ue={start:{},compiled:{is:le,compiled:!0},inited:{is:le,compiled:!0,inited:!0},created:{is:le,compiled:!0,inited:!0,created:!0},attached:{is:le,compiled:!0,inited:!0,created:!0,attached:!0},leaving:{is:le,compiled:!0,inited:!0,created:!0,attached:!0,leaving:!0},detached:{is:le,compiled:!0,inited:!0,created:!0,detached:!0},disposed:{is:le,disposed:!0}},fe={TEXT:1,IF:2,FOR:3,ELEM:4,CMPT:5,SLOT:6,TPL:7};function de(e,t){var n=e.hotspot.props[t];if(null!=n)return e.props[n]}var ve={readonly:"readOnly",cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder",for:"htmlFor"},me={prop:function(e,t,n,r){var i=ve[n]||n;t=null==t?"":t,i in e?e[i]=t:e.setAttribute(n,t)},output:function(e,t,n){n.set(t.expr,e.el[t.name],{target:{id:e.id,prop:t.name}})}},ye={prop:function(e,t,n){e.setAttribute(n,t)}},ge={prop:function(e,t,n,r,i){e[ve[n]||n]=!!(i&&""===i.raw||t&&"false"!==t&&"0"!==t)}},we={style:{prop:function(e,t){e.style.cssText=t}},class:{prop:function(e,t){e.className=t}},slot:{prop:s},readonly:ge,disabled:ge,autofocus:ge,required:ge,draggable:ge},xe={checkbox:function(e,t){var n=!1;return p(e,function(e){return!(n=e===t)}),n},radio:function(e,t){return e===t}};var Ne={input:{multiple:ge,checked:{prop:function(e,t,n,r){var i=function(e,t,n){var r=de(e.aNode,"value"),i=de(e.aNode,"type");if(r&&i){var o=ne(i.expr,e.scope,e.owner);if(xe[o]){var s=de(e.aNode,"checked");return s.hintExpr||(s.hintExpr=r.expr),!!xe[o](t,ne(r.expr,e.scope,e.owner))}}}(r,t);ge.prop(e,null!=i?i:t,"checked",r)},output:function(e,t,n){var r=e.el,i=de(e.aNode,"value"),o=de(e.aNode,"type")||{};if(i&&o)switch(o.raw){case"checkbox":return void n[r.checked?"push":"remove"](t.expr,r.value);case"radio":return void(r.checked&&n.set(t.expr,r.value,{target:{id:e.id,prop:t.name}}))}me.output(e,t,n)}}},option:{value:{prop:function(e,t,n,r){me.prop(e,t,n,r),function(e,t){var n=e.parent;for(;n&&"select"!==n.tagName;)n=n.parent;if(n){var r,i,o=null;if((r=de(n.aNode,"value"))&&(i=r.expr)&&(o=n.nodeType===fe.CMPT?ne(i,n.data,n):ne(i,n.scope,n.owner)||""),o===t)return 1}}(r,t)&&(e.selected=!0)}}},select:{value:{prop:function(e,t){e.value=t||""},output:me.output}}};function be(e,t){if(f[e])return ye;var n=Ne[e];n||(n=Ne[e]={});var r=n[t];return r||(r=we[t]||me,n[t]=r),r}function Ee(e,t,n){var r=e.option.target;return r&&r.id===t.id&&(!n||r.prop===n)}function Re(e,t,n){for(var r=e,i=0;null!=r&&i<t.paths.length;i++)r=r[ne(t.paths[i],n)];return r}function Ce(e,t){this.id=o(),this.parent=t,this.raw=e||{},this.listeners=[]}function Te(e,t,n,r){if(0===t.length)return n;var i,o=ne(t[0],r);if(e instanceof Array){var s=+o;return(i=e.slice(0))[isNaN(s)?o:s]=Te(e[s],t.slice(1),n,r),i}if("object"==typeof e){for(var a in i={},e)a!==o&&(i[a]=e[a]);return i[o]=Te(e[o]||{},t.slice(1),n,r),i}return e}function _e(e,t,n,r){var i=Re(this,e.expr.name,n);if("function"==typeof i){var o=new Ce({$event:t?r:r||window.event},n);i.apply(this,re(e.expr.args,o,this))}}Ce.prototype.checkDataTypes=function(){this.typeChecker&&this.typeChecker(this.raw)},Ce.prototype.setTypeChecker=function(e){this.typeChecker=e},Ce.prototype.listen=function(e){"function"==typeof e&&this.listeners.push(e)},Ce.prototype.unlisten=function(e){for(var t=this.listeners.length;t--;)e&&this.listeners[t]!==e||this.listeners.splice(t,1)},Ce.prototype.fire=function(e){if(!(e.option.silent||e.option.silence||e.option.quiet))for(var t=0;t<this.listeners.length;t++)this.listeners[t].call(this,e)},Ce.prototype.get=function(e,t){var n=this.raw;if(!e)return n;var r=(e=H(e)).paths;if(t=t||this,null==(n=n[r[0].value])&&this.parent)n=this.parent.get(e,t);else for(var i=1,o=r.length;null!=n&&i<o;i++)n=n[r[i].value||ne(r[i],t)];return n},Ce.prototype.set=function(e,t,n){n=n||{};var r=e;if((e=H(e)).type!==L.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data set: "+r);(this.get(e)!==t||n.force)&&(se.clear(),this.raw=Te(this.raw,e.paths,t,this),this.fire({type:pe,expr:e,value:t,option:n}),this.checkDataTypes())},Ce.prototype.merge=function(e,t,n){n=n||{};var r=e;if((e=H(e)).type!==L.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data merge: "+r);if("object"!=typeof this.get(e))throw new Error("[SAN ERROR] Merge Expects a Target of Type 'object'; got "+typeof oldValue);if("object"!=typeof t)throw new Error("[SAN ERROR] Merge Expects a Source of Type 'object'; got "+typeof t);for(var i in t)this.set(P(e.paths.concat([{type:L.STRING,value:i}])),t[i],n)},Ce.prototype.apply=function(e,t,n){var r=e;if((e=H(e)).type!==L.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data apply: "+r);var i=this.get(e);if("function"!=typeof t)throw new Error("[SAN ERROR] Invalid Argument's Type in Data apply: Expected Function but got "+typeof t);this.set(e,t(i),n)},Ce.prototype.splice=function(e,t,n){n=n||{};var r=e;if((e=H(e)).type!==L.ACCESSOR)throw new Error("[SAN ERROR] Invalid Expression in Data splice: "+r);var i=this.get(e),o=[];if(i instanceof Array){var s=t[0],a=i.length;s>a?s=a:s<0&&(s=a+s)<0&&(s=0);var c=i.slice(0);o=c.splice.apply(c,t),se.clear(),this.raw=Te(this.raw,e.paths,c,this),this.fire({expr:e,type:he,index:s,deleteCount:o.length,value:o,insertions:t.slice(2),option:n})}return this.checkDataTypes(),o},Ce.prototype.push=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[r.length,0,t],n),r.length+1},Ce.prototype.pop=function(e,t){var n=this.get(e);if(n instanceof Array){var r=n.length;if(r)return this.splice(e,[r-1,1],t)[0]}},Ce.prototype.shift=function(e,t){return this.splice(e,[0,1],t)[0]},Ce.prototype.unshift=function(e,t,n){var r=this.get(e);if(r instanceof Array)return this.splice(e,[0,0,t],n),r.length+1},Ce.prototype.removeAt=function(e,t,n){this.splice(e,[t,1],n)},Ce.prototype.remove=function(e,t,n){var r=this.get(e);if(r instanceof Array)for(var i=r.length;i--;)if(r[i]===t){this.splice(e,[i,1],n);break}};var Se=u("div,span,input,button,textarea,form,label,dl,dt,dd,ul,ol,li,a,b,u,h1,h2,h3,h4,h5,h6"),Ae="undefined"!=typeof window;function Oe(e,t,n){t&&(n?t.insertBefore(e,n):t.appendChild(e))}function ke(e){if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&function(e){return/^(col|colgroup|frameset|style|table|tbody|tfoot|thead|tr|select)$/i.test(e.tagName)}(e)){var t='[SAN WARNING] set html for element "'+e.tagName+'" may cause an error in old IE';if("object"!=typeof console||!console.warn)throw new Error(t);console.warn(t)}}function Ie(e){for(var t=[],n=e;n;){switch(n.nodeType){case fe.ELEM:t.unshift(n.tagName);break;case fe.IF:t.unshift("if");break;case fe.FOR:t.unshift("for["+n.anode.directives.for.raw+"]");break;case fe.SLOT:t.unshift("slot["+(n.name||"default")+"]");break;case fe.TPL:t.unshift("template");break;case fe.CMPT:t.unshift("component["+(n.subTag||"root")+"]");break;case fe.TEXT:t.unshift("text")}n=n.parent}return t}function Le(e,t,n,r,i){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=r,i){var o=i.current;if(o)switch(o.nodeType){case 8:if("s-text"===o.data)for(this.sel=o,o.data=this.id,i.goNext();;){if(!(o=i.current))throw new Error("[SAN REVERSE ERROR] Text end flag not found. \nPaths: "+Ie(this).join(" > "));if(a="text",8===(s=o).nodeType&&s.data==="/s-"+a){this.el=o,i.goNext(),o.data=this.id;break}i.goNext()}break;case 3:i.goNext(),this.aNode.textExpr.original||(this.el=o)}else this.el=document.createTextNode(""),Oe(this.el,i.target,i.current)}var s,a}Le.prototype.nodeType=fe.TEXT,Le.prototype.attach=function(e,t){if(this.content=ne(this.aNode.textExpr,this.scope,this.owner),this.aNode.textExpr.original){this.sel=document.createComment(this.id),Oe(this.sel,e,t),this.el=document.createComment(this.id),Oe(this.el,e,t);var n=document.createElement("script");e.insertBefore(n,this.el),n.insertAdjacentHTML("beforebegin",this.content),e.removeChild(n)}else this.el=document.createTextNode(this.content),Oe(this.el,e,t)},Le.prototype.dispose=function(){this._prev=null,this.el=null,this.sel=null};var Pe=Ae&&("string"==typeof document.createTextNode("").textContent?"textContent":"data");function je(e,t){var n=[];for(var r in e)n.push(r);for(var r in t)!e[r]&&n.push(r);return n}function Me(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.overview){var i=r.expr.paths;r.overview=i[0].value,i.length>1&&(r.extOverview=i[0].value+"."+i[1].value,r.wildOverview=i[0].value+".*")}if(t[r.overview]||r.wildOverview&&t[r.wildOverview]||r.extOverview&&t[r.extOverview])return!0}}function Ue(e){this.raw=[],this.index=0,this.target=e;for(var t,n=e.firstChild;n;){switch(t=n.nextSibling,n.nodeType){case 3:/^\s*$/.test(n.data||n.textContent)?v(n):this.raw.push(n);break;case 1:case 8:this.raw.push(n)}n=t}this.current=this.raw[this.index],this.next=this.raw[this.index+1]}function De(e,t,n,r,i){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=r,this.lifeCycle=ue.start,this.children=[],this._elFns=[],this.parentComponent=r.nodeType===fe.CMPT?r:r.parentComponent,this.id=o(),Nt(this),e.directives.bind&&(this._spreadData=ne(e.directives.bind.value,this.scope,this.owner)),this._toPhase("inited"),i){var s=i.current;if(!s)throw new Error("[SAN REVERSE ERROR] Element not found. \nPaths: "+Ie(this).join(" > "));if(1!==s.nodeType)throw new Error("[SAN REVERSE ERROR] Element type not match, expect 1 but "+s.nodeType+".\nPaths: "+Ie(this).join(" > "));if(s.tagName.toLowerCase()!==this.tagName)throw new Error("[SAN REVERSE ERROR] Element tagName not match, expect "+this.tagName+" but meat "+s.tagName.toLowerCase()+".\nPaths: "+Ie(this).join(" > "));this.el=s,i.goNext(),nt(this),this._attached()}}function Be(e){e.el=null,e.sel=null,e.owner=null,e.scope=null,e.aNode=null,e.parent=null,e.parentComponent=null,e.children=null,e._toPhase&&e._toPhase("disposed"),e._ondisposed&&e._ondisposed()}function Fe(e,t,n,r){var i=n.nodeType===fe.CMPT,o=i?n:n.childOwner||n.owner;if(r=r||(i?n.data:n.childScope||n.scope),e.textExpr)return new Le(e,o,r,n,t);if(e.directives.if)return new et(e,o,r,n,t);if(e.directives.for)return new Qe(e,o,r,n,t);if(Se[e.tagName])return new De(e,o,r,n,t);switch(e.tagName){case"slot":return new ze(e,o,r,n,t);case"template":return new tt(e,o,r,n,t);default:var s=o.getComponentType(e);if(s)return new s({aNode:e,owner:o,scope:r,parent:n,subTag:e.tagName,reverseWalker:t})}return new De(e,o,r,n,t)}function $e(e,t,n){for(var r=e.children,i=r&&r.length;i--;)r[i].dispose(t,n)}function He(e,t){for(var n=0,r=e.children.length;n<r;n++)e.children[n]._update(t)}function Ye(e){this.lifeCycle=ue[e]||this.lifeCycle}function qe(e,t,n){var r=t.nodeType===fe.CMPT,i=r?t:t.childOwner||t.owner;if(n=n||(r?t.data:t.childScope||t.scope),e.textExpr)return new Le(e,i,n,t);if(e.directives.if)return new et(e,i,n,t);if(e.directives.for)return new Qe(e,i,n,t);if(Se[e.tagName])return new De(e,i,n,t);switch(e.tagName){case"slot":return new ze(e,i,n,t);case"template":return new tt(e,i,n,t);default:var o=i.getComponentType(e);if(o)return new o({aNode:e,owner:i,scope:n,parent:t,subTag:e.tagName})}return new De(e,i,n,t)}function Ge(e,t){this.sel=document.createComment(this.id),Oe(this.sel,e,t),function(e,t,n){t=t||e.el;for(var r=e.aNode.children,i=0;i<r.length;i++){var o=qe(r[i],e);e.children.push(o),o.attach(t,n)}}(this,e,t),this.el=document.createComment(this.id),Oe(this.el,e,t),this._toPhase("attached")}function ze(e,t,n,r,i){var s=k();this.aNode=s,this.owner=t,this.scope=n,this.parent=r,this.parentComponent=r.nodeType===fe.CMPT?r:r.parentComponent,this.id=o(),this.lifeCycle=ue.start,this.children=[],this.nameBind=de(e,"name"),this.nameBind&&(this.isNamed=!0,this.name=ne(this.nameBind.expr,this.scope,this.owner));var a,c=t.givenSlots;c&&(a=this.isNamed?c.named[this.name]:c.noname),a&&(this.isInserted=!0),s.children=a||e.children.slice(0);var h=this;s.vars=e.vars;var l={};p(s.vars,function(e){h.isScoped=!0,l[e.name]=ne(e.expr,n,t)}),this.isInserted&&(this.childOwner=t.owner,this.childScope=t.scope),this.isScoped&&(this.childScope=new Ce(l,this.childScope||this.scope)),t.slotChildren.push(this),i&&(this.sel=document.createComment(this.id),Oe(this.sel,i.target,i.current),p(this.aNode.children,function(e){h.children.push(Fe(e,i,h))}),this.el=document.createComment(this.id),Oe(this.el,i.target,i.current),this._toPhase("attached"))}function We(e,t){var n={};for(var r in t=t||{},e)t[r]||(n[r]=e[r]);return n}function Xe(e){$e(this,e,1),e||v(this.el),Be(this)}function Je(){this.el=this.el||document.createComment(this.id)}function Ve(e,t,n){this.id=o(),this.parent=e.scope,this.raw={},this.listeners=[],this.directive=e.aNode.directives.for,this.raw[this.directive.item.raw]=t,this.raw[this.directive.index.raw]=n}function Ke(e,t,n){var r=new Ve(e,t,n);return qe(e.itemANode,e,r)}function Qe(e,t,n,r,i){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=r,this.parentComponent=r.nodeType===fe.CMPT?r:r.parentComponent,this.id=o(),this.children=[],this.itemANode=k({children:e.children,props:e.props,events:e.events,tagName:e.tagName,vars:e.vars,hotspot:e.hotspot,directives:We(e.directives,{for:1})}),this.param=e.directives.for,i){var s=this;p(ne(this.param.value,this.scope,this.owner),function(e,t){var n=new Ve(s,e,t),r=Fe(s.itemANode,i,s,n);s.children.push(r)}),this._create(),Oe(this.el,i.target,i.current)}}function Ze(e){return k({children:e.children,props:e.props,events:e.events,tagName:e.tagName,vars:e.vars,hotspot:e.hotspot,directives:We(e.directives,{if:1,else:1,elif:1})})}function et(e,t,n,r,i){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=r,this.parentComponent=r.nodeType===fe.CMPT?r:r.parentComponent,this.id=o(),this.children=[],this.cond=this.aNode.directives.if.value,i){if(ne(this.cond,this.scope,this.owner))this.elseIndex=-1,this.children[0]=Fe(Ze(e),i,this);else{var s=this;p(e.elses,function(e,t){var n=e.directives.elif;if(!n||n&&ne(n.value,s.scope,s.owner))return s.elseIndex=t,s.children[0]=Fe(Ze(e),i,s),!1})}this._create(),Oe(this.el,i.target,i.current)}}function tt(e,t,n,r,i){if(this.aNode=e,this.owner=t,this.scope=n,this.parent=r,this.parentComponent=r.nodeType===fe.CMPT?r:r.parentComponent,this.id=o(),this.lifeCycle=ue.start,this.children=[],i){this.sel=document.createComment(this.id),Oe(this.sel,i.target,i.current);var s=this;p(this.aNode.children,function(e){s.children.push(Fe(e,i,s))}),this.el=document.createComment(this.id),Oe(this.el,i.target,i.current),this._toPhase("attached")}}function nt(e){if(!e.aNode.directives.html){var t=new Ue(e.el);p(e.aNode.children,function(n){e.children.push(Fe(n,t,e))})}}function rt(e,t,n){var r=n.name;be(e.tagName,r).prop(e.el,t,r,e,n)}Le.prototype._update=function(e){if(!this.aNode.textExpr.value)for(var t=e?e.length:0;t--;)if(ce(e[t].expr,this.aNode.textExpr,this.scope)){var n=ne(this.aNode.textExpr,this.scope,this.owner);if(n!==this.content)if(this.content=n,this.aNode.textExpr.original){for(var r=this.sel.nextSibling,i=this.el.parentNode;r!==this.el;){var o=r;r=r.nextSibling,v(o)}ke(i);var s=document.createElement("script");i.insertBefore(s,this.el),s.insertAdjacentHTML("beforebegin",n),i.removeChild(s)}else this.el[Pe]=n;return}},Ue.prototype.goNext=function(){this.current=this.raw[++this.index],this.next=this.raw[this.index+1]},De.prototype.nodeType=fe.ELEM,De.prototype.attach=ct,De.prototype.detach=lt,De.prototype.dispose=ut,De.prototype._create=st,De.prototype._toPhase=Ye,De.prototype._onEl=ft,De.prototype._doneLeave=function(){this.leaveDispose?this.lifeCycle.disposed||xt(this,this.disposeNoDetach,this.disposeNoTransition):this.lifeCycle.attached&&(v(this.el),this._toPhase("detached"))},De.prototype._update=function(e){if(Me(e,this.aNode.hotspot.data)){var t=this.aNode.directives.bind;if(t)for(var n=e.length;n--;)if(ce(e[n].expr,t.value,this.scope)){for(var r=ne(t.value,this.scope,this.owner),i=je(r,this._spreadData),o=0;o<i.length;o++){var s=i[o],a=r[s];s in this.aNode.hotspot.props||a===this._spreadData[s]||be(this.tagName,s).prop(this.el,a,s,this)}this._spreadData=r;break}for(var c=this.aNode.hotspot.dynamicProps,p=(o=0,c.length);o<p;o++)for(var h=c[o],l=0,u=e.length;l<u;l++){var f=e[l];if(!Ee(f,this,h.name)&&(ce(f.expr,h.expr,this.scope)||h.hintExpr&&ce(f.expr,h.hintExpr,this.scope))){rt(this,ne(h.expr,this.scope,this.owner),h);break}}var d=this.aNode.directives.html;if(d){for(n=e.length;n--;)if(ce(e[n].expr,d.value,this.scope))return ke(this.el),this.el.innerHTML=ne(d.value,this.scope,this.owner),!1}else He(this,e)}},De.prototype._attached=wt,ze.prototype.nodeType=fe.SLOT,ze.prototype.dispose=function(e,t){this.childOwner=null,this.childScope=null,$e(this,e,t),Be(this)},ze.prototype.attach=Ge,ze.prototype._toPhase=Ye,ze.prototype._update=function(e,t){var n=this;if(this.nameBind&&ne(this.nameBind.expr,this.scope,this.owner)!==n.name)return this.owner._notifyNeedReload(),!1;if(t)this.isInserted&&He(this,e);else if(this.isScoped){p(this.aNode.vars,function(e){n.childScope.set(e.name,ne(e.expr,n.scope,n.owner))});var r=[];p(e,function(e){n.isInserted||r.push(e),p(n.aNode.vars,function(t){var i=t.name,o=ce(e.expr,t.expr,n.scope);o<1||(e.type!==he?r.push({type:pe,expr:P([{type:L.STRING,value:i}]),value:n.childScope.get(i),option:e.option}):2===o&&r.push({expr:P([{type:L.STRING,value:i}]),type:he,index:e.index,deleteCount:e.deleteCount,value:e.value,insertions:e.insertions,option:e.option}))})}),He(this,r)}else this.isInserted||He(this,e)},Ve.prototype.exprResolve=function(e){var t=this.directive,n=this;function r(e){return e.type===L.ACCESSOR&&e.paths[0].value===t.item.paths[0].value?P(t.value.paths.concat({type:L.NUMBER,value:n.get(t.index)},e.paths.slice(1))):e}var i=[];return p((e=r(e)).paths,function(e){i.push(e.type===L.ACCESSOR&&e.paths[0].value===t.index.paths[0].value?{type:L.NUMBER,value:n.get(t.index)}:r(e))}),P(i)},c(Ve,Ce),p(["set","remove","unshift","shift","push","pop","splice"],function(e){Ve.prototype["_"+e]=Ce.prototype[e],Ve.prototype[e]=function(t){t=this.exprResolve(H(t)),se.clear(),this.parent[e].apply(this.parent,[t].concat(Array.prototype.slice.call(arguments,1)))}}),Qe.prototype.nodeType=fe.FOR,Qe.prototype._create=Je,Qe.prototype.dispose=Xe,Qe.prototype.attach=function(e,t){this._create(),Oe(this.el,e,t);for(var n=this.el||e.firstChild,r=ne(this.param.value,this.scope,this.owner),i=r&&r.length||0,o=0;o<i;o++){var s=Ke(this,r[o],o);this.children.push(s),s.attach(e,n)}},Qe.prototype.detach=function(){this.lifeCycle.attached&&($e(this),this.children=[],v(this.el),this.lifeCycle=ue.detached)},Qe.prototype._update=function(e){var t=this,n=this.aNode.directives.transition,r=this.children.length,i=new Array(r);function o(e){for(var t=0,n=i.length;t<n;t++)(i[t]=i[t]||[]).push(e)}for(var s,a=[],c=this.el.parentNode,p=c.firstChild,h=c.lastChild,l=r>0&&p===this.children[0].el&&(h===this.el||h===this.children[r-1].el)||0===r&&p===this.el&&h===this.el,u=ne(this.param.value,this.scope,this.owner),f=u&&u.length||0,d=0,v=e.length;d<v;d++){var m=e[d],y=ce(m.expr,this.param.value,this.scope);if(y){if(y>2){var g=m.expr.paths,w=this.param.value.paths.length,x=+ne(g[w],this.scope,this.owner);isNaN(x)?o(m):(m={type:m.type,expr:P(this.param.item.paths.concat(g.slice(w+1))),value:m.value,index:m.index,deleteCount:m.deleteCount,insertions:m.insertions,option:m.option},(i[x]=i[x]||[]).push(m),this.children[x]&&(m.type===he?this.children[x].scope._splice(m.expr,[].concat(m.index,m.deleteCount,m.insertions),{silent:1}):this.children[x].scope._set(m.expr,m.value,{silent:1})))}else if(m.type!==he){r>f&&(a=a.concat(this.children.slice(f)),i=i.slice(0,f),this.children=this.children.slice(0,f));for(var N=0;N<f;N++)(i[N]=i[N]||[]).push({type:pe,option:m.option,expr:P(this.param.item.paths.slice(0)),value:u[N]}),y<2&&i[N].push(m),this.children[N]?this.children[N].scope._set(this.param.item,u[N],{silent:1}):this.children[N]=0;s=1}else if(2===y&&m.type===he&&!s){var b=m.index,E=m.deleteCount,R=m.insertions.length,C=R-E;if(C){var T={type:pe,option:m.option,expr:this.param.index};for(N=b+E;N<this.children.length;N++)(i[N]=i[N]||[]).push(T),this.children[N]&&this.children[N].scope._set(T.expr,N-E+R,{silent:1})}for(var _=E;_--;){if(_<R)(i[N=b+_]=i[N]||[]).push({type:pe,option:m.option,expr:P(this.param.item.paths.slice(0)),value:m.insertions[_]}),this.children[N]&&this.children[N].scope._set(this.param.item,m.insertions[_],{silent:1})}if(C<0)a=a.concat(this.children.splice(b+R,-C)),i.splice(b+R,-C);else if(C>0){var S=[b+E,0].concat(new Array(C));this.children.splice.apply(this.children,S),i.splice.apply(i,S)}}}else o(m)}var A=this.children.length;if(A!==r){var O={type:pe,option:{},expr:P(this.param.value.paths.concat({type:L.STRING,value:"length"}))};Me([O],this.aNode.hotspot.data)&&o(O)}this._doCreateAndUpdate=D;var k=!n&&l&&0===A,I=0;for(N=0;N<a.length;N++){var j=a[N];j?(j._ondisposed=U,j.dispose(k,k)):U()}if(k){var M=c.cloneNode(!1);c.parentNode.replaceChild(M,c),this.el=document.createComment(this.id),M.appendChild(this.el)}function U(){++I===a.length&&D===t._doCreateAndUpdate&&D()}function D(){if(t._doCreateAndUpdate=null,!k){var e=t.el;if(0===r&&l)for(var n=0;n<A;n++)t.children[n]=Ke(t,u[n],n),t.children[n].attach(c,e);else{var o=-1;for(n=0;n<A;n++){var s=t.children[n];if(s)i[n]&&s._update(i[n]);else{if(o<n)for(o=n+1,e=null;o<A;){var a=t.children[o];if(a){e=a.sel||a.el;break}o++}t.children[n]=Ke(t,u[n],n),t.children[n].attach(c,e||t.el)}}}}}0===a.length&&D()},et.prototype.nodeType=fe.IF,et.prototype._create=Je,et.prototype.dispose=Xe,et.prototype.attach=function(e,t){var n,r,i=this;ne(this.cond,this.scope,this.owner)?(r=qe(Ze(i.aNode),i),n=-1):p(i.aNode.elses,function(e,t){var o=e.directives.elif;if(!o||o&&ne(o.value,i.scope,i.owner))return r=qe(Ze(e),i),n=t,!1}),r&&(i.children[0]=r,r.attach(e,t),i.elseIndex=n),this._create(),Oe(this.el,e,t)},et.prototype._update=function(e){var t,n=this,r=n.aNode;if(ne(this.cond,this.scope,this.owner)?t=-1:p(n.aNode.elses,function(e,i){var o=e.directives.elif;if(o&&ne(o.value,n.scope,n.owner)||!o)return t=i,r=e,!1}),t===n.elseIndex)He(n,e);else{var i=n.children[0];n.children=[],i?(i._ondisposed=o,i.dispose()):o(),n.elseIndex=t}function o(){if(void 0!==t){var e=qe(Ze(r),n);e.attach(n.el.parentNode,n.el),n.children[0]=e}}},tt.prototype.nodeType=fe.TPL,tt.prototype.attach=Ge,tt.prototype.dispose=function(e,t){$e(this,e,t),Be(this)},tt.prototype._toPhase=Ye,tt.prototype._update=function(e){He(this,e)};var it,ot={class:1,style:1,id:1};function st(){if(!this.lifeCycle.created){var e=this.nodeType===fe.CMPT,t=this.aNode.hotspot.sourceNode,n=this.aNode.props;for(var r in t?(this.el=t.cloneNode(),n=this.aNode.hotspot.dynamicProps):this.el=d(this.tagName),this._spreadData)be(this.tagName,r).prop(this.el,this._spreadData[r],r,this);for(var i=0,o=n.length;i<o;i++){var s=n[i],a=e?ne(s.expr,this.data,this):ne(s.expr,this.scope,this.owner);!a&&ot[s.name]||rt(this,a,s)}this._toPhase("created")}}function at(e,t,n){if(e._create(),Oe(e.el,t,n),!e._contentReady){var r=e.aNode.directives.html;if(r)e.el.innerHTML=ne(r.value,e.scope,e.owner);else for(var i=e.aNode.children,o=0;o<i.length;o++){var s=qe(i[o],e);e.children.push(s),s.attach(e.el)}e._contentReady=1}}function ct(e,t){this.lifeCycle.attached||(at(this,e,t),this._attached())}function pt(e){var t,n=e.nodeType===fe.CMPT?e.givenANode:e.aNode,r=n&&n.directives.transition,i=e.owner;return r&&i&&"function"==typeof(t=Re(i,r.value.name))&&(t=t.apply(i,re(r.value.args,e.scope,i))),t||e.transition}function ht(e){if(!e.lifeCycle.leaving)if(e.disposeNoTransition)e._doneLeave();else{var t=pt(e);t&&t.leave?(e._toPhase("leaving"),t.leave(e.el,function(){e._doneLeave()})):e._doneLeave()}}function lt(){ht(this)}function ut(e,t){this.leaveDispose=1,this.disposeNoDetach=e,this.disposeNoTransition=t,ht(this)}function ft(e,t,n){"function"==typeof t&&(n=!!n,this._elFns.push([e,t,n]),l(this.el,e,t,n))}function dt(e,t){var n=!0,r=t;if(p(e.expr.name.paths,function(e){return!!e.value&&(r=r[e.value],n=!!r)}),!n){var i=[];p(e.expr.name.paths,function(e){i.push(e.value)});var o="[SAN WARNING] "+e.name+' listen fail,"'+i.join(".")+'" not exist';if("object"!=typeof console||!console.warn)throw new Error(o);console.warn(o)}}function vt(){this.composing&&(this.composing=0,E(this,"input"))}function mt(){this.composing=1}function yt(e,t){be(this.tagName,e.name).output(this,e,t)}function gt(e,t,n){var r=h(yt,e,t,n);return function(e){this.composing||r(e)}}function wt(){this._toPhase("created");for(var e=this.nodeType===fe.CMPT,t=e?this.data:this.scope,n=this.aNode.hotspot.xProps,r=0,i=n.length;r<i;r++){var o=n[r];switch(o.name){case"value":switch(this.tagName){case"input":case"textarea":Ae&&window.CompositionEvent&&(this._onEl("change",vt),this._onEl("compositionstart",mt),this._onEl("compositionend",vt)),this._onEl("oninput"in this.el?"input":"propertychange",gt(this,o,t));break;case"select":this._onEl("change",h(yt,this,o,t))}break;case"checked":switch(this.tagName){case"input":switch(this.el.type){case"checkbox":case"radio":this._onEl("click",h(yt,this,o,t))}}}}var a=e?this.aNode.events.concat(this.nativeEvents):this.aNode.events;for(r=0,i=a.length;r<i;r++){var c=a[r],p=e?this:this.owner;c.modifier.native&&(p=p.owner,t=this.scope||p.data),dt(c,p),this._onEl(c.name,h(_e,p,c,0,t),c.modifier.capture)}if(this._toPhase("attached"),this._isInitFromEl)this._isInitFromEl=!1;else{var l=pt(this);l&&l.enter&&l.enter(this.el,s)}}function xt(e){$e(e,1,1);for(var t,n,r,i,o=e._elFns.length;o--;){var s=e._elFns[o];t=e.el,n=s[0],r=s[1],i=s[2],t.addEventListener?t.removeEventListener(n,r,i):t.detachEvent("on"+n,r)}e._elFns=null,e.disposeNoDetach&&e.parent||v(e.el),e._toPhase&&e._toPhase("detached"),e._spreadData=null,Be(e)}function Nt(e){e.tagName=e.tagName||e.aNode.tagName||"div",b&&e.tagName.indexOf("-")>0&&(e.tagName="div")}function bt(e,t){Ae&&it&&it.debug&&window.__san_devtool__&&window.__san_devtool__.emit(e,t)}function Et(e){e=e||{},this.lifeCycle=ue.start,this.children=[],this._elFns=[],this.listeners={},this.slotChildren=[];var t=this.constructor;this.filters=this.filters||t.filters||{},this.computed=this.computed||t.computed||{},this.messages=this.messages||t.messages||{},this.subTag=e.subTag,Ct(t),function(e){var t=[];function n(e,n){var r=t.length;p(t,function(t,i){n&&i===r-1||p(e,function(e){t.hotspot.data[e]=1})})}!function e(r){if(!r.hotspot){if(t.push(r),r.textExpr)r.hotspot={data:{}},n(Tt(r.textExpr));else{var i;for(var o in Ae&&r.tagName&&!/^(template|slot|select|input|option)$/i.test(r.tagName)&&(i=d(r.tagName)),r.hotspot={data:{},dynamicProps:[],xProps:[],props:{},sourceNode:i},p(r.vars,function(e){n(Tt(e.expr))}),p(r.props,function(e){n(Tt(e.expr))}),r.directives){var s=r.directives[o];n(Tt(s.value),!/^(html|bind)$/.test(o))}if(p(r.elses,function(t){e(t)}),p(r.children,function(t){e(t)}),p(r.props,function(e,t){r.hotspot.props[e.name]=t,"id"===e.name?(e.id=!0,r.hotspot.idProp=e,r.hotspot.dynamicProps.push(e)):null!=e.expr.value?i&&be(r.tagName,e.name).prop(i,e.expr.value,e.name,r):(e.x&&r.hotspot.xProps.push(e),r.hotspot.dynamicProps.push(e))}),"option"===r.tagName&&!de(r,"value")&&r.children[0]){var a={name:"value",expr:r.children[0].textExpr};r.props.push(a),r.hotspot.dynamicProps.push(a),r.hotspot.props.value=r.props.length-1}}t.pop()}}(e.prototype.aNode)}(t);var n=this,r=t.prototype.aNode;n.givenANode=e.aNode,n.givenNamedSlotBinds=[],n.givenSlots={named:{}},this.owner=e.owner,this.scope=e.scope,this.el=e.el;var i,s,c=e.parent;if(c&&(this.parent=c,this.parentComponent=c.nodeType===fe.CMPT?c:c&&c.parentComponent),this.id=o(),this.el){var l=this.el.firstChild;if(3===l.nodeType&&(l=l.nextSibling),l&&8===l.nodeType){var u=l.data.match(/^\s*s-data:([\s\S]+)?$/);if(u){var f=u[1];e.data=new Function("return "+f.replace(/^[\s\n]*/,""))(),l.previousSibling&&v(l.previousSibling),v(l)}}}this.nativeEvents=[],this.givenANode&&(this._createGivenSlots(),p(this.givenANode.events,function(t){t.modifier.native?n.nativeEvents.push(t):(dt(t,e.owner),n.on(t.name,h(_e,e.owner,t,1,e.scope),t))}),this.tagName=r.tagName||n.givenANode.tagName,this.binds=(i=this.givenANode.props,s=[],p(i,function(e){s.push({name:I(e.name),expr:e.expr,x:e.x,raw:e.raw})}),s),this.givenANode.directives.bind&&this.scope&&(this._spreadData=ne(this.givenANode.directives.bind.value,this.scope,this.owner))),this._toPhase("compiled"),this.data=new Ce(a("function"==typeof this.initData&&this.initData()||{},e.data||this._spreadData)),Nt(this),p(this.binds,function(e){if(V(e),n.scope){var t=ne(e.expr,n.scope,n.owner);void 0!==t&&n.data.set(e.name,t)}});var m=this.dataTypes||t.dataTypes;if(m){var y=function(e,t){return function(n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if("function"!=typeof i)throw new Error("[SAN ERROR] "+t+":"+r+" is invalid; it must be a function, usually from san.DataTypes");i(n,r,t,r)}}}(m,this.subTag||this.name||t.name);this.data.setTypeChecker(y),this.data.checkDataTypes()}for(var g in this.computedDeps={},this.computed)this.computedDeps[g]||this._calcComputed(g);this.dataChanger||(this.dataChanger=h(this._dataChanger,this),this.data.listen(this.dataChanger)),this._toPhase("inited"),this.el&&(nt(this),this._attached());var w=e.reverseWalker;if(w){var x=w.current;x&&1===x.nodeType&&(this.el=x,w.goNext()),nt(this),this._attached()}}function Rt(e){if("function"==typeof e)return e;if("object"!=typeof e)throw new Error("[SAN FATAL] param must be a plain object.");function t(e){Et.call(this,e)}return t.prototype=e,c(t,Et),t}function Ct(e){var t=e.prototype;if(!t.hasOwnProperty("_cmptReady")){t.components=e.components||t.components||{};var n=t.components;for(var r in n){var i=n[r];"object"==typeof i?n[r]=Rt(i):"self"===i&&(n[r]=e)}t._cmptReady=1}if(!t.hasOwnProperty("aNode")){t.aNode=k();var o=e.template||t.template;if(o){var s=ee(o,{trimWhitespace:t.trimWhitespace||e.trimWhitespace,delimiters:t.delimiters||e.delimiters}),a=s.children[0];if(1!==s.children.length||a.textExpr)throw new Error("[SAN FATAL] template must have a root element.");t.aNode=a,"template"===a.tagName&&(a.tagName=null);for(var c={class:{name:"class",expr:X('{{class | _class | _sep(" ")}}')},style:{name:"style",expr:X('{{style | _style | _sep(";")}}')},id:{name:"id",expr:X("{{id}}")}},p=a.props.length;p--;){var h=a.props[p],l=c[h.name];l&&(a.props.splice(p,1),c[h.name]=h,"id"!==h.name&&(h.expr.segs.push(l.expr.segs[0]),h.expr.value=null))}a.props.push(c.class,c.style,c.id)}}}function Tt(e){var t=[];function n(e){p(e,function(e){t=t.concat(Tt(e))})}switch(e.type){case L.ACCESSOR:var r=e.paths;t.push(r[0].value),r.length>1&&t.push(r[0].value+"."+(r[1].value||"*")),n(r.slice(1));break;case L.UNARY:return Tt(e.expr);case L.TEXT:case L.BINARY:case L.TERTIARY:n(e.segs);break;case L.INTERP:t=Tt(e.expr),p(e.filters,function(e){n(e.name.paths),n(e.args)})}return t}bt.start=function(e){it=e,bt("san",e)},Et.prototype.getComponentType=function(e){return this.components[e.tagName]},Et.prototype._createGivenSlots=function(){var e=this;e.givenSlots.named={},e.givenANode&&e.scope&&p(e.givenANode.children,function(t){var n,r=!t.textExpr&&de(t,"slot");if(r){!e.givenSlotInited&&e.givenNamedSlotBinds.push(r);var i=ne(r.expr,e.scope,e.owner);(n=e.givenSlots.named[i])||(n=e.givenSlots.named[i]=[])}else e.givenSlotInited||(n=e.givenSlots.noname)||(n=e.givenSlots.noname=[]);n&&n.push(t)}),e.givenSlotInited=!0},Et.prototype.nodeType=fe.CMPT,Et.prototype.nextTick=w,Et.prototype._callHook=Et.prototype._toPhase=function(e){this.lifeCycle[e]||(this.lifeCycle=ue[e]||this.lifeCycle,"function"==typeof this[e]&&this[e](),this["_after"+e]=1,bt("comp-"+e,this))},Et.prototype.on=function(e,t,n){"function"==typeof t&&(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({fn:t,declaration:n}))},Et.prototype.un=function(e,t){for(var n=this.listeners[e],r=n&&n.length;r--;)t&&t!==n[r].fn||n.splice(r,1)},Et.prototype.fire=function(e,t){var n=this;p(this.listeners[e],function(e){e.fn.call(n,t)})},Et.prototype._calcComputed=function(e){var t=this.computedDeps[e];t||(t=this.computedDeps[e]={}),this.data.set(e,this.computed[e].call({data:{get:h(function(n){if(!n)throw new Error("[SAN ERROR] call get method in computed need argument");return t[n]||(t[n]=1,this.computed[n]&&this._calcComputed(n),this.watch(n,function(){this._calcComputed(e)})),this.data.get(n)},this)}}))},Et.prototype.dispatch=function(e,t){for(var n=this.parentComponent;n;){var r=n.messages[e]||n.messages["*"];if("function"==typeof r){r.call(n,{target:this,value:t,name:e});break}n=n.parentComponent}},Et.prototype.slot=function(e){var t=[],n=this;return function r(i){p(i,function(i){i.nodeType===fe.SLOT&&i.owner===n?(i.isNamed&&i.name===e||!i.isNamed&&!e)&&t.push(i):r(i.children)})}(this.children),t},Et.prototype.ref=function(e){var t,n=this;function r(i){p(i,function(i){return function(i){if(i.nodeType===fe.TEXT)return;if(i.owner===n){var o;switch(i.nodeType){case fe.ELEM:(o=i.aNode.directives.ref)&&ne(o.value,i.scope,n)===e&&(t=i.el);break;case fe.CMPT:(o=i.givenANode.directives.ref)&&ne(o.value,i.scope,n)===e&&(t=i)}!t&&r(i.slotChildren)}!t&&r(i.children)}(i),!t})}return r(this.children),t},Et.prototype._update=function(e){if(!this.lifeCycle.disposed){var t=this,n=!1;if(this._notifyNeedReload=function(){n=!0},e){var r=this.givenANode.directives.bind;if(r)for(var i=e.length;i--;)if(ce(e[i].expr,r.value,this.scope)){for(var o=ne(r.value,this.scope,this.owner),s=je(o,this._spreadData),a=0,c=s.length;a<c;a++){var h=s[a];h in this.givenANode.hotspot.props||o[h]===this._spreadData[h]||t.data.set(h,o[h],{target:{id:t.owner.id}})}this._spreadData=o;break}if(p(e,function(e){var r=e.expr;p(t.binds,function(n){var i,o=n.name,s=n.expr;!Ee(e,t,o)&&(i=ce(r,s,t.scope))&&(i>2&&(o=P([{type:L.STRING,value:o}].concat(r.paths.slice(s.paths.length))),s=r),t.data.set(o,ne(s,t.scope,t.owner),{target:{id:t.owner.id}}))}),p(t.givenNamedSlotBinds,function(e){return!(n=n||ce(r,e.expr,t.scope))})}),n)this._createGivenSlots(),this._repaintChildren();else for(var l=this.slotChildren.length;l--;){var u=this.slotChildren[l];u.lifeCycle.disposed?this.slotChildren.splice(l,1):u.isInserted&&u._update(e,1)}}var f=this.dataChanges;f&&(this.dataChanges=null,p(this.aNode.hotspot.dynamicProps,function(e){p(f,function(n){if(ce(n.expr,e.expr,t.data)||e.hintExpr&&ce(n.expr,e.hintExpr,t.data))return rt(t,ne(e.expr,t.data,t),e),!1})}),He(this,f),n&&(this._createGivenSlots(),this._repaintChildren()),this._toPhase("updated"),this.owner&&(this._updateBindxOwner(f),this.owner._update())),this._notifyNeedReload=null}},Et.prototype._updateBindxOwner=function(e){var t=this;this.owner&&p(e,function(e){p(t.binds,function(n){var r=e.expr;if(n.x&&!Ee(e,t.owner)&&ce(r,H(n.name),t.data)){var i=n.expr;r.paths.length>1&&(i=P(n.expr.paths.concat(r.paths.slice(1)))),t.scope.set(i,ne(r,t.data,t),{target:{id:t.id,prop:n.name}})}})})},Et.prototype._repaintChildren=function(){$e(this,0,1),this.children=[],this._contentReady=0,this.slotChildren=[],at(this)},Et.prototype._dataChanger=function(e){this.lifeCycle.created&&this._aftercreated?(this.dataChanges||(w(this._update,this),this.dataChanges=[]),this.dataChanges.push(e)):this.lifeCycle.inited&&this.owner&&this._updateBindxOwner([e])},Et.prototype.watch=function(e,t){var n=H(e);this.data.listen(h(function(e){ce(e.expr,n,this.data)&&t.call(this,ne(n,this.data,this),e)},this))},Et.prototype.dispose=ut,Et.prototype._doneLeave=function(){this.leaveDispose?this.lifeCycle.disposed||(this.slotChildren=null,this.data.unlisten(),this.dataChanger=null,this.dataChanges=null,xt(this,this.disposeNoDetach,this.disposeNoTransition),this.listeners=null,this.givenANode=null,this.givenSlots=null,this.givenNamedSlotBinds=null):this.lifeCycle.attached&&(v(this.el),this._toPhase("detached"))},Et.prototype._attached=wt,Et.prototype.attach=ct,Et.prototype.detach=lt,Et.prototype._create=st,Et.prototype._onEl=ft;var _t={version:"3.5.9",debug:!0,Component:Et,defineComponent:Rt,compileComponent:Ct,parseTemplate:ee,parseExpr:H,ExprType:L,LifeCycle:ue,NodeType:fe,nextTick:w,Data:Ce,evalExpr:ne,inherits:c,DataTypes:A};e.exports=_t,bt.start(_t)}()}).call(this,n(13).setImmediate)},function(e,t,n){var r,i,o={};n(10),(r=n(5))&&r.__esModule&&Object.keys(r).length>1&&console.warn("[san-loader] src/demo.san: named exports in *.san files are ignored."),i=n(4);var s={};r&&(s=r.__esModule?r.default:r),i&&(s.template=i);var a=n(2).defineComponent(s);e.exports=a,e.exports.__esModule&&(e.exports=e.exports.default),a.computed||(a.computed={}),Object.keys(o).forEach(function(e){var t=o[e];a.computed[e]=function(){return t}})},function(e,t){e.exports='\n<div class="hello">hello {{msg}} </div>\n'},function(e,t,n){"use strict";n.r(t),t.default={initData:()=>({msg:"Hi"})}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,p=0,h=[],l=n(6);function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(g(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(g(r.parts[s],t));o[r.id]={id:r.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function d(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=h[h.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),h.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),d(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var s=p++;n=c||(c=m(t)),r=N.bind(null,n,s,!1),i=N.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=l(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return u(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}e&&u(f(e,t),t);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function N(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){(e.exports=n(8)(!0)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.hello {\n  color: red;\n}\n","",{version:3,sources:["/home/shimeng/Documents/ife2018/mvvm/00webpack/src/demo.san?3cf7f6ca"],names:[],mappings:";;;;;;;;;;;;;;;AAeA;EACA,WAAA;CACA",file:"demo.san",sourcesContent:['<template>\n  <div class="hello">hello {{msg}} </div>\n</template>\n\n<script>\n  export default {\n    initData() {\n      return {\n        msg: "Hi",\n      };\n    }\n  }\n<\/script>\n\n<style>\n  .hello {\n    color: red;\n  }\n</style>\n\n'],sourceRoot:""}])},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,p=[],h=!1,l=-1;function u(){h&&c&&(h=!1,c.length?p=c.concat(p):l=-1,p.length&&f())}function f(){if(!h){var e=a(u);h=!0;for(var t=p.length;t;){for(c=p,p=[];++l<t;)c&&c[l].run();l=-1,t=p.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new d(e,t)),1!==p.length||h||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,c=1,p={},h=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){d(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return p[c]=i,r(c),c++},u.clearImmediate=f}function f(e){delete p[e]}function d(e){if(h)setTimeout(d,0,e);else{var t=p[e];if(t){h=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),h=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(11))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(12),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);n(2);var r=n(0),i=n(3),o=n.n(i);console.log("Hello world!"),r.router.add({rule:"/",Component:o.a,target:"#app"}),r.router.start()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19zYW4tcm91dGVyQDEuMi4wQHNhbi1yb3V0ZXIvZGlzdC9zYW4tcm91dGVyLnNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fc2FuQDMuNS45QHNhbi9kaXN0L3Nhbi5kZXYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlbW8uc2FuIiwid2VicGFjazovLy8uL3NyYy9kZW1vLnNhbj9iYzYzIiwid2VicGFjazovLy9kZW1vLnNhbiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3N0eWxlLWxvYWRlckAwLjIxLjBAc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fc3R5bGUtbG9hZGVyQDAuMjEuMEBzdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMC4yOC4xMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby5zYW4/YzExNiIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby5zYW4/ZTM5YiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3Byb2Nlc3NAMC4xMS4xMEBwcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19zZXRpbW1lZGlhdGVAMS4wLjVAc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3RpbWVycy1icm93c2VyaWZ5QDIuMC4xMEB0aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZhY3RvcnkiLCJzb3VyY2UiLCJiYXNlIiwic291cmNlTG9jIiwiX3BhcnNlVXJsMiIsImJhc2VMb2MiLCJzb3VyY2VQYXRoIiwicGF0aCIsImluZGV4T2YiLCJzb3VyY2VTZWdzIiwic3BsaXQiLCJiYXNlU2VncyIsInBvcCIsImxlbmd0aCIsInNlZyIsInB1c2giLCJ1bnNoaWZ0Iiwiam9pbiIsInF1ZXJ5U3RyaW5nIiwib2JqIiwiX3BhcnNlVXJsIiwiZGVmYXVsdCIsInVybCIsInJlc3VsdCIsImhhc2giLCJwYXJhbXMiLCJxdWVyeSIsImhhc2hTdGFydCIsInNsaWNlIiwicXVlcnlTdGFydCIsImZvckVhY2giLCJxdWVyeVNlZyIsImVxdWFsSW5kZXgiLCJrZXkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb25jYXQiLCJFdmVudFRhcmdldCIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwib24iLCJ0eXBlIiwiZm4iLCJfZXZlbnRMaXN0ZW5lcnMiLCJ1biIsImxpc3RlbmVycyIsImxlbiIsInNwbGljZSIsImZpcmUiLCJhcmdzIiwiRXJyb3IiLCJfbWFpbiIsIl9yZXNvbHZlVXJsIiwiX3Jlc29sdmVVcmwyIiwidGVtcGxhdGUiLCJjbGlja2VyIiwiZSIsImhyZWYiLCJkYXRhIiwicm91dGVyIiwibG9jYXRvciIsInJlZGlyZWN0IiwicmVwbGFjZSIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJjb21wdXRlZCIsImN1cnJlbnQiLCJtb2RlIiwiX2V2ZW50VGFyZ2V0MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJnZXRMb2NhdGlvbiIsImluZGV4IiwibG9jYXRpb24iLCJMb2NhdG9yIiwiX0V2ZW50VGFyZ2V0IiwiX3RoaXMiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInJlZmVycmVyIiwiaGFzaENoYW5nZUhhbmRsZXIiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJzdGFydCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsInN0b3AiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJvcHRpb25zIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiZm9yY2UiLCJpc0NoYW5nZWQiLCJzaWxlbnQiLCJyZWxvYWQiLCJwYXRobmFtZSIsInNlYXJjaCIsInBvcHN0YXRlSGFuZGxlciIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpc1N1cHBvcnQiLCJMaW5rIiwiUm91dGVyIiwidmVyc2lvbiIsIl9oYXNoMiIsIl9odG1sMiIsIl9saW5rMiIsIl9lbGVtZW50U2VsZWN0b3IyIiwicm91dGVJRCIsImlzQ29tcG9uZW50IiwiQyIsIm5vZGVUeXBlIiwiX3R5cGUiLCJfcmVmJG1vZGUiLCJyb3V0ZXMiLCJyb3V0ZUFsaXZlcyIsImxvY2F0b3JSZWRpcmVjdEhhbmRsZXIiLCJyb3V0ZUl0ZW0iLCJfaSIsIml0ZW0iLCJtYXRjaCIsInJ1bGUiLCJleGVjIiwia2V5cyIsImoiLCJjb25maWciLCJzdGF0ZSIsImxpc3RlbmVyRXZlbnQiLCJyZXN1bWUiLCJuZXh0Iiwic3VzcGVuZCIsImRvTmV4dCIsInJvdXRlQWN0aW9uIiwiZG9Sb3V0ZSIsImNvbXBvbmVudCIsImRpc3Bvc2UiLCJzZXRNb2RlIiwibGlzdGVuIiwibGlzdGVuZXIiLCJ1bmxpc3RlbiIsIl90aGlzMiIsImlzVXBkYXRlQWxpdmUiLCJyb3V0ZUFsaXZlIiwiaWQiLCJzZXQiLCJfY2FsbEhvb2siLCJDb21wb25lbnQiLCJhdHRhY2hDbXB0IiwidGhlbiIsIkNtcHQiLCJoYW5kbGVyIiwidGFyZ2V0IiwidGFyZ2V0RWwiLCJhdHRhY2giLCJhZGQiLCJfY29uZmlnJHRhcmdldCIsInJlZ1RleHQiLCJSZWdFeHAiLCJ0b1N0cmluZyIsImlzU3RhcnRlZCIsInRvTG93ZXJDYXNlIiwicmVzdGFydCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsInNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwic2V0SW1tZWRpYXRlIiwicm9vdCIsImd1aWRJbmRleCIsImd1aWRQcmVmaXgiLCJEYXRlIiwiZ2V0VGltZSIsImd1aWQiLCJlbXB0eSIsImV4dGVuZCIsImluaGVyaXRzIiwic3ViQ2xhc3NQcm90byIsIkYiLCJlYWNoIiwiYXJyYXkiLCJiaW5kIiwiZnVuYyIsInRoaXNBcmciLCJuYXRpdmVCaW5kIiwiQXJyYXkiLCJhcHBseSIsImVsIiwiZXZlbnROYW1lIiwiY2FwdHVyZSIsInNwbGl0U3RyMk9iaiIsInN2Z1RhZ3MiLCJjcmVhdGVFbCIsInRhZ05hbWUiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50IiwicmVtb3ZlRWwiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJuZXh0SGFuZGxlciIsIm5leHRUYXNrcyIsImlzTmF0aXZlUHJvbWlzZSIsIlByb21pc2UiLCJ0ZXN0IiwibmV4dFRpY2siLCJ0YXNrcyIsIk1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQiLCJwb3J0MiIsInBvcnQxIiwib25tZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImllVmVyc2lvbk1hdGNoIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaWUiLCJpZU9sZFRoYW45IiwidHJpZ2dlciIsImV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiYWN0aXZlRWxlbWVudCIsImF1dG9DbG9zZVRhZ3MiLCJBTk9OWU1PVVNfQ0xBU1NfTkFNRSIsImdldERhdGFUeXBlIiwiY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlciIsInZhbGlkYXRlIiwiY2hhaW5lZENoZWNrZXIiLCJpc1JlcXVpcmVkIiwiY2hlY2tUeXBlIiwiZGF0YU5hbWUiLCJjb21wb25lbnROYW1lIiwiZnVsbERhdGFOYW1lIiwiZGF0YVZhbHVlIiwiZGF0YVR5cGUiLCJjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIiLCJEYXRhVHlwZXMiLCJXYWxrZXIiLCJjcmVhdGVBTm9kZSIsInRleHRFeHByIiwiZGlyZWN0aXZlcyIsInByb3BzIiwiZXZlbnRzIiwiY2hpbGRyZW4iLCJrZWJhYjJjYW1lbCIsImFscGhhIiwidG9VcHBlckNhc2UiLCJhbnkiLCJzdHJpbmciLCJudW1iZXIiLCJib29sIiwic3ltYm9sIiwiYXJyYXlPZiIsImFycmF5SXRlbUNoZWNrZXIiLCJpbnN0YW5jZU9mIiwiZXhwZWN0ZWRDbGFzcyIsImRhdGFWYWx1ZUNsYXNzTmFtZSIsImV4cGVjdGVkQ2xhc3NOYW1lIiwic2hhcGUiLCJzaGFwZVR5cGVzIiwic2hhcGVLZXlOYW1lIiwiY2hlY2tlciIsIm9uZU9mIiwiZXhwZWN0ZWRFbnVtVmFsdWVzIiwib25lT2ZUeXBlIiwiZXhwZWN0ZWRFbnVtT2ZUeXBlVmFsdWVzIiwib2JqZWN0T2YiLCJ0eXBlQ2hlY2tlciIsImRhdGFLZXlOYW1lIiwiZXhhY3QiLCJzZWNyZXQiLCJkYXRhVmFsdWVUeXBlIiwiYWxsS2V5cyIsImN1cnJlbnRDb2RlIiwiY2hhckNvZGUiLCJjdXQiLCJlbmQiLCJnbyIsImRpc3RhbmNlIiwibmV4dENvZGUiLCJjaGFyQ29kZUF0IiwiZ29VbnRpbCIsImNvZGUiLCJyZWciLCJsYXN0SW5kZXgiLCJFeHByVHlwZSIsIlNUUklORyIsIk5VTUJFUiIsIkJPT0wiLCJBQ0NFU1NPUiIsIklOVEVSUCIsIkNBTEwiLCJURVhUIiwiQklOQVJZIiwiVU5BUlkiLCJURVJUSUFSWSIsIk9CSkVDVCIsIkFSUkFZIiwiY3JlYXRlQWNjZXNzb3IiLCJwYXRocyIsInJlYWRJZGVudCIsIndhbGtlciIsInJlYWRUZXJ0aWFyeUV4cHIiLCJjb25kaXRpb25hbCIsInJlYWRMb2dpY2FsT1JFeHByIiwiZXhwciIsInJlYWRMb2dpY2FsQU5ERXhwciIsInJlYWRSZWxhdGlvbmFsRXhwciIsIm9wZXJhdG9yIiwic2VncyIsInJlYWRFcXVhbGl0eUV4cHIiLCJ5ZXNFeHByIiwicmVhZEFjY2Vzc29yIiwiZmlyc3RTZWciLCJhY2Nlc3Nvckxvb3AiLCJyZWFkVW5hcnlFeHByIiwic3RhcnRDb2RlIiwic3RhcnRJbmRleCIsIndhbGtMb29wIiwibGl0ZXJhbCIsInJlYWRTdHJpbmciLCJyZWFkTnVtYmVyIiwicmVhZFBhcmVudGhlc2l6ZWRFeHByIiwiYXJySXRlbXMiLCJzcHJlYWQiLCJpdGVtcyIsIm9iakl0ZW1zIiwicmVhZE11bHRpcGxpY2F0aXZlRXhwciIsInJlYWRBZGRpdGl2ZUV4cHIiLCJwYXJzZUV4cHIiLCJyYXciLCJyZWFkQ2FsbCIsImRlZmF1bHRBcmdzIiwiaWRlbnQiLCJwYXJzZUNhbGwiLCJwYXJzZUludGVycCIsImludGVycCIsImZpbHRlcnMiLCJjYWxsRXhwciIsIm9yaWdpbmFsIiwiRU5USVRZX0RFQ09ERV9NQVAiLCJsdCIsImd0IiwibmJzcCIsInF1b3QiLCJlbXNwIiwiZW5zcCIsInRoaW5zcCIsImNvcHkiLCJ6d25qIiwiendqIiwiYW1wIiwicmVnZXhwTGl0ZXJhbCIsInBhcnNlVGV4dCIsImRlbGltaXRlcnMiLCJleHByTWF0Y2giLCJleHByU3RhcnRSZWciLCJiZWZvcmVJbmRleCIsInB1c2hTdHJpbmdUb1NlZyIsInRleHQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUludCIsImRlbGltRW5kTGVuIiwiaW50ZXJwU291cmNlIiwiaW50ZXJwTGVuIiwiZGlyZWN0aXZlUGFyc2VycyIsImZvciIsInJlZiIsImlmIiwiZWxpZiIsImVsc2UiLCJodG1sIiwidHJhbnNpdGlvbiIsInBvc3RQcm9wIiwicHJvcCIsImludGVncmF0ZUF0dHIiLCJhTm9kZSIsInJlYWxOYW1lIiwicHJlZml4IiwicHJlZml4SW5kZXgiLCJjb2xvbkluZGV4IiwibW9kaWZpZXIiLCJwYXJzZXIiLCJwYXJzZURpcmVjdGl2ZSIsImludGVncmF0ZVByb3AiLCJ2YXJzIiwieE1hdGNoIiwieCIsImdldFhQYXRoIiwic3RhY2siLCJjdXJyZW50VGFnTmFtZSIsInBhcnNlVGVtcGxhdGUiLCJ0cmltV2hpdGVzcGFjZSIsInJvb3ROb2RlIiwidGFnTWF0Y2giLCJ0YWdSZWciLCJhdHRyUmVnIiwiY3VycmVudE5vZGUiLCJzdGFja0luZGV4IiwiYmVmb3JlTGFzdEluZGV4IiwidGFnRW5kIiwicHVzaFRleHROb2RlIiwiY2xvc2VJbmRleCIsImFFbGVtZW50IiwidGFnQ2xvc2UiLCJuZXh0Q2hhckNvZGUiLCJhdHRyTWF0Y2giLCJwYXJlbnRDaGlsZHJlbkxlbiIsInBhcmVudENoaWxkIiwiZWxzZXMiLCJ0Ym9keU5vZGUiLCJERUZBVUxUX0ZJTFRFUlMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJfY2xhc3MiLCJfc3R5bGUiLCJfc2VwIiwic2VwIiwiZXZhbEV4cHIiLCJvd25lciIsImRhdGFDYWNoZSIsImxlZnRWYWx1ZSIsInJpZ2h0VmFsdWUiLCJpdGVtVmFsdWUiLCJmaWx0ZXIiLCJmaWx0ZXJOYW1lIiwiZXZhbEFyZ3MiLCJidWYiLCJkYXRhQ2FjaGVTb3VyY2UiLCJkYXRhQ2FjaGVDbGVhcmx5IiwiY2xlYXIiLCJjaGFuZ2VFeHByQ29tcGFyZUV4cHJzIiwiY2hhbmdlRXhwciIsImV4cHJzIiwiY2hhbmdlRXhwckNvbXBhcmUiLCJjaGFuZ2VQYXRocyIsImNoYW5nZUxlbiIsInBhdGhFeHByIiwiTWF0aCIsIm1heCIsImZpbHRlclJlc3VsdCIsIkRhdGFDaGFuZ2VUeXBlIiwibGlmZUN5Y2xlT3duSXMiLCJMaWZlQ3ljbGUiLCJjb21waWxlZCIsImlzIiwiaW5pdGVkIiwiY3JlYXRlZCIsImF0dGFjaGVkIiwibGVhdmluZyIsImRldGFjaGVkIiwiZGlzcG9zZWQiLCJOb2RlVHlwZSIsIklGIiwiRk9SIiwiRUxFTSIsIkNNUFQiLCJTTE9UIiwiVFBMIiwiZ2V0QU5vZGVQcm9wIiwiaG90c3BvdCIsIkhUTUxfQVRUUl9QUk9QX01BUCIsInJlYWRvbmx5IiwiY2VsbHBhZGRpbmciLCJjZWxsc3BhY2luZyIsImNvbHNwYW4iLCJyb3dzcGFuIiwidmFsaWduIiwidXNlbWFwIiwiZnJhbWVib3JkZXIiLCJkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyIiwiZWxlbWVudCIsInByb3BOYW1lIiwic2V0QXR0cmlidXRlIiwib3V0cHV0IiwiYmluZEluZm8iLCJzdmdQcm9wSGFuZGxlciIsImJvb2xQcm9wSGFuZGxlciIsImRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXJzIiwic3R5bGUiLCJjc3NUZXh0IiwiY2xhc3MiLCJjbGFzc05hbWUiLCJzbG90IiwiZGlzYWJsZWQiLCJhdXRvZm9jdXMiLCJyZXF1aXJlZCIsImRyYWdnYWJsZSIsImFuYWxJbnB1dENoZWNrZXIiLCJjaGVja2JveCIsInJhZGlvIiwiYSIsImIiLCJlbGVtZW50UHJvcEhhbmRsZXJzIiwiaW5wdXQiLCJtdWx0aXBsZSIsImNoZWNrZWQiLCJvcGVyIiwiYmluZFZhbHVlIiwiYmluZFR5cGUiLCJzY29wZSIsImJpbmRDaGVja2VkIiwiaGludEV4cHIiLCJhbmFsSW5wdXRDaGVja2VkU3RhdGUiLCJvcHRpb24iLCJwYXJlbnRTZWxlY3QiLCJwYXJlbnQiLCJzZWxlY3RWYWx1ZSIsImlzT3B0aW9uU2VsZWN0ZWQiLCJzZWxlY3RlZCIsInNlbGVjdCIsImdldFByb3BIYW5kbGVyIiwiYXR0ck5hbWUiLCJ0YWdQcm9wSGFuZGxlcnMiLCJwcm9wSGFuZGxlciIsImlzRGF0YUNoYW5nZUJ5RWxlbWVudCIsImNoYW5nZSIsImNoYW5nZVRhcmdldCIsImZpbmRNZXRob2QiLCJuYW1lRXhwciIsIm1ldGhvZCIsIkRhdGEiLCJpbW11dGFibGVTZXQiLCJleHByUGF0aHMiLCJpc05hTiIsImV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lciIsImV2ZW50QmluZCIsImlzQ29tcG9uZW50RXZlbnQiLCIkZXZlbnQiLCJjaGVja0RhdGFUeXBlcyIsInNldFR5cGVDaGVja2VyIiwic2lsZW5jZSIsInF1aWV0IiwiY2FsbGVlIiwiZXhwclJhdyIsIm1lcmdlIiwib2xkVmFsdWUiLCJuZXdBcnJheSIsImRlbGV0ZUNvdW50IiwiaW5zZXJ0aW9ucyIsInNoaWZ0IiwicmVtb3ZlQXQiLCJyZW1vdmUiLCJob3RUYWdzIiwiaXNCcm93c2VyIiwiaW5zZXJ0QmVmb3JlIiwicGFyZW50RWwiLCJiZWZvcmVFbCIsImFwcGVuZENoaWxkIiwid2FyblNldEhUTUwiLCJub1NldEhUTUwiLCJtZXNzYWdlIiwiY29uc29sZSIsIndhcm4iLCJnZXROb2RlUGF0aCIsIm5vZGUiLCJub2RlUGF0aHMiLCJub2RlUGFyZW50IiwiYW5vZGUiLCJzdWJUYWciLCJUZXh0Tm9kZSIsInJldmVyc2VXYWxrZXIiLCJzZWwiLCJnb05leHQiLCJjcmVhdGVUZXh0Tm9kZSIsImNvbnRlbnQiLCJjcmVhdGVDb21tZW50IiwidGVtcEZsYWciLCJpbnNlcnRBZGphY2VudEhUTUwiLCJfcHJldiIsInRleHRVcGRhdGVQcm9wIiwidGV4dENvbnRlbnQiLCJ1bmlvbktleXMiLCJvYmoxIiwib2JqMiIsImNoYW5nZXNJc0luRGF0YVJlZiIsImNoYW5nZXMiLCJkYXRhUmVmIiwib3ZlcnZpZXciLCJleHRPdmVydmlldyIsIndpbGRPdmVydmlldyIsIkRPTUNoaWxkcmVuV2Fsa2VyIiwiY2hpbGQiLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLCJFbGVtZW50IiwibGlmZUN5Y2xlIiwiX2VsRm5zIiwicGFyZW50Q29tcG9uZW50IiwiZWxlbWVudEluaXRUYWdOYW1lIiwiX3NwcmVhZERhdGEiLCJfdG9QaGFzZSIsInJldmVyc2VFbGVtZW50Q2hpbGRyZW4iLCJfYXR0YWNoZWQiLCJub2RlRGlzcG9zZSIsIl9vbmRpc3Bvc2VkIiwiY3JlYXRlUmV2ZXJzZU5vZGUiLCJwYXJlbnRJc0NvbXBvbmVudCIsImNoaWxkT3duZXIiLCJjaGlsZFNjb3BlIiwiSWZOb2RlIiwiRm9yTm9kZSIsIlNsb3ROb2RlIiwiVGVtcGxhdGVOb2RlIiwiQ29tcG9uZW50VHlwZSIsImdldENvbXBvbmVudFR5cGUiLCJlbGVtZW50RGlzcG9zZUNoaWxkcmVuIiwibm9EZXRhY2giLCJub1RyYW5zaXRpb24iLCJlbGVtZW50VXBkYXRlQ2hpbGRyZW4iLCJfdXBkYXRlIiwiZWxlbWVudE93blRvUGhhc2UiLCJjcmVhdGVOb2RlIiwibm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaCIsImFOb2RlQ2hpbGRyZW4iLCJnZW5FbGVtZW50Q2hpbGRyZW4iLCJyZWFsQU5vZGUiLCJuYW1lQmluZCIsImlzTmFtZWQiLCJnaXZlbkNoaWxkcmVuIiwiZ2l2ZW5TbG90cyIsIm5hbWVkIiwibm9uYW1lIiwiaXNJbnNlcnRlZCIsIm1lIiwiaW5pdERhdGEiLCJ2YXJJdGVtIiwiaXNTY29wZWQiLCJzbG90Q2hpbGRyZW4iLCJhTm9kZUNoaWxkIiwiY2xvbmVEaXJlY3RpdmVzIiwiZXhjbHVkZXMiLCJub2RlT3duU2ltcGxlRGlzcG9zZSIsIm5vZGVPd25DcmVhdGVTdHVtcCIsIkZvckl0ZW1EYXRhIiwiZm9yRWxlbWVudCIsImRpcmVjdGl2ZSIsImNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkIiwiaXRlbVNjb3BlIiwiaXRlbUFOb2RlIiwicGFyYW0iLCJfY3JlYXRlIiwicmluc2VDb25kQU5vZGUiLCJjb25kIiwiZWxzZUluZGV4IiwiZWxzZUFOb2RlIiwiaGFuZGxlUHJvcCIsInN0YXJ0UmVtb3ZlRWwiLCJyZW1vdmVUYXJnZXQiLCJlbGVtZW50T3duQXR0YWNoIiwiZGV0YWNoIiwiZWxlbWVudE93bkRldGFjaCIsImVsZW1lbnRPd25EaXNwb3NlIiwiZWxlbWVudE93bkNyZWF0ZSIsIl9vbkVsIiwiZWxlbWVudE93bk9uRWwiLCJfZG9uZUxlYXZlIiwibGVhdmVEaXNwb3NlIiwiZWxlbWVudERpc3Bvc2UiLCJkaXNwb3NlTm9EZXRhY2giLCJkaXNwb3NlTm9UcmFuc2l0aW9uIiwiYmluZERpcmVjdGl2ZSIsIm5ld0JpbmREYXRhIiwicHJvcFZhbHVlIiwiZHluYW1pY1Byb3BzIiwiaHRtbERpcmVjdGl2ZSIsImlubmVySFRNTCIsImVsZW1lbnRPd25BdHRhY2hlZCIsImlzRnJvbU91dGVyIiwiX25vdGlmeU5lZWRSZWxvYWQiLCJzY29wZWRDaGFuZ2VzIiwicmVsYXRpb24iLCJleHByUmVzb2x2ZSIsInJlc29sdmVJdGVtIiwicmVzb2x2ZWRQYXRocyIsIm9yaWdpbmFsVXBkYXRlIiwib2xkQ2hpbGRyZW5MZW4iLCJjaGlsZHJlbkNoYW5nZXMiLCJwdXNoVG9DaGlsZHJlbkNoYW5nZXMiLCJpc0NoaWxkcmVuUmVidWlsZCIsImRpc3Bvc2VDaGlsZHJlbiIsInBhcmVudEZpcnN0Q2hpbGQiLCJwYXJlbnRMYXN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJpc09ubHlQYXJlbnRDaGlsZCIsIm5ld0xpc3QiLCJuZXdMZW4iLCJjSW5kZXgiLCJjTGVuIiwiZm9yTGVuIiwiY2hhbmdlSW5kZXgiLCJfc3BsaWNlIiwiX3NldCIsImNoYW5nZVN0YXJ0IiwiaW5zZXJ0aW9uc0xlbiIsIm5ld0NvdW50IiwiaW5kZXhDaGFuZ2UiLCJkZWxldGVMZW4iLCJzcGxpY2VBcmdzIiwibmV3Q2hpbGRyZW5MZW4iLCJsZW5ndGhDaGFuZ2UiLCJfZG9DcmVhdGVBbmRVcGRhdGUiLCJkb0NyZWF0ZUFuZFVwZGF0ZSIsInZpb2xlbnRDbGVhciIsImRpc3Bvc2VkQ2hpbGRDb3VudCIsImRpc3Bvc2VDaGlsZCIsImNoaWxkRGlzcG9zZWQiLCJyZXBsYWNlTm9kZSIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsIm5leHRDaGlsZCIsImNoaWxkQU5vZGUiLCJuZXdDaGlsZCIsInNhbjRkZXZ0b29sIiwiZW1wdHlQcm9wV2hlbkNyZWF0ZSIsInNvdXJjZU5vZGUiLCJlbGVtZW50QXR0YWNoIiwiX2NvbnRlbnRSZWFkeSIsImVsZW1lbnRHZXRUcmFuc2l0aW9uIiwiZ2l2ZW5BTm9kZSIsImVsZW1lbnRMZWF2ZSIsImxlYXZlIiwid2FybkV2ZW50TGlzdGVuTWV0aG9kIiwidmFsaWQiLCJpbnB1dE9uQ29tcG9zaXRpb25FbmQiLCJjb21wb3NpbmciLCJpbnB1dE9uQ29tcG9zaXRpb25TdGFydCIsInhQcm9wT3V0cHV0ZXIiLCJ4UHJvcCIsImlucHV0WFByb3BPdXRwdXRlciIsIm91dHB1dGVyIiwieFByb3BzIiwiQ29tcG9zaXRpb25FdmVudCIsIm5hdGl2ZUV2ZW50cyIsIm5hdGl2ZSIsIl9pc0luaXRGcm9tRWwiLCJlbnRlciIsImVtaXREZXZ0b29sIiwiYXJnIiwiZGVidWciLCJfX3Nhbl9kZXZ0b29sX18iLCJlbWl0IiwiY2xhenoiLCJtZXNzYWdlcyIsImNvbXBpbGVDb21wb25lbnQiLCJDb21wb25lbnRDbGFzcyIsInJlY29yZEhvdHNwb3REYXRhIiwicmVmcyIsIm5vdENvbnRlbnREYXRhIiwiYW5hbHlzZUFOb2RlSG90c3BvdCIsImFuYWx5c2VFeHByRGF0YUhvdHNwb3QiLCJpZFByb3AiLCJ2YWx1ZVByb3AiLCJjb21wb25lbnRQcmVoZWF0IiwicHJvdG9BTm9kZSIsImdpdmVuTmFtZWRTbG90QmluZHMiLCJiaW5kcyIsImZpcnN0Q29tbWVudE5vZGUiLCJzdHVtcE1hdGNoIiwic3R1bXBUZXh0IiwicHJldmlvdXNTaWJsaW5nIiwiX2NyZWF0ZUdpdmVuU2xvdHMiLCJkYXRhVHlwZXMiLCJkYXRhVHlwZUNoZWNrZXIiLCJkYXRhVHlwZU5hbWUiLCJjcmVhdGVEYXRhVHlwZXNDaGVja2VyIiwiY29tcHV0ZWREZXBzIiwiX2NhbGNDb21wdXRlZCIsImRhdGFDaGFuZ2VyIiwiX2RhdGFDaGFuZ2VyIiwiZGVmaW5lQ29tcG9uZW50IiwicHJvdG8iLCJjb21wb25lbnRzIiwiY29tcG9uZW50Q2xhc3MiLCJfY21wdFJlYWR5IiwidHBsIiwiY29tcG9uZW50UHJvcEV4dHJhIiwiZXh0cmEiLCJhbmFseXNlRXhwcnMiLCJtYWluIiwic2xvdEJpbmQiLCJnaXZlblNsb3RJbml0ZWQiLCJzbG90TmFtZSIsImRlY2xhcmF0aW9uIiwibmFtZUxpc3RlbmVycyIsImNvbXB1dGVkRXhwciIsIndhdGNoIiwiZGlzcGF0Y2giLCJyZWNlaXZlciIsImNoaWxkcmVuVHJhdmVyc2FsIiwicmVmVGFyZ2V0IiwiZWxlbWVudFRyYXZlcnNhbCIsIm5lZWRSZWxvYWRGb3JTbG90IiwiYmluZEl0ZW0iLCJzZXRFeHByIiwidXBkYXRlRXhwciIsIl9yZXBhaW50Q2hpbGRyZW4iLCJzbG90Q2hpbGRyZW5MZW4iLCJzbG90Q2hpbGQiLCJkYXRhQ2hhbmdlcyIsIl91cGRhdGVCaW5keE93bmVyIiwidXBkYXRlU2NvcGVFeHByIiwiX2FmdGVyY3JlYXRlZCIsImRhdGFFeHByIiwic2FuIiwiX19zYW5fc2NyaXB0X18iLCJfX3Nhbl90ZW1wbGF0ZV9fIiwiX19zYW5fc3R5bGVzX18iLCJfX3Nhbl9wcm90b19fIiwiX19zYW5fZXhwb3J0c19fIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIm1zZyIsImNzcyIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsInBhcnQiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwiaWR4IiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJhZGRBdHRycyIsInVwZGF0ZSIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiYmxvYiIsIm9sZFNyYyIsInN0eWxlU2hlZXQiLCJuZXdPYmoiLCJERUJVRyIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJ1c2VTb3VyY2VNYXAiLCJtYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIm5hbWVzIiwibWFwcGluZ3MiLCJmaWxlIiwic291cmNlc0NvbnRlbnQiLCJobXIiLCJsb2NhbHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZ2xvYmFsIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJtZXNzYWdlUHJlZml4Iiwib25HbG9iYWxNZXNzYWdlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJhdHRhY2hUbyIsImdldFByb3RvdHlwZU9mIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsImRvY3VtZW50RWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJhbmRvbSIsImNhbGxiYWNrIiwidGFzayIsImNsZWFySW1tZWRpYXRlIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwibG9nIiwic2FuX3JvdXRlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2RlbW9fc2FuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFnQixFQUFBQyxJQUd0RHhCLEVBQUEyQixFQUFBLEdBSUEzQixJQUFBNEIsRUFBQSxzQkNuRUEsSUFBQUMsSUFTQyxXQUNELGdCQUFBdkIsR0FFQSxJQUFBUCxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFI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NEIsV0FBQXU0QixxQkFDQSxJQUFBdEIsS0FBQXNCLGdCQUNBNTZCLFdBQUE0NkIsc0dDekRBMVosUUFBQTJhLElBQUEsZ0JBQ0FDLEVBQUEsT0FBQW4wQixLQUFZakMsS0FBQSxJQUFBeUIsVUFBQTQwQixFQUFBMWUsRUFBQTdWLE9BQUEsU0FFWnMwQixFQUFBLE9BQUE1NEIiLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJzYW4tcm91dGVyXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInNhbi1yb3V0ZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wic2FuLXJvdXRlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG5cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0XCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSByZXNvbHZlVVJMO1xuXG52YXIgX3BhcnNlVXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wYXJzZVVybDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJzZVVybCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLyoqXG4gKiDlsIYgVVJMIOS4reebuOWvuei3r+W+hOmDqOWIhuWxleW8gFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6KaB5bGV5byA55qEdXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSDlvZPliY3miYDlsZ7njq/looPnmoR1cmxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVVSTChzb3VyY2UsIGJhc2UpIHtcbiAgICB2YXIgc291cmNlTG9jID0gKDAsIF9wYXJzZVVybDJbJ2RlZmF1bHQnXSkoc291cmNlKTtcbiAgICB2YXIgYmFzZUxvYyA9ICgwLCBfcGFyc2VVcmwyWydkZWZhdWx0J10pKGJhc2UpO1xuXG4gICAgdmFyIHNvdXJjZVBhdGggPSBzb3VyY2VMb2MucGF0aDtcbiAgICBpZiAoc291cmNlUGF0aC5pbmRleE9mKCcvJykgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlU2VncyA9IHNvdXJjZVBhdGguc3BsaXQoJy8nKTtcbiAgICB2YXIgYmFzZVNlZ3MgPSBiYXNlTG9jLnBhdGguc3BsaXQoJy8nKTtcbiAgICBiYXNlU2Vncy5wb3AoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlU2Vncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2VnID0gc291cmNlU2Vnc1tpXTtcbiAgICAgICAgc3dpdGNoIChzZWcpIHtcbiAgICAgICAgICAgIGNhc2UgJy4uJzpcbiAgICAgICAgICAgICAgICBiYXNlU2Vncy5wb3AoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJy4nOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBiYXNlU2Vncy5wdXNoKHNlZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmFzZVNlZ3NbMF0gIT09ICcnKSB7XG4gICAgICAgIGJhc2VTZWdzLnVuc2hpZnQoJycpO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlU2Vncy5qb2luKCcvJykgKyAoc291cmNlTG9jLnF1ZXJ5U3RyaW5nID8gJz8nICsgc291cmNlTG9jLnF1ZXJ5U3RyaW5nIDogJycpO1xufSAvKipcbiAgICogc2FuLXJvdXRlclxuICAgKiBDb3B5cmlnaHQgMjAxNyBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAqXG4gICAqIEBmaWxlIOWwhiBVUkwg5Lit55u45a+56Lev5b6E6YOo5YiG5bGV5byAXG4gICAqIEBhdXRob3IgZXJyb3JyaWtcbiAgICovXG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHBhcnNlVVJMO1xuLyoqXG4gKiBzYW4tcm91dGVyXG4gKiBDb3B5cmlnaHQgMjAxNyBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQGZpbGUg6Kej5p6QVVJMXG4gKiBAYXV0aG9yIGVycm9ycmlrXG4gKi9cblxuLyoqXG4gKiDop6PmnpBVUkzvvIzov5Tlm57ljIXlkKtwYXRo44CBcXVlcnnjgIFxdWVyeVN0cmluZ+eahOWvueixoVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwg6KaB6Kej5p6Q55qEdXJsXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlVVJMKHVybCkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIGhhc2g6ICcnLFxuICAgICAgICBxdWVyeVN0cmluZzogJycsXG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgICAgcGF0aDogdXJsXG4gICAgfTtcblxuICAgIC8vIHBhcnNlIGhhc2hcbiAgICB2YXIgaGFzaFN0YXJ0ID0gcmVzdWx0LnBhdGguaW5kZXhPZignIycpO1xuICAgIGlmIChoYXNoU3RhcnQgPj0gMCkge1xuICAgICAgICByZXN1bHQuaGFzaCA9IHJlc3VsdC5wYXRoLnNsaWNlKGhhc2hTdGFydCArIDEpO1xuICAgICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRoLnNsaWNlKDAsIGhhc2hTdGFydCk7XG4gICAgfVxuXG4gICAgLy8gcGFyc2UgcXVlcnlcbiAgICB2YXIgcXVlcnkgPSByZXN1bHQucXVlcnk7XG4gICAgdmFyIHF1ZXJ5U3RhcnQgPSByZXN1bHQucGF0aC5pbmRleE9mKCc/Jyk7XG4gICAgaWYgKHF1ZXJ5U3RhcnQgPj0gMCkge1xuICAgICAgICByZXN1bHQucXVlcnlTdHJpbmcgPSByZXN1bHQucGF0aC5zbGljZShxdWVyeVN0YXJ0ICsgMSk7XG4gICAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGguc2xpY2UoMCwgcXVlcnlTdGFydCk7XG5cbiAgICAgICAgcmVzdWx0LnF1ZXJ5U3RyaW5nLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAocXVlcnlTZWcpIHtcbiAgICAgICAgICAgIC8vIOiAg+iZkeWIsOacieWPr+iDveWboOS4uuacquWkhOeQhui9rOS5iemXrumimO+8jFxuICAgICAgICAgICAgLy8g5a+86Ie0dmFsdWXkuK3lrZjlnKgqKj0qKuWtl+espu+8jOWboOatpOS4jeS9v+eUqGBzcGxpdGDlh73mlbBcbiAgICAgICAgICAgIHZhciBlcXVhbEluZGV4ID0gcXVlcnlTZWcuaW5kZXhPZignPScpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICAgICAgICBpZiAoZXF1YWxJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHF1ZXJ5U2VnLnNsaWNlKGVxdWFsSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBxdWVyeVNlZyA9IHF1ZXJ5U2VnLnNsaWNlKDAsIGVxdWFsSW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5U2VnKTtcbiAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblxuICAgICAgICAgICAgLy8g5bey57uP5a2Y5Zyo6L+Z5Liq5Y+C5pWw77yM5LiU5paw55qE5YC85LiN5Li656m65pe277yM5oqK5Y6f5p2l55qE5YC85Y+Y5oiQ5pWw57uEXG4gICAgICAgICAgICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICAgICAgcXVlcnlba2V5XSA9IFtdLmNvbmNhdChxdWVyeVtrZXldLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogc2FuLXJvdXRlclxuICogQ29weXJpZ2h0IDIwMTcgQmFpZHUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIEBmaWxlIOaPkOS+m+S6i+S7tuebuOWFs+aTjeS9nOeahOWfuuexu1xuICogQGF1dGhvciBvdGFrdXN0YXksIGVycm9ycmlrXG4gKi9cblxudmFyIEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50VGFyZ2V0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRUYXJnZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOazqOWGjOS4gOS4quS6i+S7tuWkhOeQhuWHveaVsFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5LqL5Lu255qE57G75Z6LXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbiB8IGJvb2xlYW59IGZuIOS6i+S7tueahOWkhOeQhuWHveaVsFxuICAgICAqL1xuICAgIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKHR5cGUsIGZuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50TGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnNbdHlwZV0ucHVzaChmbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOazqOmUgOS4gOS4quS6i+S7tuWkhOeQhuWHveaVsFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5LqL5Lu255qE57G75Z6L77yM5aaC5p6c5YC85Li6YCpg5LuF5Lya5rOo6ZSA6YCa6L+HYCpg5Li657G75Z6L5rOo5YaM55qE5LqL5Lu277yM5bm25LiN5Lya5bCG5omA5pyJ5LqL5Lu25rOo6ZSAXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXSDkuovku7bnmoTlpITnkIblh73mlbDvvIzml6DmraTlj4LmlbDliJnms6jplIBgdHlwZWDmjIflrprnsbvlnovnmoTmiYDmnInkuovku7blpITnkIblh73mlbBcbiAgICAgKi9cblxuXG4gICAgRXZlbnRUYXJnZXQucHJvdG90eXBlLnVuID0gZnVuY3Rpb24gdW4odHlwZSwgZm4pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudExpc3RlbmVycyB8fCAhdGhpcy5fZXZlbnRMaXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm4pIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzW3R5cGVdID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRMaXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICB2YXIgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tsZW5dID09PSBmbikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGxlbiwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOinpuWPkeaMh+Wumuexu+Wei+eahOS6i+S7tlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5LqL5Lu257G75Z6LXG4gICAgICogQHBhcmFtIHsqfSBbYXJnc10g5LqL5Lu25a+56LGhXG4gICAgICovXG5cblxuICAgIEV2ZW50VGFyZ2V0LnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gZmlyZSh0eXBlLCBhcmdzKSB7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBldmVudCB0eXBlIHNwZWNpZmllZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzICYmIHRoaXMuX2V2ZW50TGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyc1tpXShhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gRXZlbnRUYXJnZXQ7XG59KCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEV2ZW50VGFyZ2V0O1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfbWFpbiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbnZhciBfcmVzb2x2ZVVybCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVzb2x2ZVVybDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlVXJsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG4vKipcbiAqIHNhbi1yb3V0ZXJcbiAqIENvcHlyaWdodCAyMDE3IEJhaWR1IEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBAZmlsZSDot6/nlLHpk77mjqXnmoQgU2FuIOe7hOS7tlxuICogQGF1dGhvciBlcnJvcnJpa1xuICovXG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgICB0ZW1wbGF0ZTogJzxhIGhyZWY9XCJ7e2hyZWZ9fVwiXFxuICAgICAgICBvbmNsaWNrPVwicmV0dXJuIGZhbHNlO1wiXFxuICAgICAgICBvbi1jbGljaz1cImNsaWNrZXIoJGV2ZW50KVwiXFxuICAgICAgICB0YXJnZXQ9XCJ7e3RhcmdldH19XCJcXG4gICAgICAgIGNsYXNzPVwie3tjbGFzc319XCJcXG4gICAgICAgIHN0eWxlPVwie3tzdHlsZX19XCJcXG4gICAgICAgID5cXG4gICAgICAgIDxzbG90Pjwvc2xvdD5cXG4gICAgPC9hPicsXG5cbiAgICBjbGlja2VyOiBmdW5jdGlvbiBjbGlja2VyKGUpIHtcbiAgICAgICAgdmFyIGhyZWYgPSB0aGlzLmRhdGEuZ2V0KCdocmVmJyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgX21haW4ucm91dGVyLmxvY2F0b3IucmVkaXJlY3QoaHJlZi5yZXBsYWNlKC9eIy8sICcnKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgaHJlZjogZnVuY3Rpb24gaHJlZigpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLmRhdGEuZ2V0KCd0bycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaHJlZiA9ICgwLCBfcmVzb2x2ZVVybDJbJ2RlZmF1bHQnXSkodXJsLCBfbWFpbi5yb3V0ZXIubG9jYXRvci5jdXJyZW50KTtcbiAgICAgICAgICAgIGlmIChfbWFpbi5yb3V0ZXIubW9kZSA9PT0gJ2hhc2gnKSB7XG4gICAgICAgICAgICAgICAgaHJlZiA9ICcjJyArIGhyZWY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBocmVmO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V2ZW50VGFyZ2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxudmFyIF9ldmVudFRhcmdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ldmVudFRhcmdldCk7XG5cbnZhciBfcmVzb2x2ZVVybCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVzb2x2ZVVybDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlVXJsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogc2FuLXJvdXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQ29weXJpZ2h0IDIwMTcgQmFpZHUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmaWxlIGhhc2gg5qih5byP5Zyw5Z2A55uR5ZCs5ZmoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAYXV0aG9yIGVycm9ycmlrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLyoqXG4gKiDojrflj5blvZPliY1VUkxcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgIC8vIEZpcmVmb3jkuItgbG9jYXRpb24uaGFzaGDlrZjlnKjoh6rliqjop6PnoIHnmoTmg4XlhrXvvIxcbiAgICAvLyDmr5TlpoJoYXNo55qE5YC85pivKiphYmMlM2RlZioq77yMXG4gICAgLy8g5ZyoRmlyZWZveOS4i+iOt+WPluS8muaIkOS4uioqYWJjPWRlZioqXG4gICAgLy8g5Li65LqG6YG/5YWN6L+Z5LiA5oOF5Ya177yM6ZyA6KaB5LuOYGxvY2F0aW9uLmhyZWZg5Lit5YiG6KejXG4gICAgdmFyIGluZGV4ID0gbG9jYXRpb24uaHJlZi5pbmRleE9mKCcjJyk7XG4gICAgdmFyIHVybCA9IGluZGV4IDwgMCA/ICcvJyA6IGxvY2F0aW9uLmhyZWYuc2xpY2UoaW5kZXggKyAxKSB8fCAnLyc7XG5cbiAgICByZXR1cm4gdXJsO1xufVxuXG4vKipcbiAqIGhhc2gg5qih5byP5Zyw5Z2A55uR5ZCs5ZmoXG4gKlxuICogQGNsYXNzXG4gKi9cblxudmFyIExvY2F0b3IgPSBmdW5jdGlvbiAoX0V2ZW50VGFyZ2V0KSB7XG4gICAgX2luaGVyaXRzKExvY2F0b3IsIF9FdmVudFRhcmdldCk7XG5cbiAgICAvKipcbiAgICAgKiDmnoTpgKDlh73mlbBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2NhdG9yKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYXRvcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50VGFyZ2V0LmNhbGwodGhpcykpO1xuXG4gICAgICAgIF90aGlzLmN1cnJlbnQgPSBnZXRMb2NhdGlvbigpO1xuICAgICAgICBfdGhpcy5yZWZlcnJlciA9ICcnO1xuXG4gICAgICAgIF90aGlzLmhhc2hDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVkaXJlY3QoZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvIDlp4vnm5HlkKwgdXJsIOWPmOWMllxuICAgICAqL1xuXG5cbiAgICBMb2NhdG9yLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5oYXNoQ2hhbmdlSGFuZGxlciwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbmhhc2hjaGFuZ2UnLCB0aGlzLmhhc2hDaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDlgZzmraLnm5HlkKxcbiAgICAgKi9cblxuXG4gICAgTG9jYXRvci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmICh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB0aGlzLmhhc2hDaGFuZ2VIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2luZG93LmRldGFjaEV2ZW50KSB7XG4gICAgICAgICAgICB3aW5kb3cuZGV0YWNoRXZlbnQoJ29uaGFzaGNoYW5nZScsIHRoaXMuaGFzaENoYW5nZUhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOmHjeWumuWQkVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCDph43lrprlkJHnmoTlnLDlnYBcbiAgICAgKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMg6YeN5a6a5ZCR55qE6KGM5Li66YWN572uXG4gICAgICogQHBhcmFtIHtib29sZWFuP30gb3B0aW9ucy5mb3JjZSDmmK/lkKblvLrliLbliLfmlrBcbiAgICAgKi9cblxuXG4gICAgTG9jYXRvci5wcm90b3R5cGUucmVkaXJlY3QgPSBmdW5jdGlvbiByZWRpcmVjdCh1cmwpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsgZm9yY2U6IGZhbHNlIH07XG5cbiAgICAgICAgdXJsID0gKDAsIF9yZXNvbHZlVXJsMlsnZGVmYXVsdCddKSh1cmwsIHRoaXMuY3VycmVudCk7XG4gICAgICAgIHZhciByZWZlcnJlciA9IHRoaXMuY3VycmVudDtcblxuICAgICAgICB2YXIgaXNDaGFuZ2VkID0gdXJsICE9PSByZWZlcnJlcjtcbiAgICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5yZWZlcnJlciA9IHJlZmVycmVyO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdXJsO1xuICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZmVycmVyID0gdGhpcy5yZWZlcnJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoaXNDaGFuZ2VkIHx8IG9wdGlvbnMuZm9yY2UpICYmICFvcHRpb25zLnNpbGVudCkge1xuICAgICAgICAgICAgdGhpcy5maXJlKCdyZWRpcmVjdCcsIHsgdXJsOiB1cmwsIHJlZmVycmVyOiByZWZlcnJlciB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDliLfmlrDlvZPliY0gdXJsXG4gICAgICovXG5cblxuICAgIExvY2F0b3IucHJvdG90eXBlLnJlbG9hZCA9IGZ1bmN0aW9uIHJlbG9hZCgpIHtcbiAgICAgICAgdGhpcy5yZWRpcmVjdCh0aGlzLmN1cnJlbnQsIHsgZm9yY2U6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBMb2NhdG9yO1xufShfZXZlbnRUYXJnZXQyWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBMb2NhdG9yO1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXZlbnRUYXJnZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX2V2ZW50VGFyZ2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V2ZW50VGFyZ2V0KTtcblxudmFyIF9yZXNvbHZlVXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZXNvbHZlVXJsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc29sdmVVcmwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0gLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBzYW4tcm91dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBDb3B5cmlnaHQgMjAxNyBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGZpbGUgaHRtbDUg5qih5byP5Zyw5Z2A55uR5ZCs5ZmoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAYXV0aG9yIGVycm9ycmlrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxuLyoqXG4gKiDojrflj5blvZPliY1VUkxcbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgIHJldHVybiBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaDtcbn1cblxuLyoqXG4gKiBodG1sNSDmqKHlvI/lnLDlnYDnm5HlkKzlmahcbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9jYXRvciA9IGZ1bmN0aW9uIChfRXZlbnRUYXJnZXQpIHtcbiAgICBfaW5oZXJpdHMoTG9jYXRvciwgX0V2ZW50VGFyZ2V0KTtcblxuICAgIC8qKlxuICAgICAqIOaehOmAoOWHveaVsFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvY2F0b3IoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2NhdG9yKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRXZlbnRUYXJnZXQuY2FsbCh0aGlzKSk7XG5cbiAgICAgICAgX3RoaXMuY3VycmVudCA9IGdldExvY2F0aW9uKCk7XG4gICAgICAgIF90aGlzLnJlZmVycmVyID0gJyc7XG5cbiAgICAgICAgX3RoaXMucG9wc3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVmZXJyZXIgPSBfdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudCA9IGdldExvY2F0aW9uKCk7XG5cbiAgICAgICAgICAgIF90aGlzLmZpcmUoJ3JlZGlyZWN0Jywge1xuICAgICAgICAgICAgICAgIHVybDogX3RoaXMuY3VycmVudCxcbiAgICAgICAgICAgICAgICByZWZlcnJlcjogX3RoaXMucmVmZXJyZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byA5aeL55uR5ZCsIHVybCDlj5jljJZcbiAgICAgKi9cblxuXG4gICAgTG9jYXRvci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5wb3BzdGF0ZUhhbmRsZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDlgZzmraLnm5HlkKxcbiAgICAgKi9cblxuXG4gICAgTG9jYXRvci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMucG9wc3RhdGVIYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog6YeN5a6a5ZCRXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIOmHjeWumuWQkeeahOWcsOWdgFxuICAgICAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucyDph43lrprlkJHnmoTooYzkuLrphY3nva5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW4/fSBvcHRpb25zLmZvcmNlIOaYr+WQpuW8uuWItuWIt+aWsFxuICAgICAqL1xuXG5cbiAgICBMb2NhdG9yLnByb3RvdHlwZS5yZWRpcmVjdCA9IGZ1bmN0aW9uIHJlZGlyZWN0KHVybCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogeyBmb3JjZTogZmFsc2UgfTtcblxuICAgICAgICB1cmwgPSAoMCwgX3Jlc29sdmVVcmwyWydkZWZhdWx0J10pKHVybCwgdGhpcy5jdXJyZW50KTtcbiAgICAgICAgdmFyIHJlZmVycmVyID0gdGhpcy5jdXJyZW50O1xuXG4gICAgICAgIHZhciBpc0NoYW5nZWQgPSB1cmwgIT09IHJlZmVycmVyO1xuXG4gICAgICAgIGlmIChpc0NoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVmZXJyZXIgPSByZWZlcnJlcjtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHVybDtcblxuICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCB1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChpc0NoYW5nZWQgfHwgb3B0aW9ucy5mb3JjZSkgJiYgIW9wdGlvbnMuc2lsZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3JlZGlyZWN0JywgeyB1cmw6IHVybCwgcmVmZXJyZXI6IHJlZmVycmVyIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOWIt+aWsOW9k+WJjSB1cmxcbiAgICAgKi9cblxuXG4gICAgTG9jYXRvci5wcm90b3R5cGUucmVsb2FkID0gZnVuY3Rpb24gcmVsb2FkKCkge1xuICAgICAgICB0aGlzLmZpcmUoJ3JlZGlyZWN0Jywge1xuICAgICAgICAgICAgdXJsOiB0aGlzLmN1cnJlbnQsXG4gICAgICAgICAgICByZWZlcnJlcjogdGhpcy5yZWZlcnJlclxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExvY2F0b3I7XG59KF9ldmVudFRhcmdldDJbJ2RlZmF1bHQnXSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IExvY2F0b3I7XG5cblxuTG9jYXRvci5pc1N1cHBvcnQgPSAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5MaW5rID0gZXhwb3J0cy5yb3V0ZXIgPSBleHBvcnRzLlJvdXRlciA9IGV4cG9ydHMudmVyc2lvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9oYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9oYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hhc2gpO1xuXG52YXIgX2h0bWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXG52YXIgX2h0bWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaHRtbCk7XG5cbnZhciBfcGFyc2VVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX3BhcnNlVXJsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJsKTtcblxudmFyIF9saW5rID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9saW5rMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpbmspO1xuXG52YXIgX2VsZW1lbnRTZWxlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfZWxlbWVudFNlbGVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VsZW1lbnRTZWxlY3Rvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH0gLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogc2FuLXJvdXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIENvcHlyaWdodCAyMDE3IEJhaWR1IEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBmaWxlIOS4u+aooeWdl1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBhdXRob3IgZXJyb3JyaWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cblxudmFyIHJvdXRlSUQgPSAweDU5NDJiO1xudmFyIGd1aWQgPSBmdW5jdGlvbiBndWlkKCkge1xuICAgIHJldHVybiAoKytyb3V0ZUlEKS50b1N0cmluZygpO1xufTtcblxuZnVuY3Rpb24gaXNDb21wb25lbnQoQykge1xuICAgIHJldHVybiBDLnByb3RvdHlwZSAmJiAoQy5wcm90b3R5cGUubm9kZVR5cGUgPT09IDUgfHwgQy5wcm90b3R5cGUuX3R5cGUgPT09ICdzYW4tY21wdCcpO1xufVxuXG4vKipcbiAqIOeJiOacrOWPt1xuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciB2ZXJzaW9uID0gZXhwb3J0cy52ZXJzaW9uID0gJzEuMi4wJztcblxuLyoqXG4gKiDot6/nlLHlmajnsbtcbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUm91dGVyID0gZXhwb3J0cy5Sb3V0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvKipcbiAgICAgKiDmnoTpgKDlh73mlbBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucyDliJ3lp4vljJblj4LmlbBcbiAgICAgKiBAcGFyYW0ge3N0cmluZz99IG9wdGlvbnMubW9kZSDot6/nlLHmqKHlvI/vvIxoYXNoIHwgaHRtbDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3V0ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgICAgX3JlZiRtb2RlID0gX3JlZi5tb2RlLFxuICAgICAgICAgICAgbW9kZSA9IF9yZWYkbW9kZSA9PT0gdW5kZWZpbmVkID8gJ2hhc2gnIDogX3JlZiRtb2RlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb3V0ZXIpO1xuXG4gICAgICAgIHRoaXMucm91dGVzID0gW107XG4gICAgICAgIHRoaXMucm91dGVBbGl2ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogbG9jYXRvciByZWRpcmVjdCDkuovku7bnm5HlkKzlh73mlbBcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGUgbG9jYXRvcuS6i+S7tuWvueixoVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhdG9yUmVkaXJlY3RIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSAoMCwgX3BhcnNlVXJsMlsnZGVmYXVsdCddKShlLnVybCk7XG4gICAgICAgICAgICB2YXIgcm91dGVJdGVtID0gdm9pZCAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RoaXMucm91dGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX3RoaXMucm91dGVzW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBpdGVtLnJ1bGUuZXhlYyh1cmwucGF0aCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGVJdGVtID0gaXRlbTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaWxsIHBhcmFtc1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGl0ZW0ua2V5cyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBtYXRjaC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbal0gfHwgajtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsLnF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybC5wYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlsbCByZWZlcnJlclxuICAgICAgICAgICAgICAgICAgICB1cmwucmVmZXJyZXIgPSBlLnJlZmVycmVyO1xuICAgICAgICAgICAgICAgICAgICB1cmwuY29uZmlnID0gaXRlbS5jb25maWc7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAxO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGxpc3RlbmVyIOS6i+S7tuWvueixoVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lckV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGhhc2g6IHVybC5oYXNoLFxuICAgICAgICAgICAgICAgIHF1ZXJ5U3RyaW5nOiB1cmwucXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHVybC5xdWVyeSxcbiAgICAgICAgICAgICAgICBwYXRoOiB1cmwucGF0aCxcbiAgICAgICAgICAgICAgICByZWZlcnJlcjogdXJsLnJlZmVycmVyLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogdXJsLmNvbmZpZyxcbiAgICAgICAgICAgICAgICByZXN1bWU6IG5leHQsXG4gICAgICAgICAgICAgICAgc3VzcGVuZDogZnVuY3Rpb24gc3VzcGVuZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAwO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIOWwneivlei/kOihjOS4i+S4gOS4qmxpc3RlbmVyXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGlubmVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBkb05leHQgPSBmdW5jdGlvbiBkb05leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IF90aGlzLmxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxpc3RlbmVyc1tpXS5jYWxsKF90aGlzLCBsaXN0ZW5lckV2ZW50LCB1cmwuY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZUFjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiDov5DooYzkuIvkuIDkuKpsaXN0ZW5lclxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbm5lclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZG9OZXh0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICog6L+Q6KGM6Lev55Sx6KGM5Li6XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGlubmVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciByb3V0ZUFjdGlvbiA9IGZ1bmN0aW9uIHJvdXRlQWN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZG9Sb3V0ZShyb3V0ZUl0ZW0sIHVybCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbiA9IF90aGlzLnJvdXRlQWxpdmVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZUFsaXZlc1tsZW5dLmNvbXBvbmVudC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZUFsaXZlcy5zcGxpY2UobGVuLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRvTmV4dCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2V0TW9kZShtb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmt7vliqDot6/nlLHnm5HlkKzlmahcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZSwgY29uZmlnKX0gbGlzdGVuZXIg55uR5ZCs5ZmoXG4gICAgICovXG5cblxuICAgIFJvdXRlci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDnp7vpmaTot6/nlLHnm5HlkKzlmahcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIOebkeWQrOWZqFxuICAgICAqL1xuXG5cbiAgICBSb3V0ZXIucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24gdW5saXN0ZW4obGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMubGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNbbGVuXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UobGVuLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDmiafooYzot6/nlLFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJvdXRlSXRlbSDot6/nlLHpoblcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSDot6/nlLHkv6Hmga9cbiAgICAgKi9cblxuXG4gICAgUm91dGVyLnByb3RvdHlwZS5kb1JvdXRlID0gZnVuY3Rpb24gZG9Sb3V0ZShyb3V0ZUl0ZW0sIGUpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGlzVXBkYXRlQWxpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMucm91dGVBbGl2ZXMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgICAgICAgdmFyIHJvdXRlQWxpdmUgPSB0aGlzLnJvdXRlQWxpdmVzW2xlbl07XG5cbiAgICAgICAgICAgIGlmIChyb3V0ZUFsaXZlLmlkID09PSByb3V0ZUl0ZW0uaWQpIHtcbiAgICAgICAgICAgICAgICByb3V0ZUFsaXZlLmNvbXBvbmVudC5kYXRhLnNldCgncm91dGUnLCBlKTtcbiAgICAgICAgICAgICAgICByb3V0ZUFsaXZlLmNvbXBvbmVudC5fY2FsbEhvb2soJ3JvdXRlJyk7XG4gICAgICAgICAgICAgICAgaXNVcGRhdGVBbGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdXRlQWxpdmUuY29tcG9uZW50LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlQWxpdmVzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1VwZGF0ZUFsaXZlKSB7XG4gICAgICAgICAgICBpZiAocm91dGVJdGVtLkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudChyb3V0ZUl0ZW0uQ29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaENtcHQocm91dGVJdGVtLCBlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZUl0ZW0uQ29tcG9uZW50KCkudGhlbihmdW5jdGlvbiAoQ21wdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50KENtcHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVJdGVtLkNvbXBvbmVudCA9IENtcHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENtcHQuX19lc01vZHVsZSAmJiBpc0NvbXBvbmVudChDbXB0WydkZWZhdWx0J10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVJdGVtLkNvbXBvbmVudCA9IENtcHRbJ2RlZmF1bHQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5hdHRhY2hDbXB0KHJvdXRlSXRlbSwgZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm91dGVJdGVtLmhhbmRsZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSb3V0ZXIucHJvdG90eXBlLmF0dGFjaENtcHQgPSBmdW5jdGlvbiBhdHRhY2hDbXB0KHJvdXRlSXRlbSwgZSkge1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gbmV3IHJvdXRlSXRlbS5Db21wb25lbnQoKTtcbiAgICAgICAgY29tcG9uZW50LmRhdGEuc2V0KCdyb3V0ZScsIGUpO1xuICAgICAgICBjb21wb25lbnQuX2NhbGxIb29rKCdyb3V0ZScpO1xuXG4gICAgICAgIHZhciB0YXJnZXQgPSByb3V0ZUl0ZW0udGFyZ2V0O1xuICAgICAgICB2YXIgdGFyZ2V0RWwgPSAoMCwgX2VsZW1lbnRTZWxlY3RvcjJbJ2RlZmF1bHQnXSkodGFyZ2V0KTtcblxuICAgICAgICBpZiAoIXRhcmdldEVsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4tUk9VVEVSIEVSUk9SXSAnICsgJ0F0dGFjaCBmYWlsZWQsIHRhcmdldCBlbGVtZW50IFwiJyArIHJvdXRlSXRlbS50YXJnZXQgKyAnXCIgaXMgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50LmF0dGFjaCh0YXJnZXRFbCk7XG5cbiAgICAgICAgdGhpcy5yb3V0ZUFsaXZlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50LFxuICAgICAgICAgICAgaWQ6IHJvdXRlSXRlbS5pZFxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog5re75Yqg6Lev55Sx6aG5XG4gICAgICog5b2T6KeE5YiZ5Yy56YWN5pe277yM6Lev55Sx5bCG5LyY5YWI5bCGQ29tcG9uZW505riy5p+T5YiwdGFyZ2V05Lit44CC5aaC5p6c5rKh5pyJ5YyF5ZCrQ29tcG9uZW5077yM5YiZ5omn6KGMaGFuZGxlcuWHveaVsFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIOi3r+eUsemhuemFjee9rlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cH0gY29uZmlnLnJ1bGUg6Lev55Sx6KeE5YiZXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj99IGNvbmZpZy5oYW5kbGVyIOi3r+eUseWHveaVsFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb24/fSBjb25maWcuQ29tcG9uZW50IOi3r+eUsee7hOS7tlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcudGFyZ2V0IOi3r+eUsee7hOS7tuimgea4suafk+WIsOeahOebruagh+S9jee9rlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gc2FuLXJvdXRlciDlrp7kvotcbiAgICAgKi9cblxuXG4gICAgUm91dGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoY29uZmlnKSB7XG4gICAgICAgIHZhciBydWxlID0gY29uZmlnLnJ1bGUsXG4gICAgICAgICAgICBoYW5kbGVyID0gY29uZmlnLmhhbmRsZXIsXG4gICAgICAgICAgICBfY29uZmlnJHRhcmdldCA9IGNvbmZpZy50YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXQgPSBfY29uZmlnJHRhcmdldCA9PT0gdW5kZWZpbmVkID8gJyNtYWluJyA6IF9jb25maWckdGFyZ2V0LFxuICAgICAgICAgICAgQ29tcG9uZW50ID0gY29uZmlnLkNvbXBvbmVudDtcblxuICAgICAgICB2YXIga2V5cyA9IFsnJ107XG5cbiAgICAgICAgaWYgKHR5cGVvZiBydWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8g5rKh55SocGF0aC10by1yZWdleHDvvIzmmoLml7bkuI3mj5Dkvpvov5nkuYjlpJrlip/og73mlK/mjIFcbiAgICAgICAgICAgIHZhciByZWdUZXh0ID0gcnVsZS5yZXBsYWNlKC9cXC86KFthLXowLTlfLV0rKSg/PVxcL3wkKS9pZywgZnVuY3Rpb24gKG1hdGNoLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJy8oW14vXFxcXHNdKyknO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJ1bGUgPSBuZXcgUmVnRXhwKCdeJyArIHJlZ1RleHQgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShydWxlIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOLVJPVVRFUiBFUlJPUl0gUnVsZSBtdXN0IGJlIHN0cmluZyBvciBSZWdFeHAhJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaWQgPSBndWlkKCk7XG4gICAgICAgIHRoaXMucm91dGVzLnB1c2goeyBpZDogaWQsIHJ1bGU6IHJ1bGUsIGhhbmRsZXI6IGhhbmRsZXIsIGtleXM6IGtleXMsIHRhcmdldDogdGFyZ2V0LCBDb21wb25lbnQ6IENvbXBvbmVudCwgY29uZmlnOiBjb25maWcgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIOWQr+WKqOi3r+eUseWKn+iDvVxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzYW4tcm91dGVyIOWunuS+i1xuICAgICAqL1xuXG5cbiAgICBSb3V0ZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYXRvci5vbigncmVkaXJlY3QnLCB0aGlzLmxvY2F0b3JSZWRpcmVjdEhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5sb2NhdG9yLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmxvY2F0b3IucmVsb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICog5YGc5q2i6Lev55Sx5Yqf6IO9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHNhbi1yb3V0ZXIg5a6e5L6LXG4gICAgICovXG5cblxuICAgIFJvdXRlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIHRoaXMubG9jYXRvci51bigncmVkaXJlY3QnLCB0aGlzLmxvY2F0b3JSZWRpcmVjdEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmxvY2F0b3Iuc3RvcCgpO1xuICAgICAgICB0aGlzLmlzU3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiDorr7nva7ot6/nlLHmqKHlvI9cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIOi3r+eUseaooeW8j++8jGhhc2ggfCBodG1sNVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gc2FuLXJvdXRlciDlrp7kvotcbiAgICAgKi9cblxuXG4gICAgUm91dGVyLnByb3RvdHlwZS5zZXRNb2RlID0gZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgIG1vZGUgPSBtb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG5cbiAgICAgICAgdmFyIHJlc3RhcnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgICAgIHJlc3RhcnQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICBjYXNlICdoYXNoJzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0b3IgPSBuZXcgX2hhc2gyWydkZWZhdWx0J10oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2h0bWw1JzpcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0b3IgPSBuZXcgX2h0bWwyWydkZWZhdWx0J10oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvdXRlcjtcbn0oKTtcblxuLyoqXG4gKiDpu5jorqTnmoTot6/nlLHlmajlrp7kvotcbiAqXG4gKiBAdHlwZSB7Um91dGVyfVxuICovXG5cblxudmFyIHJvdXRlciA9IGV4cG9ydHMucm91dGVyID0gbmV3IFJvdXRlcigpO1xuXG4vKipcbiAqIOi3r+eUsemTvuaOpeeahCBTYW4g57uE5Lu2XG4gKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydHMuTGluayA9IF9saW5rMlsnZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZWxlbWVudFNlbGVjdG9yO1xuLypcbipcbiogQGZpbGUg6YCJ5oup5ZmoXG4qIEBhdXRob3IgdmluY2VudCBsYXUvNDEzODkzMDkzQHFxLmNvbVxuKi9cblxuLyoqXG4gKiDlhYPntKDpgInmi6nlmahcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xFbGVtZW50fSBzZWxlY3RvciDpgInmi6nlmahcbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBlbGVtZW50U2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc2VsZWN0b3IpKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG5cbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3IucmVwbGFjZSgvIy9pLCAnJykpO1xuICAgIH1cbn1cblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG59KTsiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qKlxuICogU2FuXG4gKiBDb3B5cmlnaHQgMjAxNiBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogQGZpbGUg5Li75paH5Lu2XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqICAgICAgICAgb3Rha3VzdGF5KG90YWt1c3RheUBnbWFpbC5jb20pXG4gKiAgICAgICAgIGp1bm1lcihqdW5tZXJAZm94bWFpbC5jb20pXG4gKi9cblxuKGZ1bmN0aW9uIChyb290KSB7XG4gICAgLy8g5Lq65bel6LCD5pW05omT5YyF5Luj56CB6aG65bqP77yM6YCa6L+H5rOo6YeK5omL5bel5YaZ5LiA5Lqb5L6d6LWWXG4vLyAgICAgLy8gcmVxdWlyZSgnLi91dGlsL2d1aWQnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvZW1wdHknKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvZXh0ZW5kJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi91dGlsL2luaGVyaXRzJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi91dGlsL2VhY2gnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvY29udGFpbnMnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvYmluZCcpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9vbicpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci91bicpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9zdmctdGFncycpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9jcmVhdGUtZWwnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi91dGlsL25leHQtdGljaycpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9pZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vYnJvd3Nlci9pZS1vbGQtdGhhbi05Jyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9icm93c2VyL2lucHV0LWV2ZW50LWNvbXBhdGlibGUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL2Jyb3dzZXIvYXV0by1jbG9zZS10YWdzJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi91dGlsL2RhdGEtdHlwZXMuanMnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3V0aWwvY3JlYXRlLWRhdGEtdHlwZXMtY2hlY2tlci5qcycpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vcGFyc2VyL3dhbGtlcicpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vcGFyc2VyL2NyZWF0ZS1hLW5vZGUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3BhcnNlci9wYXJzZS10ZW1wbGF0ZScpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vcnVudGltZS9jaGFuZ2UtZXhwci1jb21wYXJlJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi9ydW50aW1lL2RhdGEtY2hhbmdlLXR5cGUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3J1bnRpbWUvZGVmYXVsdC1maWx0ZXJzJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi92aWV3L2xpZmUtY3ljbGUnKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3ZpZXcvbm9kZS10eXBlJyk7XG4vLyAgICAgLy8gcmVxdWlyZSgnLi92aWV3L2dldC1wcm9wLWhhbmRsZXInKTtcbi8vICAgICAvLyByZXF1aXJlKCcuL3ZpZXcvaXMtZGF0YS1jaGFuZ2UtYnktZWxlbWVudCcpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdmlldy9ldmVudC1kZWNsYXJhdGlvbi1saXN0ZW5lcicpO1xuLy8gICAgIC8vIHJlcXVpcmUoJy4vdmlldy9jcmVhdGUtbm9kZScpO1xuXG5cbiAgICAvKipcbiAqIEBmaWxlIOeUn+aIkOWUr+S4gGlkXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8qKlxuICog5ZSv5LiAaWTnmoTotbflp4vlgLxcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBndWlkSW5kZXggPSAxO1xuXG4vKipcbiAqIOWUr+S4gGlk55qE5YmN57yAXG4gKlxuICogQGlubmVyXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgZ3VpZFByZWZpeCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkudG9TdHJpbmcoMTYpLnNsaWNlKDgpO1xuXG4vKipcbiAqIOiOt+WPluWUr+S4gGlkXG4gKlxuICogQGlubmVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IOWUr+S4gGlkXG4gKi9cbmZ1bmN0aW9uIGd1aWQoKSB7XG4gICAgcmV0dXJuICdfJyArIGd1aWRQcmVmaXggKyAoZ3VpZEluZGV4KyspO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBndWlkO1xuXG5cbi8qKlxuICogQGZpbGUg56m65Ye95pWwXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8qKlxuICog5ZWl6YO95LiN5bmyXG4gKi9cbmZ1bmN0aW9uIGVtcHR5KCkge31cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZW1wdHk7XG5cblxuLyoqXG4gKiBAZmlsZSDlsZ7mgKfmi7fotJ1cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog5a+56LGh5bGe5oCn5ou36LSdXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCDnm67moIflr7nosaFcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2Ug5rqQ5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9IOi/lOWbnuebruagh+WvueixoVxuICovXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBleHRlbmQ7XG5cblxuLyoqXG4gKiBAZmlsZSDmnoTlu7rnsbvkuYvpl7TnmoTnu6fmib/lhbPns7tcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBleHRlbmQgPSByZXF1aXJlKCcuL2V4dGVuZCcpO1xuXG4vKipcbiAqIOaehOW7uuexu+S5i+mXtOeahOe7p+aJv+WFs+ezu1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YkNsYXNzIOWtkOexu+WHveaVsFxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJDbGFzcyDniLbnsbvlh73mlbBcbiAqL1xuZnVuY3Rpb24gaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICAvKiBqc2hpbnQgLVcwNTQgKi9cbiAgICB2YXIgc3ViQ2xhc3NQcm90byA9IHN1YkNsYXNzLnByb3RvdHlwZTtcbiAgICB2YXIgRiA9IG5ldyBGdW5jdGlvbigpO1xuICAgIEYucHJvdG90eXBlID0gc3VwZXJDbGFzcy5wcm90b3R5cGU7XG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gbmV3IEYoKTtcbiAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICBleHRlbmQoc3ViQ2xhc3MucHJvdG90eXBlLCBzdWJDbGFzc1Byb3RvKTtcbiAgICAvKiBqc2hpbnQgK1cwNTQgKi9cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaW5oZXJpdHM7XG5cblxuLyoqXG4gKiBAZmlsZSDpgY3ljobmlbDnu4RcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLyoqXG4gKiDpgY3ljobmlbDnu4Tpm4blkIhcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSDmlbDnu4TmupBcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oQW55LG51bWJlcik6Ym9vbGVhbn0gaXRlcmF0b3Ig6YGN5Y6G5Ye95pWwXG4gKi9cbmZ1bmN0aW9uIGVhY2goYXJyYXksIGl0ZXJhdG9yKSB7XG4gICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvcihhcnJheVtpXSwgaSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVhY2g7XG5cblxuLyoqXG4gKiBAZmlsZSDliKTmlq3mlbDnu4TkuK3mmK/lkKbljIXlkKvmn5DpoblcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi9lYWNoJyk7XG5cbi8qKlxuICog5Yik5pat5pWw57uE5Lit5piv5ZCm5YyF5ZCr5p+Q6aG5XG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkg5pWw57uEXG4gKiBAcGFyYW0geyp9IHZhbHVlIOWMheWQq+eahOmhuVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJlc3VsdCA9IGl0ZW0gPT09IHZhbHVlO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zO1xuXG5cbi8qKlxuICogQGZpbGUgYmluZOWHveaVsFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCDmlrnms5XnmoTlhbzlrrnmgKflsIHoo4VcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIOimgWJpbmTnmoTlh73mlbBcbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIHRoaXPmjIflkJHlr7nosaFcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyDpooTorr7nmoTliJ3lp4vlj4LmlbBcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBiaW5kKGZ1bmMsIHRoaXNBcmcpIHtcbiAgICB2YXIgbmF0aXZlQmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuICAgIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbiAgICAvLyAjW2JlZ2luXSBhbGx1YVxuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkge1xuICAgIC8vICNbZW5kXVxuICAgICAgICByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIC8vICNbYmVnaW5dIGFsbHVhXG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgfTtcbiAgICAvLyAjW2VuZF1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gYmluZDtcblxuXG4vKipcbiAqIEBmaWxlIERPTSDkuovku7bmjILovb1cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICogRE9NIOS6i+S7tuaMgui9vVxuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgRE9N5YWD57SgXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIOS6i+S7tuWQjVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIg55uR5ZCs5Ye95pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNhcHR1cmUg5piv5ZCm5piv5o2V6I636Zi25q61XG4gKi9cbmZ1bmN0aW9uIG9uKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gICAgLy8gI1tiZWdpbl0gYWxsdWFcbiAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIC8vICNbZW5kXVxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIC8vICNbYmVnaW5dIGFsbHVhXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8vICNbZW5kXVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBvbjtcblxuXG4vKipcbiAqIEBmaWxlIERPTSDkuovku7bljbjovb1cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICogRE9NIOS6i+S7tuWNuOi9vVxuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgRE9N5YWD57SgXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIOS6i+S7tuWQjVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIg55uR5ZCs5Ye95pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNhcHR1cmUg5piv5ZCm5piv5o2V6I636Zi25q61XG4gKi9cbmZ1bmN0aW9uIHVuKGVsLCBldmVudE5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gICAgLy8gI1tiZWdpbl0gYWxsdWFcbiAgICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIC8vICNbZW5kXVxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIC8vICNbYmVnaW5dIGFsbHVhXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8vICNbZW5kXVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB1bjtcblxuXG4vKipcbiAqIEBmaWxlIOWwhuWtl+espuS4sumAl+WPt+WIh+WIhui/lOWbnuWvueixoVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcblxuLyoqXG4gKiDlsIblrZfnrKbkuLLpgJflj7fliIfliIbov5Tlm57lr7nosaFcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOWtl+espuS4slxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBzcGxpdFN0cjJPYmooc291cmNlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGVhY2goXG4gICAgICAgIHNvdXJjZS5zcGxpdCgnLCcpLFxuICAgICAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IDE7XG4gICAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHNwbGl0U3RyMk9iajtcblxuXG4vKipcbiAqIEBmaWxlIFNWR+agh+etvuihqFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIHNwbGl0U3RyMk9iaiA9IHJlcXVpcmUoJy4uL3V0aWwvc3BsaXQtc3RyLTItb2JqJyk7XG5cbi8qKlxuICogc3ZnVGFnc1xuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL1NWRy9zdmdkdGQuaHRtbCDlj6rlj5bluLjnlKhcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBzdmdUYWdzID0gc3BsaXRTdHIyT2JqKCcnXG4gICAgLy8gc3RydWN0dXJlXG4gICAgKyAnc3ZnLGcsZGVmcyxkZXNjLG1ldGFkYXRhLHN5bWJvbCx1c2UsJ1xuICAgIC8vIGltYWdlICYgc2hhcGVcbiAgICArICdpbWFnZSxwYXRoLHJlY3QsY2lyY2xlLGxpbmUsZWxsaXBzZSxwb2x5bGluZSxwb2x5Z29uLCdcbiAgICAvLyB0ZXh0XG4gICAgKyAndGV4dCx0c3Bhbix0cmVmLHRleHRwYXRoLCdcbiAgICAvLyBvdGhlclxuICAgICsgJ21hcmtlcixwYXR0ZXJuLGNsaXBwYXRoLG1hc2ssZmlsdGVyLGN1cnNvcix2aWV3LGFuaW1hdGUsJ1xuICAgIC8vIGZvbnRcbiAgICArICdmb250LGZvbnQtZmFjZSxnbHlwaCxtaXNzaW5nLWdseXBoJyk7XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN2Z1RhZ3M7XG5cblxuLyoqXG4gKiBAZmlsZSBET03liJvlu7pcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBzdmdUYWdzID0gcmVxdWlyZSgnLi9zdmctdGFncycpO1xuXG4vKipcbiAqIOWIm+W7uiBET00g5YWD57SgXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lIHRhZ05hbWVcbiAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVFbCh0YWdOYW1lKSB7XG4gICAgaWYgKHN2Z1RhZ3NbdGFnTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWdOYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRWw7XG5cblxuLyoqXG4gKiBAZmlsZSDnp7vpmaRET01cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog5bCGIERPTSDku47pobXpnaLkuK3np7vpmaRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBET03lhYPntKBcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRWwoZWwpIHtcbiAgICBpZiAoZWwgJiYgZWwucGFyZW50Tm9kZSkge1xuICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlbW92ZUVsO1xuXG5cbi8qKlxuICogQGZpbGUg5Zyo5LiL5LiA5Liq5pe26Ze05ZGo5pyf6L+Q6KGM5Lu75YqhXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyDor6Xmlrnms5Xlj4LnhafkuoZ2dWUyLjUuMOeahOWunueOsO+8jOaEn+iwonZ1ZeWboumYn1xuLy8gU0VFOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlL2Jsb2IvMDk0OGQ5OTlmMmZkZGY5ZjkwOTkxOTU2NDkzZjk3NjI3M2M1ZGExZi9zcmMvY29yZS91dGlsL2Vudi5qcyNMNjhcblxuXG4vLyB2YXIgYmluZCA9IHJlcXVpcmUoJy4vYmluZCcpO1xuXG4vKipcbiAqIOS4i+S4gOS4quWRqOacn+imgeaJp+ihjOeahOS7u+WKoeWIl+ihqFxuICpcbiAqIEBpbm5lclxuICogQHR5cGUge0FycmF5fVxuICovXG52YXIgbmV4dFRhc2tzID0gW107XG5cbi8qKlxuICog5omn6KGM5LiL5LiA5Liq5ZGo5pyf5Lu75Yqh55qE5Ye95pWwXG4gKlxuICogQGlubmVyXG4gKiBAdHlwZSB7RnVuY3Rpb259XG4gKi9cbnZhciBuZXh0SGFuZGxlcjtcblxuLyoqXG4gKiDmtY/op4jlmajmmK/lkKbmlK/mjIHljp/nlJ9Qcm9taXNlXG4gKiDlr7lQcm9taXNl5YGa5Yik5pat77yM5piv5Li65LqG56aB55So5LiA5Lqb5LiN5Lil6LCo55qEUHJvbWlzZeeahHBvbHlmaWxsXG4gKlxuICogQGlubmVyXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xudmFyIGlzTmF0aXZlUHJvbWlzZSA9IHR5cGVvZiBQcm9taXNlID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChQcm9taXNlKTtcblxuLyoqXG4gKiDlnKjkuIvkuIDkuKrml7bpl7TlkajmnJ/ov5DooYzku7vliqFcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIOimgei/kOihjOeahOS7u+WKoeWHveaVsFxuICogQHBhcmFtIHtPYmplY3Q9fSB0aGlzQXJnIHRoaXPmjIflkJHlr7nosaFcbiAqL1xuZnVuY3Rpb24gbmV4dFRpY2soZm4sIHRoaXNBcmcpIHtcbiAgICBpZiAodGhpc0FyZykge1xuICAgICAgICBmbiA9IGJpbmQoZm4sIHRoaXNBcmcpO1xuICAgIH1cbiAgICBuZXh0VGFza3MucHVzaChmbik7XG5cbiAgICBpZiAobmV4dEhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5leHRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFza3MgPSBuZXh0VGFza3Muc2xpY2UoMCk7XG4gICAgICAgIG5leHRUYXNrcyA9IFtdO1xuICAgICAgICBuZXh0SGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YXNrcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRhc2tzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8g6Z2e5qCH5YeG5pa55rOV77yM5L2G5piv5q2k5pa55rOV6Z2e5bi45ZC75ZCI6KaB5rGC44CCXG4gICAgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc2V0SW1tZWRpYXRlKG5leHRIYW5kbGVyKTtcbiAgICB9XG4gICAgLy8g55SoTWVzc2FnZUNoYW5uZWzljrvlgZpzZXRJbW1lZGlhdGXnmoRwb2x5ZmlsbFxuICAgIC8vIOWOn+eQhuaYr+WwhuaWsOeahG1lc3NhZ2Xkuovku7bliqDlhaXliLDljp/mnInnmoRkb20gZXZlbnRz5LmL5ZCOXG4gICAgZWxzZSBpZiAodHlwZW9mIE1lc3NhZ2VDaGFubmVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIHZhciBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBuZXh0SGFuZGxlcjtcbiAgICAgICAgcG9ydC5wb3N0TWVzc2FnZSgxKTtcbiAgICB9XG4gICAgLy8gZm9yIG5hdGl2ZSBhcHBcbiAgICBlbHNlIGlmIChpc05hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0SGFuZGxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KG5leHRIYW5kbGVyLCAwKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5leHRUaWNrO1xuXG5cbi8qKlxuICogQGZpbGUgaWXniYjmnKzlj7dcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog5LuOdXNlckFnZW505LitaWXniYjmnKzlj7fnmoTljLnphY3kv6Hmga9cbiAqXG4gKiBAdHlwZSB7QXJyYXl9XG4gKi9cbnZhciBpZVZlcnNpb25NYXRjaCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnXG4gICAgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvbXNpZVxccyooWzAtOV0rKS9pKTtcblxuLyoqXG4gKiBpZeeJiOacrOWPt++8jOmdnmll5pe25Li6MFxuICpcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBpZSA9IGllVmVyc2lvbk1hdGNoID8gaWVWZXJzaW9uTWF0Y2hbMV0gLSAwIDogMDtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaWU7XG5cblxuLyoqXG4gKiBAZmlsZSDmmK/lkKYgSUUg5bm25LiU5bCP5LqOIDlcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBpZSA9IHJlcXVpcmUoJy4vaWUnKTtcblxuLy8gSEFDSzpcbi8vIDEuIElFOOS4i++8jOiuvue9rmlubmVySFRNTOaXtuWmguaenOS7pWh0bWwgY29tbWVudOW8gOWktO+8jGNvbW1lbnTkvJrooqvoh6rliqjmu6Tmjolcbi8vICAgIOS4uuS6huS/neivgXN0dW1w5a2Y5Zyo77yM6ZyA6KaB6K6+572u5a6MaHRtbOWQju+8jGNyZWF0ZUNvbW1lbnTlubZhcHBlbmRDaGlsZC9pbnNlcnRCZWZvcmVcbi8vIDIuIElFOOS4i++8jGlubmVySFRNTOi/mOS4jeaUr+aMgWN1c3RvbSBlbGVtZW5077yM5omA5Lul6ZyA6KaB55SoZGl25pu/5Luj77yM5LiN55SoY3JlYXRlRWxlbWVudFxuLy8gMy4g6Jm954S2SUU45bey57uP5LyY5YyW5LqG5a2X56ym5LiyK+i/nuaOpe+8jOeijueJh+WMlui/nuaOpeaAp+iDveS4jeWGjemAgOWMllxuLy8gICAg5L2G5piv55Sx5LqO5LiK6Z2i5aSa5Liq5YW85a655Zy65pmv6YO955SoIDwgOSDliKTmlq3vvIzmiYDku6XlrZfnrKbkuLLov57mjqXkuZ/msr/nlKhcbi8vICAgIOaJgOS7pee7k+aenOaYr0lFOOS4i+Wtl+espuS4sui/nuaOpeeUqOeahOaYr+aVsOe7hGpvaW7nmoTmlrnlvI9cblxuLy8gI1tiZWdpbl0gYWxsdWFcbi8qKlxuICog5piv5ZCmIElFIOW5tuS4lOWwj+S6jiA5XG4gKi9cbnZhciBpZU9sZFRoYW45ID0gaWUgJiYgaWUgPCA5O1xuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGllT2xkVGhhbjk7XG5cblxuLyoqXG4gKiBAZmlsZSBET00g5LqL5Lu25oyC6L29XG4gKiBAYXV0aG9yIGRhZnJvayhvLm9AbXVnLmRvZylcbiAqL1xuXG4vKipcbiAqIERPTSDkuovku7bmjILovb1cbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIERPTeWFg+e0oFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSDkuovku7blkI1cbiAqL1xuZnVuY3Rpb24gdHJpZ2dlcihlbCwgZXZlbnROYW1lKSB7XG4gICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTtcbiAgICBldmVudC5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlKTtcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHJpZ2dlcjtcblxuXG4vKipcbiAqIEBmaWxlIOino+WGsyBJRTkg5Zyo6KGo5Y2V5YWD57Sg5Lit5Yig6Zmk5a2X56ym5pe25LiN6Kem5Y+R5LqL5Lu255qE6Zeu6aKYXG4gKiBAYXV0aG9yIGRhZnJvayhvLm9AbXVnLmRvZylcbiAqL1xuXG4vLyB2YXIgaWUgPSByZXF1aXJlKCcuL2llJyk7XG4vLyB2YXIgb24gPSByZXF1aXJlKCcuL29uJyk7XG4vLyB2YXIgdHJpZ2dlciA9IHJlcXVpcmUoJy4vdHJpZ2dlcicpO1xuXG4vLyAjW2JlZ2luXSBhbGx1YVxuaWYgKGllID09PSA5KSB7XG4gICAgb24oZG9jdW1lbnQsICdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IGVsLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgICAgIHRyaWdnZXIoZWwsICdpbnB1dCcpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyAjW2VuZF1cblxuXG4vKipcbiAqIEBmaWxlIOiHqumXreWQiOagh+etvuihqFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIHNwbGl0U3RyMk9iaiA9IHJlcXVpcmUoJy4uL3V0aWwvc3BsaXQtc3RyLTItb2JqJyk7XG5cbi8qKlxuICog6Ieq6Zet5ZCI5qCH562+5YiX6KGoXG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIGF1dG9DbG9zZVRhZ3MgPSBzcGxpdFN0cjJPYmooJ2FyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGtleWdlbixwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJyk7XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGF1dG9DbG9zZVRhZ3M7XG5cblxuLyoqXG4gKiBAZmlsZSBkYXRhIHR5cGVzXG4gKiBAYXV0aG9yIGxlb24gPGx1ZGFmYUBvdXRsb29rLmNvbT5cbiAqL1xuXG4vLyB2YXIgYmluZCA9IHJlcXVpcmUoJy4vYmluZCcpO1xuLy8gdmFyIGVtcHR5ID0gcmVxdWlyZSgnLi9lbXB0eScpO1xuLy8gdmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vZXh0ZW5kJyk7XG5cbi8vICNbYmVnaW5dIGVycm9yXG52YXIgQU5PTllNT1VTX0NMQVNTX05BTUUgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbi8qKlxuICog6I635Y+W57K+56Gu55qE57G75Z6LXG4gKlxuICogQE5PVEUg5aaC5p6cIG9iaiDmmK/kuIDkuKogRE9NRWxlbWVudO+8jOaIkeS7rOS8mui/lOWbniBgZWxlbWVudGDvvJtcbiAqXG4gKiBAcGFyYW0gIHsqfSBvYmog55uu5qCHXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldERhdGFUeXBlKG9iaikge1xuXG4gICAgaWYgKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuICdlbGVtZW50JztcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgICAgICAuY2FsbChvYmopXG4gICAgICAgIC5zbGljZSg4LCAtMSlcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG59XG4vLyAjW2VuZF1cblxuLyoqXG4gKiDliJvlu7rpk77lvI/nmoTmlbDmja7nsbvlnovmoKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gdmFsaWRhdGUg55yf5q2j55qE5qCh6aqM5ZmoXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIHZhciBjaGFpbmVkQ2hlY2tlciA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGNoYWluZWRDaGVja2VyLmlzUmVxdWlyZWQgPSBlbXB0eTtcblxuICAgIC8vIOWPquWcqCBlcnJvciDlip/og73lkK/nlKjml7bmiY3mnInlrp7pmYXkuIrnmoQgZGF0YVR5cGVzIOajgOa1i1xuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgdmFyIGNoZWNrVHlwZSA9IGZ1bmN0aW9uIChpc1JlcXVpcmVkLCBkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKSB7XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSBnZXREYXRhVHlwZShkYXRhVmFsdWUpO1xuXG4gICAgICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VU19DTEFTU19OQU1FO1xuXG4gICAgICAgIC8vIOWmguaenOaYryBudWxsIOaIliB1bmRlZmluZWTvvIzpgqPkuYjopoHmj5DliY3ov5Tlm57llaZcbiAgICAgICAgaWYgKGRhdGFWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyDmmK8gcmVxdWlyZWQg5bCx5oql6ZSZXG4gICAgICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICAgICArICdUaGUgYCcgKyBkYXRhTmFtZSArICdgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluIGAnICsgY29tcG9uZW50TmFtZSArICdgLCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2J1dCBpdHMgdmFsdWUgaXMgJyArIGRhdGFUeXBlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOS4jeaYryByZXF1aXJlZO+8jOmCo+WwseaYryBvayDnmoRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbGlkYXRlKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpO1xuXG4gICAgfTtcblxuICAgIGNoYWluZWRDaGVja2VyID0gYmluZChjaGVja1R5cGUsIG51bGwsIGZhbHNlKTtcbiAgICBjaGFpbmVkQ2hlY2tlci5pc1JlcXVpcmVkID0gYmluZChjaGVja1R5cGUsIG51bGwsIHRydWUpO1xuICAgIC8vICNbZW5kXVxuXG5cblxuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tlcjtcblxufVxuXG4vLyAjW2JlZ2luXSBlcnJvclxuLyoqXG4gKiDnlJ/miJDkuLvopoHnsbvlnovmlbDmja7moKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUg5Li757G75Z6LXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKHR5cGUpIHtcblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGZ1bmN0aW9uIChkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKSB7XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSBnZXREYXRhVHlwZShkYXRhVmFsdWUpO1xuXG4gICAgICAgIGlmIChkYXRhVHlwZSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgKyAnSW52YWxpZCAnICsgY29tcG9uZW50TmFtZSArICcgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIG9mIHR5cGUnXG4gICAgICAgICAgICAgICAgKyAnKCcgKyBkYXRhVHlwZSArICcgc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCAnXG4gICAgICAgICAgICAgICAgKyAnZXhwZWN0ZWQgJyArIHR5cGUgKyAnKSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG59XG5cblxuXG4vKipcbiAqIOeUn+aIkCBhcnJheU9mIOagoemqjOWZqFxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBhcnJheUl0ZW1DaGVja2VyIOaVsOe7hOS4reavj+mhueaVsOaNrueahOagoemqjOWZqFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZDaGVja2VyKGFycmF5SXRlbUNoZWNrZXIpIHtcblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGZ1bmN0aW9uIChkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhcnJheUl0ZW1DaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdEYXRhIGAnICsgZGF0YU5hbWUgKyAnYCBvZiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YVR5cGUgbm90YXRpb24gaW5zaWRlIGBhcnJheU9mYCwgZXhwZWN0ZWQgYGZ1bmN0aW9uYCdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG4gICAgICAgIHZhciBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGRhdGFWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGRhdGFUeXBlICE9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgdHlwZSdcbiAgICAgICAgICAgICAgICArICcoJyArIGRhdGFUeXBlICsgJyBzdXBwbGllZCB0byAnICsgY29tcG9uZW50TmFtZSArICcsICdcbiAgICAgICAgICAgICAgICArICdleHBlY3RlZCBhcnJheSknXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRhdGFWYWx1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgYXJyYXlJdGVtQ2hlY2tlcihkYXRhVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSArICdbJyArIGkgKyAnXScpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxufVxuXG4vKipcbiAqIOeUn+aIkCBpbnN0YW5jZU9mIOajgOa1i+WZqFxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufENsYXNzfSBleHBlY3RlZENsYXNzIOacn+W+heeahOexu1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlT2ZDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGZ1bmN0aW9uIChkYXRhLCBkYXRhTmFtZSwgY29tcG9uZW50TmFtZSwgZnVsbERhdGFOYW1lKSB7XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuXG4gICAgICAgIGlmIChkYXRhVmFsdWUgaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlQ2xhc3NOYW1lID0gZGF0YVZhbHVlLmNvbnN0cnVjdG9yICYmIGRhdGFWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgICAgICA/IGRhdGFWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgICAgICAgICA6IEFOT05ZTU9VU19DTEFTU19OQU1FO1xuXG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVNfQ0xBU1NfTkFNRTtcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICsgJ0ludmFsaWQgJyArIGNvbXBvbmVudE5hbWUgKyAnIGRhdGEgYCcgKyBmdWxsRGF0YU5hbWUgKyAnYCBvZiB0eXBlJ1xuICAgICAgICAgICAgKyAnKCcgKyBkYXRhVmFsdWVDbGFzc05hbWUgKyAnIHN1cHBsaWVkIHRvICcgKyBjb21wb25lbnROYW1lICsgJywgJ1xuICAgICAgICAgICAgKyAnZXhwZWN0ZWQgaW5zdGFuY2Ugb2YgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJyknXG4gICAgICAgICk7XG5cblxuICAgIH0pO1xuXG59XG5cbi8qKlxuICog55Sf5oiQIHNoYXBlIOagoemqjOWZqFxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gc2hhcGVUeXBlcyBzaGFwZSDmoKHpqozop4TliJlcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVTaGFwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICBpZiAoZ2V0RGF0YVR5cGUoc2hhcGVUeXBlcykgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdEYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGFUeXBlIG5vdGF0aW9uIGluc2lkZSBgc2hhcGVgLCBleHBlY3RlZCBgb2JqZWN0YCdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG4gICAgICAgIHZhciBkYXRhVHlwZSA9IGdldERhdGFUeXBlKGRhdGFWYWx1ZSk7XG5cbiAgICAgICAgaWYgKGRhdGFUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgKyAnSW52YWxpZCAnICsgY29tcG9uZW50TmFtZSArICcgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIG9mIHR5cGUnXG4gICAgICAgICAgICAgICAgKyAnKCcgKyBkYXRhVHlwZSArICcgc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCAnXG4gICAgICAgICAgICAgICAgKyAnZXhwZWN0ZWQgb2JqZWN0KSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBzaGFwZUtleU5hbWUgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICAgICAgaWYgKHNoYXBlVHlwZXMuaGFzT3duUHJvcGVydHkoc2hhcGVLZXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1tzaGFwZUtleU5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hlY2tlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VyKGRhdGFWYWx1ZSwgc2hhcGVLZXlOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUgKyAnLicgKyBzaGFwZUtleU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiDnlJ/miJAgb25lT2Yg5qCh6aqM5ZmoXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGV4cGVjdGVkRW51bVZhbHVlcyDmnJ/lvoXnmoTmnprkuL7lgLxcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVPbmVPZkNoZWNrZXIoZXhwZWN0ZWRFbnVtVmFsdWVzKSB7XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihmdW5jdGlvbiAoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSkge1xuXG4gICAgICAgIGlmIChnZXREYXRhVHlwZShleHBlY3RlZEVudW1WYWx1ZXMpICE9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdEYXRhIGAnICsgZnVsbERhdGFOYW1lICsgJ2Agb2YgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGFUeXBlIG5vdGF0aW9uIGluc2lkZSBgb25lT2ZgLCBhcnJheSBpcyBleHBlY3RlZC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHBlY3RlZEVudW1WYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChkYXRhVmFsdWUgPT09IGV4cGVjdGVkRW51bVZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgKyAnSW52YWxpZCAnICsgY29tcG9uZW50TmFtZSArICcgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIG9mIHZhbHVlJ1xuICAgICAgICAgICAgKyAnKGAnICsgZGF0YVZhbHVlICsgJ2Agc3VwcGxpZWQgdG8gJyArIGNvbXBvbmVudE5hbWUgKyAnLCAnXG4gICAgICAgICAgICArICdleHBlY3RlZCBvbmUgb2YgJyArIGV4cGVjdGVkRW51bVZhbHVlcy5qb2luKCcsJykgKyAnKSdcbiAgICAgICAgKTtcblxuICAgIH0pO1xuXG59XG5cbi8qKlxuICog55Sf5oiQIG9uZU9mVHlwZSDmoKHpqozlmahcbiAqXG4gKiBAcGFyYW0gIHtBcnJheTxGdW5jdGlvbj59IGV4cGVjdGVkRW51bU9mVHlwZVZhbHVlcyDmnJ/lvoXnmoTmnprkuL7nsbvlnotcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVPbmVPZlR5cGVDaGVja2VyKGV4cGVjdGVkRW51bU9mVHlwZVZhbHVlcykge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICBpZiAoZ2V0RGF0YVR5cGUoZXhwZWN0ZWRFbnVtT2ZUeXBlVmFsdWVzKSAhPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YSBgJyArIGRhdGFOYW1lICsgJ2Agb2YgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGFUeXBlIG5vdGF0aW9uIGluc2lkZSBgb25lT2ZgLCBhcnJheSBpcyBleHBlY3RlZC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFWYWx1ZSA9IGRhdGFbZGF0YU5hbWVdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHBlY3RlZEVudW1PZlR5cGVWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblxuICAgICAgICAgICAgdmFyIGNoZWNrZXIgPSBleHBlY3RlZEVudW1PZlR5cGVWYWx1ZXNbaV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNoZWNrZXIoZGF0YSwgZGF0YU5hbWUsIGNvbXBvbmVudE5hbWUsIGZ1bGxEYXRhTmFtZSk7XG4gICAgICAgICAgICAgICAgLy8g5aaC5p6cIGNoZWNrZXIg5a6M5oiQ5qCh6aqM5rKh5oql6ZSZ77yM6YKj5bCx6L+U5Zue5LqGXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmnInplJnor6/vvIzpgqPkuYjlupTor6XmiorplJnor6/lkJ7mjolcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5omA5pyJ55qE5Y+v5o6l5Y+XIHR5cGUg6YO95aSx6LSl5LqG77yM5omN5Lii5LiA5Liq5byC5bi4XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgKyAnSW52YWxpZCAnICsgY29tcG9uZW50TmFtZSArICcgZGF0YSBgJyArIGRhdGFOYW1lICsgJ2Agb2YgdmFsdWUnXG4gICAgICAgICAgICArICcoYCcgKyBkYXRhVmFsdWUgKyAnYCBzdXBwbGllZCB0byAnICsgY29tcG9uZW50TmFtZSArICcpJ1xuICAgICAgICApO1xuXG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiDnlJ/miJAgb2JqZWN0T2Yg5qCh6aqM5ZmoXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IHR5cGVDaGVja2VyIOWvueixoeWxnuaAp+WAvOagoemqjOWZqFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUpIHtcblxuICAgICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdEYXRhIGAnICsgZGF0YU5hbWUgKyAnYCBvZiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCAnXG4gICAgICAgICAgICAgICAgKyAnRGF0YVR5cGUgbm90YXRpb24gaW5zaWRlIGBvYmplY3RPZmAsIGV4cGVjdGVkIGZ1bmN0aW9uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhVmFsdWUgPSBkYXRhW2RhdGFOYW1lXTtcbiAgICAgICAgdmFyIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGUoZGF0YVZhbHVlKTtcblxuICAgICAgICBpZiAoZGF0YVR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICArICdJbnZhbGlkICcgKyBjb21wb25lbnROYW1lICsgJyBkYXRhIGAnICsgZGF0YU5hbWUgKyAnYCBvZiB0eXBlJ1xuICAgICAgICAgICAgICAgICsgJygnICsgZGF0YVR5cGUgKyAnIHN1cHBsaWVkIHRvICcgKyBjb21wb25lbnROYW1lICsgJywgJ1xuICAgICAgICAgICAgICAgICsgJ2V4cGVjdGVkIG9iamVjdCknXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgZGF0YUtleU5hbWUgaW4gZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVZhbHVlLmhhc093blByb3BlcnR5KGRhdGFLZXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHR5cGVDaGVja2VyKFxuICAgICAgICAgICAgICAgICAgICBkYXRhVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFLZXlOYW1lLFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBmdWxsRGF0YU5hbWUgKyAnLicgKyBkYXRhS2V5TmFtZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiDnlJ/miJAgZXhhY3Qg5qCh6aqM5ZmoXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBzaGFwZVR5cGVzIG9iamVjdCDlvaLmgIHlrprkuYlcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjcmVhdGVFeGFjdENoZWNrZXIoc2hhcGVUeXBlcykge1xuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZnVuY3Rpb24gKGRhdGEsIGRhdGFOYW1lLCBjb21wb25lbnROYW1lLCBmdWxsRGF0YU5hbWUsIHNlY3JldCkge1xuXG4gICAgICAgIGlmIChnZXREYXRhVHlwZShzaGFwZVR5cGVzKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0RhdGEgYCcgKyBkYXRhTmFtZSArICdgIG9mIGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkICdcbiAgICAgICAgICAgICAgICArICdEYXRhVHlwZSBub3RhdGlvbiBpbnNpZGUgYGV4YWN0YCdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YVZhbHVlID0gZGF0YVtkYXRhTmFtZV07XG4gICAgICAgIHZhciBkYXRhVmFsdWVUeXBlID0gZ2V0RGF0YVR5cGUoZGF0YVZhbHVlKTtcblxuICAgICAgICBpZiAoZGF0YVZhbHVlVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gJ1xuICAgICAgICAgICAgICAgICsgJ0ludmFsaWQgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIG9mIHR5cGUgYCcgKyBkYXRhVmFsdWVUeXBlICsgJ2AnXG4gICAgICAgICAgICAgICAgKyAnKHN1cHBsaWVkIHRvICcgKyBjb21wb25lbnROYW1lICsgJywgZXhwZWN0ZWQgYG9iamVjdGApJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhbGxLZXlzID0ge307XG5cbiAgICAgICAgLy8g5YWI5ZCI5YWlIHNoYXBlVHlwZXNcbiAgICAgICAgZXh0ZW5kKGFsbEtleXMsIHNoYXBlVHlwZXMpO1xuICAgICAgICAvLyDlho3lkIjlhaUgZGF0YVZhbHVlXG4gICAgICAgIGV4dGVuZChhbGxLZXlzLCBkYXRhVmFsdWUpO1xuICAgICAgICAvLyDkv53or4EgYWxsS2V5cyDnmoTnsbvlnovmraPnoa5cblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYWxsS2V5cykge1xuICAgICAgICAgICAgaWYgKGFsbEtleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuXG4gICAgICAgICAgICAgICAgLy8gZGF0YVZhbHVlIOS4reacieS4gOS4quWkmuS9meeahOaVsOaNrumhuVxuICAgICAgICAgICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ0ludmFsaWQgZGF0YSBgJyArIGZ1bGxEYXRhTmFtZSArICdgIGtleSBgJyArIGtleSArICdgICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLiAnXG4gICAgICAgICAgICAgICAgICAgICAgICArICcoYCcgKyBrZXkgKyAnYCBpcyBub3QgZGVmaW5lZCBpbiBgRGF0YVR5cGVzLmV4YWN0YCknXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGFWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgICAgICAgICArICdJbnZhbGlkIGRhdGEgYCcgKyBmdWxsRGF0YU5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCAnXG4gICAgICAgICAgICAgICAgICAgICAgICArICdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4gJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyAnKGAnICsga2V5ICsgJ2AgaXMgbWFya2VkIGByZXF1aXJlZGAgaW4gYERhdGFUeXBlcy5leGFjdGApJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoZWNrZXIoXG4gICAgICAgICAgICAgICAgICAgIGRhdGFWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBmdWxsRGF0YU5hbWUgKyAnLicgKyBrZXksXG4gICAgICAgICAgICAgICAgICAgIHNlY3JldFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbn1cbi8vICNbZW5kXVxuXG5cblxuLyogZXNsaW50LWRpc2FibGUgZmVjcy12YWxpZC12YXItanNkb2MgKi9cbnZhciBEYXRhVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZW1wdHkpLFxuICAgIG9iamVjdDogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgZnVuYzogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgc3RyaW5nOiBjcmVhdGVDaGFpbmFibGVDaGVja2VyKGVtcHR5KSxcbiAgICBudW1iZXI6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZW1wdHkpLFxuICAgIGJvb2w6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZW1wdHkpLFxuICAgIHN5bWJvbDogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcihlbXB0eSksXG4gICAgYW55OiBjcmVhdGVDaGFpbmFibGVDaGVja2VyLFxuICAgIGFycmF5T2Y6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIsXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBzaGFwZTogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlQ2hhaW5hYmxlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIsXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXJcbn07XG5cbi8vICNbYmVnaW5dIGVycm9yXG5EYXRhVHlwZXMgPSB7XG5cbiAgICBhbnk6IGNyZWF0ZUNoYWluYWJsZUNoZWNrZXIoZW1wdHkpLFxuXG4gICAgLy8g57G75Z6L5qOA5rWLXG4gICAgYXJyYXk6IGNyZWF0ZVByaW1hcnlUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgICBvYmplY3Q6IGNyZWF0ZVByaW1hcnlUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdmdW5jdGlvbicpLFxuICAgIHN0cmluZzogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgICBudW1iZXI6IGNyZWF0ZVByaW1hcnlUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgYm9vbDogY3JlYXRlUHJpbWFyeVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltYXJ5VHlwZUNoZWNrZXIoJ3N5bWJvbCcpLFxuXG4gICAgLy8g5aSN5ZCI57G75Z6L5qOA5rWLXG4gICAgYXJyYXlPZjogY3JlYXRlQXJyYXlPZkNoZWNrZXIsXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VPZkNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlQ2hlY2tlcixcbiAgICBvbmVPZjogY3JlYXRlT25lT2ZDaGVja2VyLFxuICAgIG9uZU9mVHlwZTogY3JlYXRlT25lT2ZUeXBlQ2hlY2tlcixcbiAgICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVFeGFjdENoZWNrZXJcblxufTtcbi8qIGVzbGludC1lbmFibGUgZmVjcy12YWxpZC12YXItanNkb2MgKi9cbi8vICNbZW5kXVxuXG5cbi8vIG1vZHVsZS5leHBvcnRzID0gRGF0YVR5cGVzO1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu65pWw5o2u5qOA5rWL5Ye95pWwXG4gKiBAYXV0aG9yIGxlb248bHVkYWZhQG91dGxvb2suY29tPlxuICovXG5cblxuLy8gI1tiZWdpbl0gZXJyb3JcblxuLyoqXG4gKiDliJvlu7rmlbDmja7mo4DmtYvlh73mlbBcbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IGRhdGFUeXBlcyAgICAg5pWw5o2u5qC85byPXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUg57uE5Lu25ZCNXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGF0YVR5cGVzQ2hlY2tlcihkYXRhVHlwZXMsIGNvbXBvbmVudE5hbWUpIHtcblxuICAgIC8qKlxuICAgICAqIOagoemqjCBkYXRhIOaYr+WQpua7oei2syBkYXRhIHR5cGVzIOeahOagvOW8j1xuICAgICAqXG4gICAgICogQHBhcmFtICB7Kn0gZGF0YSDmlbDmja5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgICAgICBmb3IgKHZhciBkYXRhVHlwZU5hbWUgaW4gZGF0YVR5cGVzKSB7XG5cbiAgICAgICAgICAgIGlmIChkYXRhVHlwZXMuaGFzT3duUHJvcGVydHkoZGF0YVR5cGVOYW1lKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUeXBlQ2hlY2tlciA9IGRhdGFUeXBlc1tkYXRhVHlwZU5hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhVHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnXG4gICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBvbmVudE5hbWUgKyAnOicgKyBkYXRhVHlwZU5hbWUgKyAnIGlzIGludmFsaWQ7ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHNhbi5EYXRhVHlwZXMnXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YVR5cGVDaGVja2VyKFxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlTmFtZVxuICAgICAgICAgICAgICAgICk7XG5cblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG59XG5cbi8vICNbZW5kXVxuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURhdGFUeXBlc0NoZWNrZXI7XG5cblxuLyoqXG4gKiBAZmlsZSDlrZfnrKbkuLLmupDnoIHor7vlj5bnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLyoqXG4gKiDlrZfnrKbkuLLmupDnoIHor7vlj5bnsbvvvIznlKjkuo7mqKHmnb/lrZfnrKbkuLLop6PmnpDov4fnqItcbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6KaB6K+75Y+W55qE5a2X56ym5LiyXG4gKi9cbmZ1bmN0aW9uIFdhbGtlcihzb3VyY2UpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLmxlbiA9IHRoaXMuc291cmNlLmxlbmd0aDtcbiAgICB0aGlzLmluZGV4ID0gMDtcbn1cblxuLyoqXG4gKiDojrflj5blvZPliY3lrZfnrKbnoIFcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbldhbGtlci5wcm90b3R5cGUuY3VycmVudENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhckNvZGUodGhpcy5pbmRleCk7XG59O1xuXG4vKipcbiAqIOaIquWPluWtl+espuS4sueJh+autVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCDotbflp4vkvY3nva5cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQg57uT5p2f5L2N572uXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbldhbGtlci5wcm90b3R5cGUuY3V0ID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XG59O1xuXG4vKipcbiAqIOWQkeWJjeivu+WPluWtl+esplxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSDor7vlj5blrZfnrKbmlbBcbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5nbyA9IGZ1bmN0aW9uIChkaXN0YW5jZSkge1xuICAgIHRoaXMuaW5kZXggKz0gZGlzdGFuY2U7XG59O1xuXG4vKipcbiAqIOivu+WPluS4i+S4gOS4quWtl+espu+8jOi/lOWbnuS4i+S4gOS4quWtl+espueahCBjb2RlXG4gKlxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5XYWxrZXIucHJvdG90eXBlLm5leHRDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZ28oMSk7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudENvZGUoKTtcbn07XG5cbi8qKlxuICog6I635Y+W55u45bqU5L2N572u5a2X56ym55qEIGNvZGVcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg5a2X56ym5L2N572uXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbldhbGtlci5wcm90b3R5cGUuY2hhckNvZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UuY2hhckNvZGVBdChpbmRleCk7XG59O1xuXG4vKipcbiAqIOWQkeWJjeivu+WPluWtl+espu+8jOebtOWIsOmBh+WIsOaMh+WumuWtl+espuWGjeWBnOatolxuICog5pyq5oyH5a6a5a2X56ym5pe277yM5b2T6YGH5Yiw56ys5LiA5Liq6Z2e56m65qC844CB5Yi26KGo56ym55qE5a2X56ym5YGc5q2iXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBjaGFyQ29kZSDmjIflrprlrZfnrKbnmoRjb2RlXG4gKiBAcmV0dXJuIHtib29sZWFufSDlvZPmjIflrprlrZfnrKbml7bvvIzov5Tlm57mmK/lkKbnorDliLDmjIflrprnmoTlrZfnrKZcbiAqL1xuV2Fsa2VyLnByb3RvdHlwZS5nb1VudGlsID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgdmFyIGNvZGU7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbiAmJiAoY29kZSA9IHRoaXMuY3VycmVudENvZGUoKSkpIHtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAvLyDnqbrmoLwgc3BhY2VcbiAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAvLyDliLbooajnrKYgdGFiXG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiDlkJHliY3or7vlj5bnrKblkIjop4TliJnnmoTlrZfnrKbniYfmrrXvvIzlubbov5Tlm57op4TliJnljLnphY3nu5PmnpxcbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVnIOWtl+espueJh+auteeahOato+WImeihqOi+vuW8j1xuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbldhbGtlci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAocmVnKSB7XG4gICAgcmVnLmxhc3RJbmRleCA9IHRoaXMuaW5kZXg7XG5cbiAgICB2YXIgbWF0Y2ggPSByZWcuZXhlYyh0aGlzLnNvdXJjZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSByZWcubGFzdEluZGV4O1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaDtcbn07XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IFdhbGtlcjtcblxuXG4vKipcbiAqIEBmaWxlIOaooeadv+ino+aekOeUn+aIkOeahOaKveixoeiKgueCuVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDliJvlu7rmqKHmnb/op6PmnpDnlJ/miJDnmoTmir3osaHoioLngrlcbiAqXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMg6IqC54K55Y+C5pWwXG4gKiBAcGFyYW0ge3N0cmluZz19IG9wdGlvbnMudGFnTmFtZSDmoIfnrb7lkI1cbiAqIEBwYXJhbSB7QU5vZGU9fSBvcHRpb25zLnBhcmVudCDniLboioLngrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdGlvbnMudGV4dEV4cHIg5paH5pys6IqC54K56KGo6L6+5byP5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFOb2RlKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmICghb3B0aW9ucy50ZXh0RXhwcikge1xuICAgICAgICBvcHRpb25zLmRpcmVjdGl2ZXMgPSBvcHRpb25zLmRpcmVjdGl2ZXMgfHwge307XG4gICAgICAgIG9wdGlvbnMucHJvcHMgPSBvcHRpb25zLnByb3BzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzIHx8IFtdO1xuICAgICAgICBvcHRpb25zLmNoaWxkcmVuID0gb3B0aW9ucy5jaGlsZHJlbiB8fCBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlQU5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSDmiooga2ViYWIgY2FzZSDlrZfnrKbkuLLovazmjaLmiJAgY2FtZWwgY2FzZVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDmiooga2ViYWIgY2FzZSDlrZfnrKbkuLLovazmjaLmiJAgY2FtZWwgY2FzZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug5rqQ5a2X56ym5LiyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGtlYmFiMmNhbWVsKHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKG1hdGNoLCBhbHBoYSkge1xuICAgICAgICByZXR1cm4gYWxwaGEudG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ga2ViYWIyY2FtZWw7XG5cblxuLyoqXG4gKiBAZmlsZSDooajovr7lvI/nsbvlnotcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog6KGo6L6+5byP57G75Z6LXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgRXhwclR5cGUgPSB7XG4gICAgU1RSSU5HOiAxLFxuICAgIE5VTUJFUjogMixcbiAgICBCT09MOiAzLFxuICAgIEFDQ0VTU09SOiA0LFxuICAgIElOVEVSUDogNSxcbiAgICBDQUxMOiA2LFxuICAgIFRFWFQ6IDcsXG4gICAgQklOQVJZOiA4LFxuICAgIFVOQVJZOiA5LFxuICAgIFRFUlRJQVJZOiAxMCxcbiAgICBPQkpFQ1Q6IDExLFxuICAgIEFSUkFZOiAxMlxufTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gRXhwclR5cGU7XG5cblxuLyoqXG4gKiBAZmlsZSDliJvlu7rorr/pl67ooajovr7lvI/lr7nosaFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG5cbi8qKlxuICog5Yib5bu66K6/6Zeu6KGo6L6+5byP5a+56LGhXG4gKlxuICogQHBhcmFtIHtBcnJheX0gcGF0aHMg6K6/6Zeu6Lev5b6EXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFjY2Vzc29yKHBhdGhzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogRXhwclR5cGUuQUNDRVNTT1IsXG4gICAgICAgIHBhdGhzOiBwYXRoc1xuICAgIH07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUFjY2Vzc29yO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W5a2X56ym5LiyXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG5cbi8qKlxuICog6K+75Y+W5a2X56ym5LiyXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZFN0cmluZyh3YWxrZXIpIHtcbiAgICB2YXIgc3RhcnRDb2RlID0gd2Fsa2VyLmN1cnJlbnRDb2RlKCk7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB3YWxrZXIuaW5kZXg7XG4gICAgdmFyIGNoYXJDb2RlO1xuXG4gICAgd2Fsa0xvb3A6IHdoaWxlICgoY2hhckNvZGUgPSB3YWxrZXIubmV4dENvZGUoKSkpIHtcbiAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgY2FzZSA5MjogLy8gXFxcbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHN0YXJ0Q29kZTpcbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgYnJlYWsgd2Fsa0xvb3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGl0ZXJhbCA9IHdhbGtlci5jdXQoc3RhcnRJbmRleCwgd2Fsa2VyLmluZGV4KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBFeHByVHlwZS5TVFJJTkcsXG4gICAgICAgIC8vIOWkhOeQhuWtl+espui9rOS5iVxuICAgICAgICB2YWx1ZTogKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBsaXRlcmFsKSkoKVxuICAgIH07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRTdHJpbmc7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bmlbDlrZdcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcblxuLyoqXG4gKiDor7vlj5bmlbDlrZdcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7V2Fsa2VyfSB3YWxrZXIg5rqQ56CB6K+75Y+W5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWROdW1iZXIod2Fsa2VyKSB7XG4gICAgdmFyIG1hdGNoID0gd2Fsa2VyLm1hdGNoKC9cXHMqKC0/WzAtOV0rKFxcLlswLTldKyk/KS9nKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IEV4cHJUeXBlLk5VTUJFUixcbiAgICAgICAgdmFsdWU6ICttYXRjaFsxXVxuICAgIH07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWROdW1iZXI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5ZpZGVudFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDor7vlj5ZpZGVudFxuICog6L+Z6YeM55qEIGlkZW50IOaMh+agh+ivhuespihpZGVudGlmaWVyKe+8jOS5n+WwseaYr+mAmuW4uOaEj+S5ieS4iueahOWPmOmHj+WQjVxuICog6L+Z6YeM6buY6K6k55qE5Y+Y6YeP5ZCN6KeE5YiZ5Li677ya55Sx576O5YWD56ym5Y+3KCQp44CB5pWw5a2X44CB5a2X5q+N5oiW6ICF5LiL5YiS57q/KF8p5p6E5oiQ55qE5a2X56ym5LiyXG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZWFkSWRlbnQod2Fsa2VyKSB7XG4gICAgdmFyIG1hdGNoID0gd2Fsa2VyLm1hdGNoKC9cXHMqKFtcXCQwLTlhLXpfXSspL2lnKTtcbiAgICByZXR1cm4gbWF0Y2hbMV07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRJZGVudDtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluS4ieWFg+ihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkTG9naWNhbE9SRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1sb2dpY2FsLW9yLWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5bkuInlhYPooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkVGVydGlhcnlFeHByKHdhbGtlcikge1xuICAgIHZhciBjb25kaXRpb25hbCA9IHJlYWRMb2dpY2FsT1JFeHByKHdhbGtlcik7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIGlmICh3YWxrZXIuY3VycmVudENvZGUoKSA9PT0gNjMpIHsgLy8gP1xuICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgIHZhciB5ZXNFeHByID0gcmVhZFRlcnRpYXJ5RXhwcih3YWxrZXIpO1xuICAgICAgICB3YWxrZXIuZ29VbnRpbCgpO1xuXG4gICAgICAgIGlmICh3YWxrZXIuY3VycmVudENvZGUoKSA9PT0gNTgpIHsgLy8gOlxuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5URVJUSUFSWSxcbiAgICAgICAgICAgICAgICBzZWdzOiBbXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbmFsLFxuICAgICAgICAgICAgICAgICAgICB5ZXNFeHByLFxuICAgICAgICAgICAgICAgICAgICByZWFkVGVydGlhcnlFeHByKHdhbGtlcilcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmRpdGlvbmFsO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkVGVydGlhcnlFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W6K6/6Zeu6KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIGNyZWF0ZUFjY2Vzc29yID0gcmVxdWlyZSgnLi9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciByZWFkSWRlbnQgPSByZXF1aXJlKCcuL3JlYWQtaWRlbnQnKTtcbi8vIHZhciByZWFkVGVydGlhcnlFeHByID0gcmVxdWlyZSgnLi9yZWFkLXRlcnRpYXJ5LWV4cHInKTtcblxuLyoqXG4gKiDor7vlj5borr/pl67ooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkQWNjZXNzb3Iod2Fsa2VyKSB7XG4gICAgdmFyIGZpcnN0U2VnID0gcmVhZElkZW50KHdhbGtlcik7XG4gICAgc3dpdGNoIChmaXJzdFNlZykge1xuICAgICAgICBjYXNlICd0cnVlJzpcbiAgICAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CT09MLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmaXJzdFNlZyA9PT0gJ3RydWUnXG4gICAgICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSBjcmVhdGVBY2Nlc3NvcihbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgIHZhbHVlOiBmaXJzdFNlZ1xuICAgICAgICB9XG4gICAgXSk7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cbiAgICBhY2Nlc3Nvckxvb3A6IHdoaWxlICgxKSB7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cblxuICAgICAgICBzd2l0Y2ggKHdhbGtlci5jdXJyZW50Q29kZSgpKSB7XG4gICAgICAgICAgICBjYXNlIDQ2OiAvLyAuXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWRlbnQgYXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgcmVzdWx0LnBhdGhzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZWFkSWRlbnQod2Fsa2VyKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDkxOiAvLyBbXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wYXRocy5wdXNoKHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKSk7XG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvVW50aWwoOTMpOyAvLyBdXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWsgYWNjZXNzb3JMb29wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZEFjY2Vzc29yO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W5ous5Y+36KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgcmVhZFRlcnRpYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC10ZXJ0aWFyeS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W5ous5Y+36KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZFBhcmVudGhlc2l6ZWRFeHByKHdhbGtlcikge1xuICAgIHdhbGtlci5nbygxKTtcbiAgICB2YXIgZXhwciA9IHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKTtcbiAgICB3YWxrZXIuZ29VbnRpbCg0MSk7IC8vIClcblxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkUGFyZW50aGVzaXplZEV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bkuIDlhYPooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZFN0cmluZyA9IHJlcXVpcmUoJy4vcmVhZC1zdHJpbmcnKTtcbi8vIHZhciByZWFkTnVtYmVyID0gcmVxdWlyZSgnLi9yZWFkLW51bWJlcicpO1xuLy8gdmFyIHJlYWRBY2Nlc3NvciA9IHJlcXVpcmUoJy4vcmVhZC1hY2Nlc3NvcicpO1xuLy8gdmFyIHJlYWRQYXJlbnRoZXNpemVkRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1wYXJlbnRoZXNpemVkLWV4cHInKTtcblxuXG4vKipcbiAqIOivu+WPluS4gOWFg+ihqOi+vuW8j1xuICpcbiAqIEBwYXJhbSB7V2Fsa2VyfSB3YWxrZXIg5rqQ56CB6K+75Y+W5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRVbmFyeUV4cHIod2Fsa2VyKSB7XG4gICAgd2Fsa2VyLmdvVW50aWwoKTtcblxuICAgIHN3aXRjaCAod2Fsa2VyLmN1cnJlbnRDb2RlKCkpIHtcbiAgICAgICAgY2FzZSAzMzogLy8gIVxuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5VTkFSWSxcbiAgICAgICAgICAgICAgICBleHByOiByZWFkVW5hcnlFeHByKHdhbGtlcilcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAzNDogLy8gXCJcbiAgICAgICAgY2FzZSAzOTogLy8gJ1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRTdHJpbmcod2Fsa2VyKTtcblxuICAgICAgICAvLyBudW1iZXJcbiAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgY2FzZSA0OTpcbiAgICAgICAgY2FzZSA1MDpcbiAgICAgICAgY2FzZSA1MTpcbiAgICAgICAgY2FzZSA1MjpcbiAgICAgICAgY2FzZSA1MzpcbiAgICAgICAgY2FzZSA1NDpcbiAgICAgICAgY2FzZSA1NTpcbiAgICAgICAgY2FzZSA1NjpcbiAgICAgICAgY2FzZSA1NzpcbiAgICAgICAgICAgIHJldHVybiByZWFkTnVtYmVyKHdhbGtlcik7XG5cbiAgICAgICAgY2FzZSA0MDogLy8gKFxuICAgICAgICAgICAgcmV0dXJuIHJlYWRQYXJlbnRoZXNpemVkRXhwcih3YWxrZXIpO1xuXG4gICAgICAgIC8vIGFycmF5IGxpdGVyYWxcbiAgICAgICAgY2FzZSA5MTogLy8gW1xuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgdmFyIGFyckl0ZW1zID0gW107XG4gICAgICAgICAgICB3aGlsZSAoIXdhbGtlci5nb1VudGlsKDkzKSkgeyAvLyBdXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB7fTtcbiAgICAgICAgICAgICAgICBhcnJJdGVtcy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdhbGtlci5jdXJyZW50Q29kZSgpID09PSA0NiAmJiB3YWxrZXIubWF0Y2goL1xcLlxcLlxcLlxccyovZykpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zcHJlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGl0ZW0uZXhwciA9IHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKTtcbiAgICAgICAgICAgICAgICB3YWxrZXIuZ29VbnRpbCg0NCk7IC8vICxcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5BUlJBWSxcbiAgICAgICAgICAgICAgICBpdGVtczogYXJySXRlbXNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy8gb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgY2FzZSAxMjM6IC8vIHtcbiAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgIHZhciBvYmpJdGVtcyA9IFtdO1xuXG4gICAgICAgICAgICB3aGlsZSAoIXdhbGtlci5nb1VudGlsKDEyNSkpIHsgLy8gfVxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0ge307XG4gICAgICAgICAgICAgICAgb2JqSXRlbXMucHVzaChpdGVtKTtcblxuICAgICAgICAgICAgICAgIGlmICh3YWxrZXIuY3VycmVudENvZGUoKSA9PT0gNDYgJiYgd2Fsa2VyLm1hdGNoKC9cXC5cXC5cXC5cXHMqL2cpKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3ByZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5leHByID0gcmVhZFRlcnRpYXJ5RXhwcih3YWxrZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gcmVhZFVuYXJ5RXhwcih3YWxrZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2Fsa2VyLmdvVW50aWwoNTgpKSB7IC8vIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXhwciA9IHJlYWRUZXJ0aWFyeUV4cHIod2Fsa2VyKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5leHByID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZS50eXBlID09PSBFeHByVHlwZS5BQ0NFU1NPUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5uYW1lLnBhdGhzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvVW50aWwoNDQpOyAvLyAsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuT0JKRUNULFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBvYmpJdGVtc1xuICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVhZEFjY2Vzc29yKHdhbGtlcik7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRVbmFyeUV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bkuZjms5Xooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZFVuYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC11bmFyeS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W5LmY5rOV6KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZE11bHRpcGxpY2F0aXZlRXhwcih3YWxrZXIpIHtcbiAgICB2YXIgZXhwciA9IHJlYWRVbmFyeUV4cHIod2Fsa2VyKTtcblxuICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHdhbGtlci5nb1VudGlsKCk7XG5cbiAgICAgICAgdmFyIGNvZGUgPSB3YWxrZXIuY3VycmVudENvZGUoKTtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICBjYXNlIDM3OiAvLyAlXG4gICAgICAgICAgICBjYXNlIDQyOiAvLyAqXG4gICAgICAgICAgICBjYXNlIDQ3OiAvLyAvXG4gICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgICAgIGV4cHIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLkJJTkFSWSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNlZ3M6IFtleHByLCByZWFkVW5hcnlFeHByKHdhbGtlcildXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRNdWx0aXBsaWNhdGl2ZUV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bliqDms5Xooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZE11bHRpcGxpY2F0aXZlRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1tdWx0aXBsaWNhdGl2ZS1leHByJyk7XG5cblxuLyoqXG4gKiDor7vlj5bliqDms5Xooajovr7lvI9cbiAqXG4gKiBAcGFyYW0ge1dhbGtlcn0gd2Fsa2VyIOa6kOeggeivu+WPluWvueixoVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiByZWFkQWRkaXRpdmVFeHByKHdhbGtlcikge1xuICAgIHZhciBleHByID0gcmVhZE11bHRpcGxpY2F0aXZlRXhwcih3YWxrZXIpO1xuXG4gICAgd2hpbGUgKDEpIHtcbiAgICAgICAgd2Fsa2VyLmdvVW50aWwoKTtcbiAgICAgICAgdmFyIGNvZGUgPSB3YWxrZXIuY3VycmVudENvZGUoKTtcblxuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgNDM6IC8vICtcbiAgICAgICAgICAgIGNhc2UgNDU6IC8vIC1cbiAgICAgICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgICAgICAgICAgZXhwciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQklOQVJZLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogY29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2VnczogW2V4cHIsIHJlYWRNdWx0aXBsaWNhdGl2ZUV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRBZGRpdGl2ZUV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5blhbPns7vliKTmlq3ooajovr7lvI9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZEFkZGl0aXZlRXhwciA9IHJlcXVpcmUoJy4vcmVhZC1hZGRpdGl2ZS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W5YWz57O75Yik5pat6KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZFJlbGF0aW9uYWxFeHByKHdhbGtlcikge1xuICAgIHZhciBleHByID0gcmVhZEFkZGl0aXZlRXhwcih3YWxrZXIpO1xuICAgIHdhbGtlci5nb1VudGlsKCk7XG5cbiAgICB2YXIgY29kZSA9IHdhbGtlci5jdXJyZW50Q29kZSgpO1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIDYwOiAvLyA8XG4gICAgICAgIGNhc2UgNjI6IC8vID5cbiAgICAgICAgICAgIGlmICh3YWxrZXIubmV4dENvZGUoKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgICBjb2RlICs9IDYxO1xuICAgICAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CSU5BUlksXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IGNvZGUsXG4gICAgICAgICAgICAgICAgc2VnczogW2V4cHIsIHJlYWRBZGRpdGl2ZUV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRSZWxhdGlvbmFsRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOivu+WPluebuOetieavlOWvueihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciByZWFkUmVsYXRpb25hbEV4cHIgPSByZXF1aXJlKCcuL3JlYWQtcmVsYXRpb25hbC1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W55u4562J5q+U5a+56KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZEVxdWFsaXR5RXhwcih3YWxrZXIpIHtcbiAgICB2YXIgZXhwciA9IHJlYWRSZWxhdGlvbmFsRXhwcih3YWxrZXIpO1xuICAgIHdhbGtlci5nb1VudGlsKCk7XG5cbiAgICB2YXIgY29kZSA9IHdhbGtlci5jdXJyZW50Q29kZSgpO1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlIDYxOiAvLyA9XG4gICAgICAgIGNhc2UgMzM6IC8vICFcbiAgICAgICAgICAgIGlmICh3YWxrZXIubmV4dENvZGUoKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgICBjb2RlICs9IDYxO1xuICAgICAgICAgICAgICAgIGlmICh3YWxrZXIubmV4dENvZGUoKSA9PT0gNjEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSArPSA2MTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLkJJTkFSWSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3I6IGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNlZ3M6IFtleHByLCByZWFkUmVsYXRpb25hbEV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3YWxrZXIuZ28oLTEpO1xuICAgIH1cblxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkRXF1YWxpdHlFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W6YC76L6R5LiO6KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIHJlYWRFcXVhbGl0eUV4cHIgPSByZXF1aXJlKCcuL3JlYWQtZXF1YWxpdHktZXhwcicpO1xuXG4vKipcbiAqIOivu+WPlumAu+i+keS4juihqOi+vuW8j1xuICpcbiAqIEBwYXJhbSB7V2Fsa2VyfSB3YWxrZXIg5rqQ56CB6K+75Y+W5a+56LGhXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHJlYWRMb2dpY2FsQU5ERXhwcih3YWxrZXIpIHtcbiAgICB2YXIgZXhwciA9IHJlYWRFcXVhbGl0eUV4cHIod2Fsa2VyKTtcbiAgICB3YWxrZXIuZ29VbnRpbCgpO1xuXG4gICAgaWYgKHdhbGtlci5jdXJyZW50Q29kZSgpID09PSAzOCkgeyAvLyAmXG4gICAgICAgIGlmICh3YWxrZXIubmV4dENvZGUoKSA9PT0gMzgpIHtcbiAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQklOQVJZLFxuICAgICAgICAgICAgICAgIG9wZXJhdG9yOiA3NixcbiAgICAgICAgICAgICAgICBzZWdzOiBbZXhwciwgcmVhZExvZ2ljYWxBTkRFeHByKHdhbGtlcildXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgd2Fsa2VyLmdvKC0xKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwcjtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVhZExvZ2ljYWxBTkRFeHByO1xuXG5cbi8qKlxuICogQGZpbGUg6K+75Y+W6YC76L6R5oiW6KGo6L6+5byPXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIHJlYWRMb2dpY2FsQU5ERXhwciA9IHJlcXVpcmUoJy4vcmVhZC1sb2dpY2FsLWFuZC1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W6YC76L6R5oiW6KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZExvZ2ljYWxPUkV4cHIod2Fsa2VyKSB7XG4gICAgdmFyIGV4cHIgPSByZWFkTG9naWNhbEFOREV4cHIod2Fsa2VyKTtcbiAgICB3YWxrZXIuZ29VbnRpbCgpO1xuXG4gICAgaWYgKHdhbGtlci5jdXJyZW50Q29kZSgpID09PSAxMjQpIHsgLy8gfFxuICAgICAgICBpZiAod2Fsa2VyLm5leHRDb2RlKCkgPT09IDEyNCkge1xuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5CSU5BUlksXG4gICAgICAgICAgICAgICAgb3BlcmF0b3I6IDI0OCxcbiAgICAgICAgICAgICAgICBzZWdzOiBbZXhwciwgcmVhZExvZ2ljYWxPUkV4cHIod2Fsa2VyKV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB3YWxrZXIuZ28oLTEpO1xuICAgIH1cblxuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZWFkTG9naWNhbE9SRXhwcjtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOihqOi+vuW8j1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIFdhbGtlciA9IHJlcXVpcmUoJy4vd2Fsa2VyJyk7XG4vLyB2YXIgcmVhZFRlcnRpYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC10ZXJ0aWFyeS1leHByJyk7XG5cbi8qKlxuICog6Kej5p6Q6KGo6L6+5byPXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDmupDnoIFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VFeHByKHNvdXJjZSkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0JyAmJiBzb3VyY2UudHlwZSkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cblxuICAgIHZhciBleHByID0gcmVhZFRlcnRpYXJ5RXhwcihuZXcgV2Fsa2VyKHNvdXJjZSkpO1xuICAgIGV4cHIucmF3ID0gc291cmNlO1xuICAgIHJldHVybiBleHByO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwYXJzZUV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDor7vlj5bosIPnlKhcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgcmVhZEFjY2Vzc29yID0gcmVxdWlyZSgnLi9yZWFkLWFjY2Vzc29yJyk7XG4vLyB2YXIgcmVhZFRlcnRpYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC10ZXJ0aWFyeS1leHByJyk7XG5cbi8qKlxuICog6K+75Y+W6LCD55SoXG4gKlxuICogQHBhcmFtIHtXYWxrZXJ9IHdhbGtlciDmupDnoIHor7vlj5blr7nosaFcbiAqIEBwYXJhbSB7QXJyYXk9fSBkZWZhdWx0QXJncyDpu5jorqTlj4LmlbBcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcmVhZENhbGwod2Fsa2VyLCBkZWZhdWx0QXJncykge1xuICAgIHdhbGtlci5nb1VudGlsKCk7XG4gICAgdmFyIGlkZW50ID0gcmVhZEFjY2Vzc29yKHdhbGtlcik7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGlmICh3YWxrZXIuZ29VbnRpbCg0MCkpIHsgLy8gKFxuICAgICAgICB3aGlsZSAoIXdhbGtlci5nb1VudGlsKDQxKSkgeyAvLyApXG4gICAgICAgICAgICBhcmdzLnB1c2gocmVhZFRlcnRpYXJ5RXhwcih3YWxrZXIpKTtcbiAgICAgICAgICAgIHdhbGtlci5nb1VudGlsKDQ0KTsgLy8gLFxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZmF1bHRBcmdzKSB7XG4gICAgICAgIGFyZ3MgPSBkZWZhdWx0QXJncztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBFeHByVHlwZS5DQUxMLFxuICAgICAgICBuYW1lOiBpZGVudCxcbiAgICAgICAgYXJnczogYXJnc1xuICAgIH07XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlYWRDYWxsO1xuXG5cbi8qKlxuICogQGZpbGUg6Kej5p6Q6LCD55SoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBXYWxrZXIgPSByZXF1aXJlKCcuL3dhbGtlcicpO1xuLy8gdmFyIHJlYWRDYWxsID0gcmVxdWlyZSgnLi9yZWFkLWNhbGwnKTtcblxuLyoqXG4gKiDop6PmnpDosIPnlKhcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOeggVxuICogQHBhcmFtIHtBcnJheT19IGRlZmF1bHRBcmdzIOm7mOiupOWPguaVsFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBwYXJzZUNhbGwoc291cmNlLCBkZWZhdWx0QXJncykge1xuICAgIHZhciBleHByID0gcmVhZENhbGwobmV3IFdhbGtlcihzb3VyY2UpLCBkZWZhdWx0QXJncyk7XG4gICAgZXhwci5yYXcgPSBzb3VyY2U7XG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHBhcnNlQ2FsbDtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaPkuWAvOabv+aNolxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIFdhbGtlciA9IHJlcXVpcmUoJy4vd2Fsa2VyJyk7XG4vLyB2YXIgcmVhZFRlcnRpYXJ5RXhwciA9IHJlcXVpcmUoJy4vcmVhZC10ZXJ0aWFyeS1leHByJyk7XG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuL2V4cHItdHlwZScpO1xuLy8gdmFyIHJlYWRDYWxsID0gcmVxdWlyZSgnLi9yZWFkLWNhbGwnKTtcblxuLyoqXG4gKiDop6PmnpDmj5LlgLzmm7/mjaJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOeggVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBwYXJzZUludGVycChzb3VyY2UpIHtcbiAgICB2YXIgd2Fsa2VyID0gbmV3IFdhbGtlcihzb3VyY2UpO1xuXG4gICAgdmFyIGludGVycCA9IHtcbiAgICAgICAgdHlwZTogRXhwclR5cGUuSU5URVJQLFxuICAgICAgICBleHByOiByZWFkVGVydGlhcnlFeHByKHdhbGtlciksXG4gICAgICAgIGZpbHRlcnM6IFtdLFxuICAgICAgICByYXc6IHNvdXJjZVxuICAgIH07XG5cbiAgICB3aGlsZSAod2Fsa2VyLmdvVW50aWwoMTI0KSkgeyAvLyB8XG4gICAgICAgIHZhciBjYWxsRXhwciA9IHJlYWRDYWxsKHdhbGtlcik7XG4gICAgICAgIHN3aXRjaCAoY2FsbEV4cHIubmFtZS5wYXRoc1swXS52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyYXcnOlxuICAgICAgICAgICAgICAgIGludGVycC5vcmlnaW5hbCA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGludGVycC5maWx0ZXJzLnB1c2goY2FsbEV4cHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVycDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcGFyc2VJbnRlcnA7XG5cblxuLyoqXG4gKiBAZmlsZSDop6PnoIEgSFRNTCDlrZfnrKblrp7kvZNcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbnZhciBFTlRJVFlfREVDT0RFX01BUCA9IHtcbiAgICBsdDogJzwnLFxuICAgIGd0OiAnPicsXG4gICAgbmJzcDogJyAnLFxuICAgIHF1b3Q6ICdcXFwiJyxcbiAgICBlbXNwOiAnXFx1MjAwMycsXG4gICAgZW5zcDogJ1xcdTIwMDInLFxuICAgIHRoaW5zcDogJ1xcdTIwMDknLFxuICAgIGNvcHk6ICdcXHhhOScsXG4gICAgcmVnOiAnXFx4YWUnLFxuICAgIHp3bmo6ICdcXHUyMDBjJyxcbiAgICB6d2o6ICdcXHUyMDBkJyxcbiAgICBhbXA6ICcmJ1xufTtcblxuLyoqXG4gKiDop6PnoIEgSFRNTCDlrZfnrKblrp7kvZNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOimgeino+eggeeahOWtl+espuS4slxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBkZWNvZGVIVE1MRW50aXR5KHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2VcbiAgICAgICAgLnJlcGxhY2UoLyYjKFswLTldKyk7L2csIGZ1bmN0aW9uIChtYXRjaCwgY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoK2NvZGUpO1xuICAgICAgICB9KVxuICAgICAgICAucmVwbGFjZSgvJiN4KFswLTlhLWZdKyk7L2lnLCBmdW5jdGlvbiAobWF0Y2gsIGNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGNvZGUsIDE2KSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC8mKFthLXpdKyk7L2lnLCBmdW5jdGlvbiAobWF0Y2gsIGNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBFTlRJVFlfREVDT0RFX01BUFtjb2RlXSB8fCBtYXRjaDtcbiAgICAgICAgfSk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGRlY29kZUhUTUxFbnRpdHk7XG5cblxuLyoqXG4gKiBAZmlsZSDop6PmnpDmlofmnKxcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBXYWxrZXIgPSByZXF1aXJlKCcuL3dhbGtlcicpO1xuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9leHByLXR5cGUnKTtcbi8vIHZhciBwYXJzZUludGVycCA9IHJlcXVpcmUoJy4vcGFyc2UtaW50ZXJwJyk7XG4vLyB2YXIgZGVjb2RlSFRNTEVudGl0eSA9IHJlcXVpcmUoJy4uL3V0aWwvZGVjb2RlLWh0bWwtZW50aXR5Jyk7XG5cbi8qKlxuICog5a+55a2X56ym5Liy6L+b6KGM5Y+v55So5LqObmV3IFJlZ0V4cOeahOWtl+mdouWMllxuICpcbiAqIEBpbm5lclxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDpnIDopoHlrZfpnaLljJbnmoTlrZfnrKbkuLJcbiAqIEByZXR1cm4ge3N0cmluZ30g5a2X56ym5Liy5a2X6Z2i5YyW57uT5p6cXG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cExpdGVyYWwoc291cmNlKSB7XG4gICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKC9bXFxeXFxbXFxdXFwkXFwoXFwpXFx7XFx9XFw/XFwqXFwuXFwrXFxcXF0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuICdcXFxcJyArIGM7XG4gICAgfSk7XG59XG5cbi8qKlxuICog6Kej5p6Q5paH5pysXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDmupDnoIFcbiAqIEBwYXJhbSB7QXJyYXk/fSBkZWxpbWl0ZXJzIOWIhumalOespuOAgum7mOiupOS4uiBbJ3t7JywgJ319J11cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VUZXh0KHNvdXJjZSwgZGVsaW1pdGVycykge1xuICAgIGRlbGltaXRlcnMgPSBkZWxpbWl0ZXJzIHx8IFsne3snLCAnfX0nXTtcbiAgICB2YXIgZXhwclN0YXJ0UmVnID0gbmV3IFJlZ0V4cChcbiAgICAgICAgcmVnZXhwTGl0ZXJhbChkZWxpbWl0ZXJzWzBdKSArICdcXFxccyooW1xcXFxzXFxcXFNdKz8pXFxcXHMqJyArIHJlZ2V4cExpdGVyYWwoZGVsaW1pdGVyc1sxXSksXG4gICAgICAgICdpZydcbiAgICApO1xuXG4gICAgdmFyIGV4cHJNYXRjaDtcblxuICAgIHZhciB3YWxrZXIgPSBuZXcgV2Fsa2VyKHNvdXJjZSk7XG4gICAgdmFyIGJlZm9yZUluZGV4ID0gMDtcblxuICAgIHZhciBleHByID0ge1xuICAgICAgICB0eXBlOiBFeHByVHlwZS5URVhULFxuICAgICAgICBzZWdzOiBbXVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwdXNoU3RyaW5nVG9TZWcodGV4dCkge1xuICAgICAgICB0ZXh0ICYmIGV4cHIuc2Vncy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgIGxpdGVyYWw6IHRleHQsXG4gICAgICAgICAgICB2YWx1ZTogZGVjb2RlSFRNTEVudGl0eSh0ZXh0KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgZGVsaW1FbmRMZW4gPSBkZWxpbWl0ZXJzWzFdLmxlbmd0aDtcbiAgICB3aGlsZSAoKGV4cHJNYXRjaCA9IHdhbGtlci5tYXRjaChleHByU3RhcnRSZWcpKSAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbnRlcnBTb3VyY2UgPSBleHByTWF0Y2hbMV07XG4gICAgICAgIHZhciBpbnRlcnBMZW4gPSBleHByTWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICBpZiAod2Fsa2VyLmN1dCh3YWxrZXIuaW5kZXggKyAxIC0gZGVsaW1FbmRMZW4sIHdhbGtlci5pbmRleCArIDEpID09PSBkZWxpbWl0ZXJzWzFdKSB7XG4gICAgICAgICAgICBpbnRlcnBTb3VyY2UgKz0gd2Fsa2VyLmN1dCh3YWxrZXIuaW5kZXgsIHdhbGtlci5pbmRleCArIDEpO1xuICAgICAgICAgICAgd2Fsa2VyLmdvKDEpO1xuICAgICAgICAgICAgaW50ZXJwTGVuKys7XG4gICAgICAgIH1cblxuICAgICAgICBwdXNoU3RyaW5nVG9TZWcod2Fsa2VyLmN1dChcbiAgICAgICAgICAgIGJlZm9yZUluZGV4LFxuICAgICAgICAgICAgd2Fsa2VyLmluZGV4IC0gaW50ZXJwTGVuXG4gICAgICAgICkpO1xuXG4gICAgICAgIHZhciBpbnRlcnAgPSBwYXJzZUludGVycChpbnRlcnBTb3VyY2UpO1xuICAgICAgICBleHByLm9yaWdpbmFsID0gZXhwci5vcmlnaW5hbCB8fCBpbnRlcnAub3JpZ2luYWw7XG4gICAgICAgIGV4cHIuc2Vncy5wdXNoKGludGVycCk7XG5cbiAgICAgICAgYmVmb3JlSW5kZXggPSB3YWxrZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgcHVzaFN0cmluZ1RvU2VnKHdhbGtlci5jdXQoYmVmb3JlSW5kZXgpKTtcblxuXG5cbiAgICBpZiAoZXhwci5zZWdzLmxlbmd0aCA9PT0gMSAmJiBleHByLnNlZ3NbMF0udHlwZSA9PT0gRXhwclR5cGUuU1RSSU5HKSB7XG4gICAgICAgIGV4cHIudmFsdWUgPSBleHByLnNlZ3NbMF0udmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHBhcnNlVGV4dDtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaMh+S7pFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgV2Fsa2VyID0gcmVxdWlyZSgnLi93YWxrZXInKTtcbi8vIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuL3BhcnNlLWV4cHInKTtcbi8vIHZhciBwYXJzZUNhbGwgPSByZXF1aXJlKCcuL3BhcnNlLWNhbGwnKTtcbi8vIHZhciBwYXJzZVRleHQgPSByZXF1aXJlKCcuL3BhcnNlLXRleHQnKTtcbi8vIHZhciByZWFkQWNjZXNzb3IgPSByZXF1aXJlKCcuL3JlYWQtYWNjZXNzb3InKTtcblxuLyoqXG4gKiDmjIfku6Top6PmnpDlmahcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBkaXJlY3RpdmVQYXJzZXJzID0ge1xuICAgICdmb3InOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHdhbGtlciA9IG5ldyBXYWxrZXIodmFsdWUpO1xuICAgICAgICB2YXIgbWF0Y2ggPSB3YWxrZXIubWF0Y2goL15cXHMqKFtcXCQwLTlhLXpfXSspKFxccyosXFxzKihbXFwkMC05YS16X10rKSk/XFxzK2luXFxzKy9pZyk7XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGl0ZW06IHBhcnNlRXhwcihtYXRjaFsxXSksXG4gICAgICAgICAgICAgICAgaW5kZXg6IHBhcnNlRXhwcihtYXRjaFszXSB8fCAnJGluZGV4JyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlYWRBY2Nlc3Nvcih3YWxrZXIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEZBVEFMXSBmb3Igc3ludGF4IGVycm9yOiAnICsgdmFsdWUpO1xuICAgICAgICAvLyAjW2VuZF1cbiAgICB9LFxuXG4gICAgJ3JlZic6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlVGV4dCh2YWx1ZSwgb3B0aW9ucy5kZWxpbWl0ZXJzKVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAnaWYnOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUV4cHIodmFsdWUucmVwbGFjZSgvKF5cXHtcXHt8XFx9XFx9JCkvZywgJycpKVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAnZWxpZic6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlRXhwcih2YWx1ZS5yZXBsYWNlKC8oXlxce1xce3xcXH1cXH0kKS9nLCAnJykpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgICdlbHNlJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZToge31cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgJ2JpbmQnOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZUV4cHIodmFsdWUucmVwbGFjZSgvKF5cXHtcXHt8XFx9XFx9JCkvZywgJycpKVxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAnaHRtbCc6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlRXhwcih2YWx1ZS5yZXBsYWNlKC8oXlxce1xce3xcXH1cXH0kKS9nLCAnJykpXG4gICAgICAgIH07XG4gICAgfSxcblxuICAgICd0cmFuc2l0aW9uJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VDYWxsKHZhbHVlKVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbi8qKlxuICog6Kej5p6Q5oyH5LukXG4gKlxuICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDmjIfku6TlkI3np7BcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSDmjIfku6TlgLxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOino+aekOWPguaVsFxuICogQHBhcmFtIHtBcnJheT99IG9wdGlvbnMuZGVsaW1pdGVycyDmj5LlgLzliIbpmpTnrKbliJfooahcbiAqL1xuZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmUoYU5vZGUsIG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG5hbWUgPT09ICdlbHNlLWlmJykge1xuICAgICAgICBuYW1lID0gJ2VsaWYnO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSBkaXJlY3RpdmVQYXJzZXJzW25hbWVdO1xuICAgIGlmIChwYXJzZXIpIHtcbiAgICAgICAgKGFOb2RlLmRpcmVjdGl2ZXNbbmFtZV0gPSBwYXJzZXIodmFsdWUsIG9wdGlvbnMpKS5yYXcgPSB2YWx1ZTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHBhcnNlRGlyZWN0aXZlO1xuXG5cbi8qKlxuICogQGZpbGUg5a+55bGe5oCn5L+h5oGv6L+b6KGM5aSE55CGXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG5cbi8qKlxuICog5a+55bGe5oCn5L+h5oGv6L+b6KGM5aSE55CGXG4gKiDlr7nnu4Tku7bnmoQgYmluZHMg5oiW6ICF54m55q6K55qE5bGe5oCn77yI5q+U5aaCIGlucHV0IOeahCBjaGVja2Vk77yJ6ZyA6KaB5aSE55CGXG4gKlxuICog5omB5bmz5YyW77yaXG4gKiDlvZMgdGV4dCDop6PmnpDlj6rmnInkuIDpobnml7bvvIzopoHkuYjlsLHmmK8gc3RyaW5n77yM6KaB5LmI5bCx5pivIGludGVycFxuICogaW50ZXJwIOacieWPr+iDveaYr+e7keWumuWIsOe7hOS7tuWxnuaAp+eahOihqOi+vuW8j++8jOS4jeW4jOacm+iiqyBldmFsIHRleHQg5oiQIHN0cmluZ1xuICog5omA5Lul6L+Z6YeM5YGa5Liq5aSE55CG77yM5Y+q5pyJ5LiA6aG55pe255u05o6l5oq95Ye65p2lXG4gKlxuICogYm9vbOWxnuaAp++8mlxuICog5b2T57uR5a6a6aG55rKh5pyJ5YC85pe277yM6buY6K6k5Li6dHJ1ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wIOWxnuaAp+WvueixoVxuICovXG5mdW5jdGlvbiBwb3N0UHJvcChwcm9wKSB7XG4gICAgdmFyIGV4cHIgPSBwcm9wLmV4cHI7XG5cbiAgICBpZiAoZXhwci50eXBlID09PSBFeHByVHlwZS5URVhUKSB7XG4gICAgICAgIHN3aXRjaCAoZXhwci5zZWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHByb3AuZXhwciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuQk9PTCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgZXhwciA9IHByb3AuZXhwciA9IGV4cHIuc2Vnc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhwci50eXBlID09PSBFeHByVHlwZS5JTlRFUlAgJiYgZXhwci5maWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wLmV4cHIgPSBleHByLmV4cHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwb3N0UHJvcDtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaKveixoeiKgueCueWxnuaAp1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBrZWJhYjJjYW1lbCA9IHJlcXVpcmUoJy4uL3V0aWwva2ViYWIyY2FtZWwnKTtcbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4vZXhwci10eXBlJyk7XG4vLyB2YXIgY3JlYXRlQWNjZXNzb3IgPSByZXF1aXJlKCcuL2NyZWF0ZS1hY2Nlc3NvcicpO1xuLy8gdmFyIHBhcnNlRXhwciA9IHJlcXVpcmUoJy4vcGFyc2UtZXhwcicpO1xuLy8gdmFyIHBhcnNlQ2FsbCA9IHJlcXVpcmUoJy4vcGFyc2UtY2FsbCcpO1xuLy8gdmFyIHBhcnNlVGV4dCA9IHJlcXVpcmUoJy4vcGFyc2UtdGV4dCcpO1xuLy8gdmFyIHBhcnNlRGlyZWN0aXZlID0gcmVxdWlyZSgnLi9wYXJzZS1kaXJlY3RpdmUnKTtcbi8vIHZhciBwb3N0UHJvcCA9IHJlcXVpcmUoJy4vcG9zdC1wcm9wJyk7XG5cblxuLyoqXG4gKiDop6PmnpDmir3osaHoioLngrnlsZ7mgKdcbiAqXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWxnuaAp+WQjeensFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIOWxnuaAp+WAvFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg6Kej5p6Q5Y+C5pWwXG4gKiBAcGFyYW0ge0FycmF5P30gb3B0aW9ucy5kZWxpbWl0ZXJzIOaPkuWAvOWIhumalOespuWIl+ihqFxuICovXG5mdW5jdGlvbiBpbnRlZ3JhdGVBdHRyKGFOb2RlLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHZhciBwcmVmaXhJbmRleCA9IG5hbWUuaW5kZXhPZignLScpO1xuICAgIHZhciByZWFsTmFtZTtcbiAgICB2YXIgcHJlZml4O1xuXG4gICAgaWYgKHByZWZpeEluZGV4ID4gMCkge1xuICAgICAgICBwcmVmaXggPSBuYW1lLnNsaWNlKDAsIHByZWZpeEluZGV4KTtcbiAgICAgICAgcmVhbE5hbWUgPSBuYW1lLnNsaWNlKHByZWZpeEluZGV4ICsgMSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChwcmVmaXgpIHtcbiAgICAgICAgY2FzZSAnb24nOlxuICAgICAgICAgICAgdmFyIGV2ZW50ID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlYWxOYW1lLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFOb2RlLmV2ZW50cy5wdXNoKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGNvbG9uSW5kZXg7XG4gICAgICAgICAgICB3aGlsZSAoKGNvbG9uSW5kZXggPSB2YWx1ZS5pbmRleE9mKCc6JykpID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllciA9IHZhbHVlLnNsaWNlKDAsIGNvbG9uSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgLy8gZXZlbnRIYW5kbGVyKFwiZGQ6YWFcIikg6L+Z56eN5oOF5Ya15LiN6IO9566XbW9kaWZpZXLvvIzpnIDopoHovqjor4ZcbiAgICAgICAgICAgICAgICBpZiAoIS9eW2Etel0rJC9pLnRlc3QobW9kaWZpZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50Lm1vZGlmaWVyW21vZGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShjb2xvbkluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2ZW50LmV4cHIgPSBwYXJzZUNhbGwodmFsdWUsIFtcbiAgICAgICAgICAgICAgICBjcmVhdGVBY2Nlc3NvcihbXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogRXhwclR5cGUuU1RSSU5HLCB2YWx1ZTogJyRldmVudCcgfVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3Nhbic6XG4gICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgcGFyc2VEaXJlY3RpdmUoYU5vZGUsIHJlYWxOYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwcm9wJzpcbiAgICAgICAgICAgIGludGVncmF0ZVByb3AoYU5vZGUsIHJlYWxOYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd2YXInOlxuICAgICAgICAgICAgaWYgKCFhTm9kZS52YXJzKSB7XG4gICAgICAgICAgICAgICAgYU5vZGUudmFycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWFsTmFtZSA9IGtlYmFiMmNhbWVsKHJlYWxOYW1lKTtcbiAgICAgICAgICAgIGFOb2RlLnZhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVhbE5hbWUsXG4gICAgICAgICAgICAgICAgZXhwcjogcGFyc2VFeHByKHZhbHVlLnJlcGxhY2UoLyheXFx7XFx7fFxcfVxcfSQpL2csICcnKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGludGVncmF0ZVByb3AoYU5vZGUsIG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbi8qKlxuICog6Kej5p6Q5oq96LGh6IqC54K557uR5a6a5bGe5oCnXG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWxnuaAp+WQjeensFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIOWxnuaAp+WAvFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMg6Kej5p6Q5Y+C5pWwXG4gKiBAcGFyYW0ge0FycmF5P30gb3B0aW9ucy5kZWxpbWl0ZXJzIOaPkuWAvOWIhumalOespuWIl+ihqFxuICovXG5mdW5jdGlvbiBpbnRlZ3JhdGVQcm9wKGFOb2RlLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIC8vIHBhcnNlIHR3byB3YXkgYmluZGluZywgZS5nLiB2YWx1ZT1cIns9aWRlbnQ9fVwiXG4gICAgdmFyIHhNYXRjaCA9IHZhbHVlLm1hdGNoKC9eXFx7PVxccyooLio/KVxccyo9XFx9JC8pO1xuXG4gICAgaWYgKHhNYXRjaCkge1xuICAgICAgICBhTm9kZS5wcm9wcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBleHByOiBwYXJzZUV4cHIoeE1hdGNoWzFdKSxcbiAgICAgICAgICAgIHg6IDEsXG4gICAgICAgICAgICByYXc6IHZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBwYXJzZSBub3JtYWwgcHJvcFxuICAgIHZhciBwcm9wID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBleHByOiBwYXJzZVRleHQodmFsdWUsIG9wdGlvbnMuZGVsaW1pdGVycyksXG4gICAgICAgIHJhdzogdmFsdWVcbiAgICB9O1xuXG4gICAgLy8g6L+Z6YeM5LiN6IO95oqK5Y+q5pyJ5LiA5Liq5o+S5YC855qE5bGe5oCn5oq95Y+WXG4gICAgLy8g5Zug5Li65o+S5YC86YeM55qE5YC85Y+v6IO95pivaHRtbOeJh+aute+8jOWuueaYk+iiq+azqOWFpVxuICAgIC8vIOe7hOS7tueahOaVsOaNrue7keWumuWcqOe7hOS7tmluaXTml7blgZrmir3lj5ZcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSAnY2xhc3MnOlxuICAgICAgICBjYXNlICdzdHlsZSc6XG4gICAgICAgICAgICBlYWNoKHByb3AuZXhwci5zZWdzLCBmdW5jdGlvbiAoc2VnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlZy50eXBlID09PSBFeHByVHlwZS5JTlRFUlApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VnLmZpbHRlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5DQUxMLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3JlYXRlQWNjZXNzb3IoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXhwclR5cGUuU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ18nICsgcHJvcC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgICAgICAgICBwb3N0UHJvcChwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGFOb2RlLnByb3BzLnB1c2gocHJvcCk7XG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaW50ZWdyYXRlQXR0cjtcblxuXG4vKipcbiAqIEBmaWxlIOino+aekOaooeadv1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgY3JlYXRlQU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1hLW5vZGUnKTtcbi8vIHZhciBXYWxrZXIgPSByZXF1aXJlKCcuL3dhbGtlcicpO1xuLy8gdmFyIGludGVncmF0ZUF0dHIgPSByZXF1aXJlKCcuL2ludGVncmF0ZS1hdHRyJyk7XG4vLyB2YXIgcGFyc2VUZXh0ID0gcmVxdWlyZSgnLi9wYXJzZS10ZXh0Jyk7XG4vLyB2YXIgYXV0b0Nsb3NlVGFncyA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvYXV0by1jbG9zZS10YWdzJyk7XG5cbi8vICNbYmVnaW5dIGVycm9yXG5mdW5jdGlvbiBnZXRYUGF0aChzdGFjaywgY3VycmVudFRhZ05hbWUpIHtcbiAgICB2YXIgcGF0aCA9IFsnUk9PVCddO1xuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBzdGFjay5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBwYXRoLnB1c2goc3RhY2tbaV0udGFnTmFtZSk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFnTmFtZSkge1xuICAgICAgICBwYXRoLnB1c2goY3VycmVudFRhZ05hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5qb2luKCc+Jyk7XG59XG4vLyAjW2VuZF1cblxuLyogZXNsaW50LWRpc2FibGUgZmVjcy1tYXgtc3RhdGVtZW50cyAqL1xuXG4vKipcbiAqIOino+aekCB0ZW1wbGF0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgdGVtcGxhdGXmupDnoIFcbiAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucyDop6PmnpDlj4LmlbBcbiAqIEBwYXJhbSB7c3RyaW5nP30gb3B0aW9ucy50cmltV2hpdGVzcGFjZSDnqbrnmb3mlofmnKznmoTlpITnkIbnrZbnlaXjgIJub25lfGJsYW5rfGFsbFxuICogQHBhcmFtIHtBcnJheT99IG9wdGlvbnMuZGVsaW1pdGVycyDmj5LlgLzliIbpmpTnrKbliJfooahcbiAqIEByZXR1cm4ge0FOb2RlfVxuICovXG5mdW5jdGlvbiBwYXJzZVRlbXBsYXRlKHNvdXJjZSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudHJpbVdoaXRlc3BhY2UgPSBvcHRpb25zLnRyaW1XaGl0ZXNwYWNlIHx8ICdub25lJztcblxuICAgIHZhciByb290Tm9kZSA9IGNyZWF0ZUFOb2RlKCk7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHJvb3ROb2RlO1xuICAgIH1cblxuICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKC88IS0tKFtcXHNcXFNdKj8pLS0+L21nLCAnJykucmVwbGFjZSgvKF5cXHMrfFxccyskKS9nLCAnJyk7XG4gICAgdmFyIHdhbGtlciA9IG5ldyBXYWxrZXIoc291cmNlKTtcblxuICAgIHZhciB0YWdSZWcgPSAvPChcXC8pPyhbYS16MC05LV0rKVxccyovaWc7XG4gICAgdmFyIGF0dHJSZWcgPSAvKFstOjAtOWEtelxcKFxcKVxcW1xcXV0rKShcXHMqPVxccyooWydcIl0pKFteXFwzXSo/KVxcMyk/XFxzKi9pZztcblxuICAgIHZhciB0YWdNYXRjaDtcbiAgICB2YXIgY3VycmVudE5vZGUgPSByb290Tm9kZTtcbiAgICB2YXIgc3RhY2sgPSBbcm9vdE5vZGVdO1xuICAgIHZhciBzdGFja0luZGV4ID0gMDtcbiAgICB2YXIgYmVmb3JlTGFzdEluZGV4ID0gMDtcblxuICAgIHdoaWxlICgodGFnTWF0Y2ggPSB3YWxrZXIubWF0Y2godGFnUmVnKSkgIT0gbnVsbCkge1xuICAgICAgICB2YXIgdGFnRW5kID0gdGFnTWF0Y2hbMV07XG4gICAgICAgIHZhciB0YWdOYW1lID0gdGFnTWF0Y2hbMl0udG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBwdXNoVGV4dE5vZGUoc291cmNlLnNsaWNlKFxuICAgICAgICAgICAgYmVmb3JlTGFzdEluZGV4LFxuICAgICAgICAgICAgd2Fsa2VyLmluZGV4IC0gdGFnTWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgICkpO1xuXG4gICAgICAgIC8vIDYyOiA+XG4gICAgICAgIC8vIDQ3OiAvXG4gICAgICAgIC8vIOWkhOeQhiA8L3h4eHggPlxuICAgICAgICBpZiAodGFnRW5kICYmIHdhbGtlci5jdXJyZW50Q29kZSgpID09PSA2Mikge1xuICAgICAgICAgICAgLy8g5ruh6Laz5YWz6Zet5qCH562+55qE5p2h5Lu25pe277yM5YWz6Zet5qCH562+XG4gICAgICAgICAgICAvLyDlkJHkuIrmn6Xmib7liLDlr7nlupTmoIfnrb7vvIzmib7kuI3liLDml7blv73nlaXlhbPpl61cbiAgICAgICAgICAgIHZhciBjbG9zZUluZGV4ID0gc3RhY2tJbmRleDtcblxuICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgIC8vIOWmguaenOato+WcqOmXreWQiOS4gOS4quiHqumXreWQiOeahOagh+etvu+8jOS+i+WmgiA8L2lucHV0Pu+8jOaKpemUmVxuICAgICAgICAgICAgaWYgKGF1dG9DbG9zZVRhZ3NbdGFnTmFtZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICAgICAgKyAnW1NBTiBFUlJPUl0gJyArIGdldFhQYXRoKHN0YWNrLCB0YWdOYW1lKSArICcgaXMgYSBgYXV0byBjbG9zZWRgIHRhZywgJ1xuICAgICAgICAgICAgICAgICAgICArICdzbyBpdCBjYW5ub3QgYmUgY2xvc2VkIHdpdGggPC8nICsgdGFnTmFtZSArICc+J1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIOWmguaenOWFs+mXreeahCB0YWcg5ZKM5b2T5YmN5omT5byA55qE5LiN5LiA6Ie077yM5oql6ZSZXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RhY2tbY2xvc2VJbmRleF0udGFnTmFtZSAhPT0gdGFnTmFtZVxuICAgICAgICAgICAgICAgIC8vIOi/memHjOimgeaKiiB0YWJsZSDoh6rliqjmt7vliqAgdGJvZHkg55qE5oOF5Ya157uZ5Y675o6JXG4gICAgICAgICAgICAgICAgJiYgISh0YWdOYW1lID09PSAndGFibGUnICYmIHN0YWNrW2Nsb3NlSW5kZXhdLnRhZ05hbWUgPT09ICd0Ym9keScpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdICcgKyBnZXRYUGF0aChzdGFjaykgKyAnIGlzIGNsb3NlZCB3aXRoICcgKyB0YWdOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICB3aGlsZSAoY2xvc2VJbmRleCA+IDAgJiYgc3RhY2tbY2xvc2VJbmRleF0udGFnTmFtZSAhPT0gdGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIGNsb3NlSW5kZXgtLTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNsb3NlSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tJbmRleCA9IGNsb3NlSW5kZXggLSAxO1xuICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gc3RhY2tbc3RhY2tJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YWxrZXIuZ28oMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAvLyDlpITnkIYgPC94eHgg6Z2e5q2j5bi46Zet5ZCI5qCH562+XG4gICAgICAgIGVsc2UgaWYgKHRhZ0VuZCkge1xuXG4gICAgICAgICAgICAvLyDlpoLmnpzpl63lkIjmoIfnrb7ml7bvvIzljLnphY3lkI7nmoTkuIvkuIDkuKrlrZfnrKbmmK8gPO+8jOWNs+S4i+S4gOS4quagh+etvueahOW8gOWni++8jOmCo+S5iOW9k+WJjemXreWQiOagh+etvuacqumXreWQiFxuICAgICAgICAgICAgaWYgKHdhbGtlci5jdXJyZW50Q29kZSgpID09PSA2MCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignJ1xuICAgICAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2spXG4gICAgICAgICAgICAgICAgICAgICsgJ1xcJ3MgY2xvc2UgdGFnIG5vdCBjbG9zZWQnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g6Zet5ZCI5qCH562+5pyJ5bGe5oCnXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2spXG4gICAgICAgICAgICAgICAgKyAnXFwncyBjbG9zZSB0YWcgaGFzIGF0dHJpYnV0ZXMnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIH1cbiAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgZWxzZSBpZiAoIXRhZ0VuZCkge1xuICAgICAgICAgICAgdmFyIGFFbGVtZW50ID0gY3JlYXRlQU5vZGUoe1xuICAgICAgICAgICAgICAgIHRhZ05hbWU6IHRhZ05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHRhZ0Nsb3NlID0gYXV0b0Nsb3NlVGFnc1t0YWdOYW1lXTtcblxuICAgICAgICAgICAgLy8g6Kej5p6QIGF0dHJpYnV0ZXNcblxuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc3RhbnQtY29uZGl0aW9uICovXG4gICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zdGFudC1jb25kaXRpb24gKi9cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhckNvZGUgPSB3YWxrZXIuY3VycmVudENvZGUoKTtcblxuICAgICAgICAgICAgICAgIC8vIOagh+etvue7k+adn+aXtui3s+WHuiBhdHRyaWJ1dGVzIOivu+WPllxuICAgICAgICAgICAgICAgIC8vIOagh+etvuWPr+iDveebtOaOpee7k+adn+aIlumXreWQiOe7k+adn1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hhckNvZGUgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5nbygxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIOmBh+WIsCAvPiDmjInpl63lkIjlpITnkIZcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0Q2hhckNvZGUgPT09IDQ3XG4gICAgICAgICAgICAgICAgICAgICYmIHdhbGtlci5jaGFyQ29kZSh3YWxrZXIuaW5kZXggKyAxKSA9PT0gNjJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmdvKDIpO1xuICAgICAgICAgICAgICAgICAgICB0YWdDbG9zZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgLy8g5Zyo5aSE55CG5LiA5LiqIG9wZW4g5qCH562+5pe277yM5aaC5p6c6YGH5Yiw5LqGIDzvvIwg5Y2z5LiL5LiA5Liq5qCH562+55qE5byA5aeL77yM5YiZ5b2T5YmN5qCH562+5pyq6IO95q2j5bi46Zet5ZCI77yM5oql6ZSZXG4gICAgICAgICAgICAgICAgaWYgKG5leHRDaGFyQ29kZSA9PT0gNjApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2ssIHRhZ05hbWUpICsgJyBpcyBub3QgY2xvc2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICAgICAgLy8g6K+75Y+WIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIHZhciBhdHRyTWF0Y2ggPSB3YWxrZXIubWF0Y2goYXR0clJlZyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJNYXRjaCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOWxnuaAp+aciSA977yM5L2G5rKh5Y+W5YiwIHZhbHVl77yM5oql6ZSZXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtlci5jaGFyQ29kZShhdHRyTWF0Y2guaW5kZXggKyBhdHRyTWF0Y2hbMV0ubGVuZ3RoKSA9PT0gNjFcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICFhdHRyTWF0Y2hbMl1cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICdbU0FOIEVSUk9SXSAnICsgZ2V0WFBhdGgoc3RhY2ssIHRhZ05hbWUpICsgJyBhdHRyaWJ1dGUgYCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGF0dHJNYXRjaFsxXSArICdgIGlzIG5vdCB3cmFwcGVkIHdpdGggXCJcIidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgICAgICAgICAgICAgaW50ZWdyYXRlQXR0cihcbiAgICAgICAgICAgICAgICAgICAgICAgIGFFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck1hdGNoWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck1hdGNoWzJdID8gYXR0ck1hdGNoWzRdIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG1hdGNoIGlmIGRpcmVjdGl2ZSBmb3IgZWxzZS9lbGlmIGRpcmVjdGl2ZVxuICAgICAgICAgICAgdmFyIGVsc2VEaXJlY3RpdmUgPSBhRWxlbWVudC5kaXJlY3RpdmVzWydlbHNlJ10gfHwgYUVsZW1lbnQuZGlyZWN0aXZlcy5lbGlmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICAgICAgaWYgKGVsc2VEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q2hpbGRyZW5MZW4gPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAocGFyZW50Q2hpbGRyZW5MZW4tLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q2hpbGQgPSBjdXJyZW50Tm9kZS5jaGlsZHJlbltwYXJlbnRDaGlsZHJlbkxlbl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRDaGlsZC50ZXh0RXhwcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4uc3BsaWNlKHBhcmVudENoaWxkcmVuTGVuLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRDaGlsZC5kaXJlY3RpdmVzWydpZiddKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRkFURUxdIGVsc2Ugbm90IG1hdGNoIGlmLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENoaWxkLmVsc2VzID0gcGFyZW50Q2hpbGQuZWxzZXMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENoaWxkLmVsc2VzLnB1c2goYUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhRWxlbWVudC50YWdOYW1lID09PSAndHInICYmIGN1cnJlbnROb2RlLnRhZ05hbWUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRib2R5Tm9kZSA9IGNyZWF0ZUFOb2RlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ05hbWU6ICd0Ym9keSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2godGJvZHlOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSB0Ym9keU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrWysrc3RhY2tJbmRleF0gPSB0Ym9keU5vZGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4ucHVzaChhRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGFnQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGFFbGVtZW50O1xuICAgICAgICAgICAgICAgIHN0YWNrWysrc3RhY2tJbmRleF0gPSBhRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJlZm9yZUxhc3RJbmRleCA9IHdhbGtlci5pbmRleDtcbiAgICB9XG5cbiAgICBwdXNoVGV4dE5vZGUod2Fsa2VyLmN1dChiZWZvcmVMYXN0SW5kZXgpKTtcblxuICAgIHJldHVybiByb290Tm9kZTtcblxuICAgIC8qKlxuICAgICAqIOWcqOivu+WPluagiOS4rea3u+WKoOaWh+acrOiKgueCuVxuICAgICAqXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQg5paH5pys5YaF5a65XG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVzaFRleHROb2RlKHRleHQpIHtcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLnRyaW1XaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgICBjYXNlICdibGFuayc6XG4gICAgICAgICAgICAgICAgaWYgKC9eXFxzKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdhbGwnOlxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyheXFxzK3xcXHMrJCkvZywgJycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuLnB1c2goY3JlYXRlQU5vZGUoe1xuICAgICAgICAgICAgICAgIHRleHRFeHByOiBwYXJzZVRleHQodGV4dCwgb3B0aW9ucy5kZWxpbWl0ZXJzKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiBlc2xpbnQtZW5hYmxlIGZlY3MtbWF4LXN0YXRlbWVudHMgKi9cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcGFyc2VUZW1wbGF0ZTtcblxuXG4vKipcbiAqIEBmaWxlIOm7mOiupGZpbHRlclxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuLyogZXNsaW50LWRpc2FibGUgZ3VhcmQtZm9yLWluICovXG5cbi8qKlxuICog6buY6K6kZmlsdGVyXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgREVGQVVMVF9GSUxURVJTID0ge1xuXG4gICAgLyoqXG4gICAgICogVVJM57yW56CBZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOa6kOS4slxuICAgICAqIEByZXR1cm4ge3N0cmluZ30g5pu/5o2i57uT5p6c5LiyXG4gICAgICovXG4gICAgdXJsOiBlbmNvZGVVUklDb21wb25lbnQsXG5cbiAgICBfY2xhc3M6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfSxcblxuICAgIF9zdHlsZTogZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0ga2V5ICsgJzonICsgc291cmNlW2tleV0gKyAnOyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH0sXG5cbiAgICBfc2VwOiBmdW5jdGlvbiAoc291cmNlLCBzZXApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSA/IHNlcCArIHNvdXJjZSA6IHNvdXJjZTtcbiAgICB9XG59O1xuLyogZXNsaW50LWVuYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBERUZBVUxUX0ZJTFRFUlM7XG5cblxuLyoqXG4gKiBAZmlsZSDooajovr7lvI/orqHnrpdcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9leHByLXR5cGUnKTtcbi8vIHZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlsL2V4dGVuZCcpO1xuLy8gdmFyIERFRkFVTFRfRklMVEVSUyA9IHJlcXVpcmUoJy4vZGVmYXVsdC1maWx0ZXJzJyk7XG4vLyB2YXIgZXZhbEFyZ3MgPSByZXF1aXJlKCcuL2V2YWwtYXJncycpO1xuLy8gdmFyIGRhdGFDYWNoZSA9IHJlcXVpcmUoJy4vZGF0YS1jYWNoZScpO1xuXG4vKipcbiAqIOiuoeeul+ihqOi+vuW8j+eahOWAvFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBleHByIOihqOi+vuW8j+WvueixoVxuICogQHBhcmFtIHtEYXRhfSBkYXRhIOaVsOaNruWuueWZqOWvueixoVxuICogQHBhcmFtIHtDb21wb25lbnQ9fSBvd25lciDmiYDlsZ7nu4Tku7bnjq/looNcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIGV2YWxFeHByKGV4cHIsIGRhdGEsIG93bmVyKSB7XG4gICAgaWYgKGV4cHIudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZXhwci52YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBkYXRhQ2FjaGUuZ2V0KGRhdGEsIGV4cHIpO1xuXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgc3dpdGNoIChleHByLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuVU5BUlk6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAhZXZhbEV4cHIoZXhwci5leHByLCBkYXRhLCBvd25lcik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQklOQVJZOlxuICAgICAgICAgICAgICAgIHZhciBsZWZ0VmFsdWUgPSBldmFsRXhwcihleHByLnNlZ3NbMF0sIGRhdGEsIG93bmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRWYWx1ZSA9IGV2YWxFeHByKGV4cHIuc2Vnc1sxXSwgZGF0YSwgb3duZXIpO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgICAgICAgICAgICAgc3dpdGNoIChleHByLm9wZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAlIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlICsgcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ1OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgLSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAqIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlIC8gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDYwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPCByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA+IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3NjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlICYmIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5NDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlICE9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjE6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSA8PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTIyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgPT0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlID49IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTU6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAhPT0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE4MzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbGVmdFZhbHVlID09PSByaWdodFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ4OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBsZWZ0VmFsdWUgfHwgcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlRFUlRJQVJZOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gZXZhbEV4cHIoXG4gICAgICAgICAgICAgICAgICAgIGV4cHIuc2Vnc1tldmFsRXhwcihleHByLnNlZ3NbMF0sIGRhdGEsIG93bmVyKSA/IDEgOiAyXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIEV4cHJUeXBlLkFSUkFZOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBleHByLml0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGV4cHIuaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtVmFsdWUgPSBldmFsRXhwcihpdGVtLmV4cHIsIGRhdGEsIG93bmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zcHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1WYWx1ZSAmJiAodmFsdWUgPSB2YWx1ZS5jb25jYXQoaXRlbVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKGl0ZW1WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuT0JKRUNUOlxuICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBleHByLml0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGV4cHIuaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtVmFsdWUgPSBldmFsRXhwcihpdGVtLmV4cHIsIGRhdGEsIG93bmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5zcHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1WYWx1ZSAmJiBleHRlbmQodmFsdWUsIGl0ZW1WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtldmFsRXhwcihpdGVtLm5hbWUsIGRhdGEsIG93bmVyKV0gPSBpdGVtVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQUNDRVNTT1I6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhLmdldChleHByKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5JTlRFUlA6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBldmFsRXhwcihleHByLmV4cHIsIGRhdGEsIG93bmVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChvd25lcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV4cHIuZmlsdGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBleHByLmZpbHRlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyTmFtZSA9IGZpbHRlci5uYW1lLnBhdGhzWzBdLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3duZXIuZmlsdGVyc1tmaWx0ZXJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gb3duZXIuZmlsdGVyc1tmaWx0ZXJOYW1lXS5hcHBseShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZV0uY29uY2F0KGV2YWxBcmdzKGZpbHRlci5hcmdzLCBkYXRhLCBvd25lcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKERFRkFVTFRfRklMVEVSU1tmaWx0ZXJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gREVGQVVMVF9GSUxURVJTW2ZpbHRlck5hbWVdKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmFyZ3NbMF0gPyBmaWx0ZXIuYXJnc1swXS52YWx1ZSA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlZGVjbGFyZSAqL1xuICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIHZhciBidWYgPSAnJztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV4cHIuc2Vncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlZyA9IGV4cHIuc2Vnc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnVmICs9IHNlZy52YWx1ZSB8fCBldmFsRXhwcihzZWcsIGRhdGEsIG93bmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFDYWNoZS5zZXQoZGF0YSwgZXhwciwgdmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZXZhbEV4cHI7XG5cblxuLyoqXG4gKiBAZmlsZSDkuLrlh73mlbDosIPnlKjorqHnrpflj4LmlbDmlbDnu4TnmoTlgLxcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcblxuLyoqXG4gKiDkuLrlh73mlbDosIPnlKjorqHnrpflj4LmlbDmlbDnu4TnmoTlgLxcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIOWPguaVsOihqOi+vuW8j+WIl+ihqFxuICogQHBhcmFtIHtEYXRhfSBkYXRhIOaVsOaNrueOr+Wig1xuICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOe7hOS7tueOr+Wig1xuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGV2YWxBcmdzKGFyZ3MsIGRhdGEsIG93bmVyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQucHVzaChldmFsRXhwcihhcmdzW2ldLCBkYXRhLCBvd25lcikpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGV2YWxBcmdzO1xuXG5cbi8qKlxuICogQGZpbGUg5pWw5o2u57yT5a2Y566h55CG5ZmoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cblxudmFyIGRhdGFDYWNoZVNvdXJjZSA9IHt9O1xudmFyIGRhdGFDYWNoZUNsZWFybHkgPSAxO1xuXG4vKipcbiAqIOaVsOaNrue8k+WtmOeuoeeQhuWZqFxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIGRhdGFDYWNoZSA9IHtcbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWRhdGFDYWNoZUNsZWFybHkpIHtcbiAgICAgICAgICAgIGRhdGFDYWNoZUNsZWFybHkgPSAxO1xuICAgICAgICAgICAgZGF0YUNhY2hlU291cmNlID0ge307XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbiAoZGF0YSwgZXhwciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGV4cHIucmF3KSB7XG4gICAgICAgICAgICBkYXRhQ2FjaGVDbGVhcmx5ID0gMDtcbiAgICAgICAgICAgIChkYXRhQ2FjaGVTb3VyY2VbZGF0YS5pZF0gPSBkYXRhQ2FjaGVTb3VyY2VbZGF0YS5pZF0gfHwge30pW2V4cHIucmF3XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24gKGRhdGEsIGV4cHIpIHtcbiAgICAgICAgaWYgKGV4cHIucmF3ICYmIGRhdGFDYWNoZVNvdXJjZVtkYXRhLmlkXSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFDYWNoZVNvdXJjZVtkYXRhLmlkXVtleHByLnJhd107XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGRhdGFDYWNoZTtcblxuXG4vKipcbiAqIEBmaWxlIOavlOi+g+WPmOabtOihqOi+vuW8j+S4juebruagh+ihqOi+vuW8j+S5i+mXtOeahOWFs+ezu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2V4cHItdHlwZScpO1xuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi9ldmFsLWV4cHInKTtcbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG5cbi8qKlxuICog5Yik5pat5Y+Y5pu06KGo6L6+5byP5LiO5aSa5Liq6KGo6L6+5byP5LmL6Ze055qE5YWz57O777yMMOS4uuWujOWFqOayoeWFs+ezu++8jDHkuLrmnInlhbPns7tcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VFeHByIOebruagh+ihqOi+vuW8j1xuICogQHBhcmFtIHtBcnJheX0gZXhwcnMg5aSa5Liq5rqQ6KGo6L6+5byPXG4gKiBAcGFyYW0ge0RhdGF9IGRhdGEg6KGo6L6+5byP5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGNoYW5nZUV4cHJDb21wYXJlRXhwcnMoY2hhbmdlRXhwciwgZXhwcnMsIGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV4cHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgZXhwcnNbaV0sIGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG4vKipcbiAqIOavlOi+g+WPmOabtOihqOi+vuW8j+S4juebruagh+ihqOi+vuW8j+S5i+mXtOeahOWFs+ezu++8jOeUqOS6juinhuWbvuabtOaWsOWIpOaWrVxuICog6KeG5Zu+5pu05paw6ZyA6KaB5qC55o2u5YW25YWz57O777yM5YGa5Ye655u45bqU55qE5pu05paw6KGM5Li6XG4gKlxuICogMDog5a6M5YWo5rKh5YWz57O7XG4gKiAxOiDlj5jmm7Tooajovr7lvI/mmK/nm67moIfooajovr7lvI/nmoTmr43pobko5aaCYeS4jmEuYikg5oiWIOihqOekuumcgOimgeWujOWFqOWPmOWMllxuICogMjog5Y+Y5pu06KGo6L6+5byP5piv55uu5qCH6KGo6L6+5byP55u4562JXG4gKiA+Mjog5Y+Y5pu06KGo6L6+5byP5piv55uu5qCH6KGo6L6+5byP55qE5a2Q6aG577yM5aaCYS5iLmPkuI5hLmJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlRXhwciDlj5jmm7Tooajovr7lvI9cbiAqIEBwYXJhbSB7T2JqZWN0fSBleHByIOimgeavlOi+g+eahOebruagh+ihqOi+vuW8j1xuICogQHBhcmFtIHtEYXRhfSBkYXRhIOihqOi+vuW8j+aJgOWxnuaVsOaNrueOr+Wig1xuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VFeHByLCBleHByLCBkYXRhKSB7XG4gICAgc3dpdGNoIChleHByLnR5cGUpIHtcbiAgICAgICAgY2FzZSBFeHByVHlwZS5BQ0NFU1NPUjpcbiAgICAgICAgICAgIHZhciBwYXRocyA9IGV4cHIucGF0aHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gcGF0aHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNoYW5nZVBhdGhzID0gY2hhbmdlRXhwci5wYXRocztcbiAgICAgICAgICAgIHZhciBjaGFuZ2VMZW4gPSBjaGFuZ2VQYXRocy5sZW5ndGg7XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXRoRXhwciA9IHBhdGhzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhFeHByLnR5cGUgPT09IEV4cHJUeXBlLkFDQ0VTU09SXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIHBhdGhFeHByLCBkYXRhKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIGkgPCBjaGFuZ2VMZW5cbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovXG4gICAgICAgICAgICAgICAgICAgICYmIChwYXRoRXhwci52YWx1ZSB8fCBldmFsRXhwcihwYXRoRXhwciwgZGF0YSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAhPSAoY2hhbmdlUGF0aHNbaV0udmFsdWUgfHwgZXZhbEV4cHIoY2hhbmdlUGF0aHNbaV0sIGRhdGEpKVxuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGVxZXFlcSAqL1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IE1hdGgubWF4KDEsIGNoYW5nZUxlbiAtIGxlbiArIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIEV4cHJUeXBlLlVOQVJZOlxuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIGV4cHIuZXhwciwgZGF0YSkgPyAxIDogMDtcblxuXG4gICAgICAgIGNhc2UgRXhwclR5cGUuVEVYVDpcbiAgICAgICAgY2FzZSBFeHByVHlwZS5CSU5BUlk6XG4gICAgICAgIGNhc2UgRXhwclR5cGUuVEVSVElBUlk6XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlRXhwckNvbXBhcmVFeHBycyhjaGFuZ2VFeHByLCBleHByLnNlZ3MsIGRhdGEpO1xuXG4gICAgICAgIGNhc2UgRXhwclR5cGUuQVJSQVk6XG4gICAgICAgIGNhc2UgRXhwclR5cGUuT0JKRUNUOlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBleHByLml0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VFeHByLCBleHByLml0ZW1zW2ldLmV4cHIsIGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5JTlRFUlA6XG4gICAgICAgICAgICBpZiAoIWNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZUV4cHIsIGV4cHIuZXhwciwgZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyUmVzdWx0O1xuICAgICAgICAgICAgICAgIGVhY2goZXhwci5maWx0ZXJzLCBmdW5jdGlvbiAoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclJlc3VsdCA9IGNoYW5nZUV4cHJDb21wYXJlRXhwcnMoY2hhbmdlRXhwciwgZmlsdGVyLmFyZ3MsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWZpbHRlclJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJSZXN1bHQgPyAxIDogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNoYW5nZUV4cHJDb21wYXJlO1xuXG5cbi8qKlxuICogQGZpbGUg5pWw5o2u5Y+Y5pu057G75Z6L5p6a5Li+XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIOaVsOaNruWPmOabtOexu+Wei+aemuS4vlxuICpcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIERhdGFDaGFuZ2VUeXBlID0ge1xuICAgIFNFVDogMSxcbiAgICBTUExJQ0U6IDJcbn07XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IERhdGFDaGFuZ2VUeXBlO1xuXG5cbi8qKlxuICogQGZpbGUg55Sf5ZG95ZGo5pyf57G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5mdW5jdGlvbiBsaWZlQ3ljbGVPd25JcyhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXNbbmFtZV07XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIGZlY3MtdmFsaWQtdmFyLWpzZG9jICovXG4vKipcbiAqIOiKgueCueeUn+WRveWRqOacn+S/oeaBr1xuICpcbiAqIEBpbm5lclxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIExpZmVDeWNsZSA9IHtcbiAgICBzdGFydDoge30sXG5cbiAgICBjb21waWxlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlXG4gICAgfSxcblxuICAgIGluaXRlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlLFxuICAgICAgICBpbml0ZWQ6IHRydWVcbiAgICB9LFxuXG4gICAgY3JlYXRlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGNvbXBpbGVkOiB0cnVlLFxuICAgICAgICBpbml0ZWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWQ6IHRydWVcbiAgICB9LFxuXG4gICAgYXR0YWNoZWQ6IHtcbiAgICAgICAgaXM6IGxpZmVDeWNsZU93bklzLFxuICAgICAgICBjb21waWxlZDogdHJ1ZSxcbiAgICAgICAgaW5pdGVkOiB0cnVlLFxuICAgICAgICBjcmVhdGVkOiB0cnVlLFxuICAgICAgICBhdHRhY2hlZDogdHJ1ZVxuICAgIH0sXG5cbiAgICBsZWF2aW5nOiB7XG4gICAgICAgIGlzOiBsaWZlQ3ljbGVPd25JcyxcbiAgICAgICAgY29tcGlsZWQ6IHRydWUsXG4gICAgICAgIGluaXRlZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZDogdHJ1ZSxcbiAgICAgICAgYXR0YWNoZWQ6IHRydWUsXG4gICAgICAgIGxlYXZpbmc6IHRydWVcbiAgICB9LFxuXG4gICAgZGV0YWNoZWQ6IHtcbiAgICAgICAgaXM6IGxpZmVDeWNsZU93bklzLFxuICAgICAgICBjb21waWxlZDogdHJ1ZSxcbiAgICAgICAgaW5pdGVkOiB0cnVlLFxuICAgICAgICBjcmVhdGVkOiB0cnVlLFxuICAgICAgICBkZXRhY2hlZDogdHJ1ZVxuICAgIH0sXG5cbiAgICBkaXNwb3NlZDoge1xuICAgICAgICBpczogbGlmZUN5Y2xlT3duSXMsXG4gICAgICAgIGRpc3Bvc2VkOiB0cnVlXG4gICAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgZmVjcy12YWxpZC12YXItanNkb2MgKi9cblxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBMaWZlQ3ljbGU7XG5cblxuLyoqXG4gKiBAZmlsZSDoioLngrnnsbvlnotcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog6IqC54K557G75Z6LXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgTm9kZVR5cGUgPSB7XG4gICAgVEVYVDogMSxcbiAgICBJRjogMixcbiAgICBGT1I6IDMsXG4gICAgRUxFTTogNCxcbiAgICBDTVBUOiA1LFxuICAgIFNMT1Q6IDYsXG4gICAgVFBMOiA3XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBOb2RlVHlwZTtcblxuXG4vKipcbiAqIEBmaWxlIOiOt+WPliBBTm9kZSBwcm9wcyDmlbDnu4TkuK3nm7jlupQgbmFtZSDnmoTpoblcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog6I635Y+WIEFOb2RlIHByb3BzIOaVsOe7hOS4reebuOW6lCBuYW1lIOeahOmhuVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhTm9kZSBBTm9kZeWvueixoVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZeWxnuaAp+WMuemFjeS4slxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRBTm9kZVByb3AoYU5vZGUsIG5hbWUpIHtcbiAgICB2YXIgaW5kZXggPSBhTm9kZS5ob3RzcG90LnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhTm9kZS5wcm9wc1tpbmRleF07XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZXRBTm9kZVByb3A7XG5cblxuLyoqXG4gKiBAZmlsZSDojrflj5blsZ7mgKflpITnkIblr7nosaFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBjb250YWlucyA9IHJlcXVpcmUoJy4uL3V0aWwvY29udGFpbnMnKTtcbi8vIHZhciBlbXB0eSA9IHJlcXVpcmUoJy4uL3V0aWwvZW1wdHknKTtcbi8vIHZhciBzdmdUYWdzID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9zdmctdGFncycpO1xuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcbi8vIHZhciBnZXRBTm9kZVByb3AgPSByZXF1aXJlKCcuL2dldC1hLW5vZGUtcHJvcCcpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcblxuXG4vKipcbiAqIEhUTUwg5bGe5oCn5ZKMIERPTSDmk43kvZzlsZ7mgKfnmoTlr7nnhafooahcbiAqXG4gKiBAaW5uZXJcbiAqIEBjb25zdFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIEhUTUxfQVRUUl9QUk9QX01BUCA9IHtcbiAgICAncmVhZG9ubHknOiAncmVhZE9ubHknLFxuICAgICdjZWxscGFkZGluZyc6ICdjZWxsUGFkZGluZycsXG4gICAgJ2NlbGxzcGFjaW5nJzogJ2NlbGxTcGFjaW5nJyxcbiAgICAnY29sc3Bhbic6ICdjb2xTcGFuJyxcbiAgICAncm93c3Bhbic6ICdyb3dTcGFuJyxcbiAgICAndmFsaWduJzogJ3ZBbGlnbicsXG4gICAgJ3VzZW1hcCc6ICd1c2VNYXAnLFxuICAgICdmcmFtZWJvcmRlcic6ICdmcmFtZUJvcmRlcicsXG4gICAgJ2Zvcic6ICdodG1sRm9yJ1xufTtcblxuLyoqXG4gKiDpu5jorqTnmoTlhYPntKDnmoTlsZ7mgKforr7nva7nmoTlj5jmjaLmlrnms5VcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyID0ge1xuICAgIHByb3A6IGZ1bmN0aW9uIChlbCwgdmFsdWUsIG5hbWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gSFRNTF9BVFRSX1BST1BfTUFQW25hbWVdIHx8IG5hbWU7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWVcblxuICAgICAgICAvLyBpbnB1dCDnmoQgdHlwZSDmmK/kuKrnibnmrorlsZ7mgKfvvIzlhbblrp7kuZ/lupTor6XnlKggc2V0QXR0cmlidXRlXG4gICAgICAgIC8vIOS9huaYryB0eXBlIOS4jeW6lOivpei/kOihjOaXtuWKqOaAgeaUueWPmO+8jOWQpuWImeS8muacieWFvOWuueaAp+mXrumimFxuICAgICAgICAvLyDmiYDku6Xov5nph4znm7TmjqXlsLHkuI3nrqHkuoZcbiAgICAgICAgaWYgKHByb3BOYW1lIGluIGVsKSB7XG4gICAgICAgICAgICBlbFtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhdHRyaWJ1dGUg57uR5a6a55qE5pivIHRleHTvvIzmiYDku6XkuI3kvJrlh7rnjrAgbnVsbCDnmoTmg4XlhrXvvIzov5nph4zml6DpnIDlpITnkIZcbiAgICAgICAgLy8g5o2i5Y+l6K+d5p2l6K+077yMc2FuIOaYr+WBmuS4jeWIsCBhdHRyaWJ1dGUg5pe25pyJ5pe25peg55qEXG4gICAgICAgIC8vIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIC8vICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIC8vIH1cbiAgICB9LFxuXG4gICAgb3V0cHV0OiBmdW5jdGlvbiAoZWxlbWVudCwgYmluZEluZm8sIGRhdGEpIHtcbiAgICAgICAgZGF0YS5zZXQoYmluZEluZm8uZXhwciwgZWxlbWVudC5lbFtiaW5kSW5mby5uYW1lXSwge1xuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgICAgICAgcHJvcDogYmluZEluZm8ubmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG52YXIgc3ZnUHJvcEhhbmRsZXIgPSB7XG4gICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSwgbmFtZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH1cbn07XG5cbnZhciBib29sUHJvcEhhbmRsZXIgPSB7XG4gICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSwgbmFtZSwgZWxlbWVudCwgcHJvcCkge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBIVE1MX0FUVFJfUFJPUF9NQVBbbmFtZV0gfHwgbmFtZTtcbiAgICAgICAgZWxbcHJvcE5hbWVdID0gISEocHJvcCAmJiBwcm9wLnJhdyA9PT0gJydcbiAgICAgICAgICAgIHx8IHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnICYmIHZhbHVlICE9PSAnMCcpO1xuICAgIH1cbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIGZlY3MtcHJvcGVydGllcy1xdW90ZSAqL1xuLyoqXG4gKiDpu5jorqTnmoTlsZ7mgKforr7nva7lj5jmjaLmlrnms5VcbiAqXG4gKiBAaW5uZXJcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVycyA9IHtcbiAgICBzdHlsZToge1xuICAgICAgICBwcm9wOiBmdW5jdGlvbiAoZWwsIHZhbHVlKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2NsYXNzJzogeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgIHByb3A6IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNsb3Q6IHtcbiAgICAgICAgcHJvcDogZW1wdHlcbiAgICB9LFxuXG4gICAgcmVhZG9ubHk6IGJvb2xQcm9wSGFuZGxlcixcbiAgICBkaXNhYmxlZDogYm9vbFByb3BIYW5kbGVyLFxuICAgIGF1dG9mb2N1czogYm9vbFByb3BIYW5kbGVyLFxuICAgIHJlcXVpcmVkOiBib29sUHJvcEhhbmRsZXIsXG4gICAgZHJhZ2dhYmxlOiBib29sUHJvcEhhbmRsZXJcbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZlY3MtcHJvcGVydGllcy1xdW90ZSAqL1xuXG52YXIgYW5hbElucHV0Q2hlY2tlciA9IHtcbiAgICBjaGVja2JveDogY29udGFpbnMsXG4gICAgcmFkaW86IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIGFuYWxJbnB1dENoZWNrZWRTdGF0ZShlbGVtZW50LCB2YWx1ZSwgb3Blcikge1xuICAgIHZhciBiaW5kVmFsdWUgPSBnZXRBTm9kZVByb3AoZWxlbWVudC5hTm9kZSwgJ3ZhbHVlJyk7XG4gICAgdmFyIGJpbmRUeXBlID0gZ2V0QU5vZGVQcm9wKGVsZW1lbnQuYU5vZGUsICd0eXBlJyk7XG5cbiAgICBpZiAoYmluZFZhbHVlICYmIGJpbmRUeXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gZXZhbEV4cHIoYmluZFR5cGUuZXhwciwgZWxlbWVudC5zY29wZSwgZWxlbWVudC5vd25lcik7XG5cbiAgICAgICAgaWYgKGFuYWxJbnB1dENoZWNrZXJbdHlwZV0pIHtcbiAgICAgICAgICAgIHZhciBiaW5kQ2hlY2tlZCA9IGdldEFOb2RlUHJvcChlbGVtZW50LmFOb2RlLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgaWYgKCFiaW5kQ2hlY2tlZC5oaW50RXhwcikge1xuICAgICAgICAgICAgICAgIGJpbmRDaGVja2VkLmhpbnRFeHByID0gYmluZFZhbHVlLmV4cHI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhIWFuYWxJbnB1dENoZWNrZXJbdHlwZV0oXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgZXZhbEV4cHIoYmluZFZhbHVlLmV4cHIsIGVsZW1lbnQuc2NvcGUsIGVsZW1lbnQub3duZXIpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG52YXIgZWxlbWVudFByb3BIYW5kbGVycyA9IHtcbiAgICBpbnB1dDoge1xuICAgICAgICBtdWx0aXBsZTogYm9vbFByb3BIYW5kbGVyLFxuICAgICAgICBjaGVja2VkOiB7XG4gICAgICAgICAgICBwcm9wOiBmdW5jdGlvbiAoZWwsIHZhbHVlLCBuYW1lLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gYW5hbElucHV0Q2hlY2tlZFN0YXRlKGVsZW1lbnQsIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGJvb2xQcm9wSGFuZGxlci5wcm9wKFxuICAgICAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgIT0gbnVsbCA/IHN0YXRlIDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICdjaGVja2VkJyxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvdXRwdXQ6IGZ1bmN0aW9uIChlbGVtZW50LCBiaW5kSW5mbywgZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGVsZW1lbnQuZWw7XG4gICAgICAgICAgICAgICAgdmFyIGJpbmRWYWx1ZSA9IGdldEFOb2RlUHJvcChlbGVtZW50LmFOb2RlLCAndmFsdWUnKTtcbiAgICAgICAgICAgICAgICB2YXIgYmluZFR5cGUgPSBnZXRBTm9kZVByb3AoZWxlbWVudC5hTm9kZSwgJ3R5cGUnKSB8fCB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChiaW5kVmFsdWUgJiYgYmluZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChiaW5kVHlwZS5yYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2VsLmNoZWNrZWQgPyAncHVzaCcgOiAncmVtb3ZlJ10oYmluZEluZm8uZXhwciwgZWwudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNoZWNrZWQgJiYgZGF0YS5zZXQoYmluZEluZm8uZXhwciwgZWwudmFsdWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbWVudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3A6IGJpbmRJbmZvLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXIub3V0cHV0KGVsZW1lbnQsIGJpbmRJbmZvLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvcHRpb246IHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHByb3A6IGZ1bmN0aW9uIChlbCwgdmFsdWUsIG5hbWUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyLnByb3AoZWwsIHZhbHVlLCBuYW1lLCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc09wdGlvblNlbGVjdGVkKGVsZW1lbnQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNlbGVjdDoge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcHJvcDogZnVuY3Rpb24gKGVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvdXRwdXQ6IGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXIub3V0cHV0XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBpc09wdGlvblNlbGVjdGVkKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgdmFyIHBhcmVudFNlbGVjdCA9IGVsZW1lbnQucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnRTZWxlY3QpIHtcbiAgICAgICAgaWYgKHBhcmVudFNlbGVjdC50YWdOYW1lID09PSAnc2VsZWN0Jykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnRTZWxlY3QgPSBwYXJlbnRTZWxlY3QucGFyZW50O1xuICAgIH1cblxuXG4gICAgaWYgKHBhcmVudFNlbGVjdCkge1xuICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgcHJvcDtcbiAgICAgICAgdmFyIGV4cHI7XG5cbiAgICAgICAgaWYgKChwcm9wID0gZ2V0QU5vZGVQcm9wKHBhcmVudFNlbGVjdC5hTm9kZSwgJ3ZhbHVlJykpXG4gICAgICAgICAgICAmJiAoZXhwciA9IHByb3AuZXhwcilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBzZWxlY3RWYWx1ZSA9IHBhcmVudFNlbGVjdC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVFxuICAgICAgICAgICAgICAgID8gZXZhbEV4cHIoZXhwciwgcGFyZW50U2VsZWN0LmRhdGEsIHBhcmVudFNlbGVjdClcbiAgICAgICAgICAgICAgICA6IGV2YWxFeHByKGV4cHIsIHBhcmVudFNlbGVjdC5zY29wZSwgcGFyZW50U2VsZWN0Lm93bmVyKVxuICAgICAgICAgICAgICAgIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdFZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiDojrflj5blsZ7mgKflpITnkIblr7nosaFcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnTmFtZSDlhYPntKB0YWdcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyTmFtZSDlsZ7mgKflkI1cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0UHJvcEhhbmRsZXIodGFnTmFtZSwgYXR0ck5hbWUpIHtcbiAgICBpZiAoc3ZnVGFnc1t0YWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gc3ZnUHJvcEhhbmRsZXI7XG4gICAgfVxuXG4gICAgdmFyIHRhZ1Byb3BIYW5kbGVycyA9IGVsZW1lbnRQcm9wSGFuZGxlcnNbdGFnTmFtZV07XG4gICAgaWYgKCF0YWdQcm9wSGFuZGxlcnMpIHtcbiAgICAgICAgdGFnUHJvcEhhbmRsZXJzID0gZWxlbWVudFByb3BIYW5kbGVyc1t0YWdOYW1lXSA9IHt9O1xuICAgIH1cblxuICAgIHZhciBwcm9wSGFuZGxlciA9IHRhZ1Byb3BIYW5kbGVyc1thdHRyTmFtZV07XG4gICAgaWYgKCFwcm9wSGFuZGxlcikge1xuICAgICAgICBwcm9wSGFuZGxlciA9IGRlZmF1bHRFbGVtZW50UHJvcEhhbmRsZXJzW2F0dHJOYW1lXSB8fCBkZWZhdWx0RWxlbWVudFByb3BIYW5kbGVyO1xuICAgICAgICB0YWdQcm9wSGFuZGxlcnNbYXR0ck5hbWVdID0gcHJvcEhhbmRsZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BIYW5kbGVyO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZXRQcm9wSGFuZGxlcjtcblxuXG4vKipcbiAqIEBmaWxlIOWIpOaWreWPmOabtOaYr+WQpuadpea6kOS6juWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDliKTmlq3lj5jmm7TmmK/lkKbmnaXmupDkuo7lhYPntKDvvIzmnaXmupDkuo7lhYPntKDml7bvvIzop4blm77mm7TmlrDpnIDopoHpmLvmlq1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlIOWPmOabtOWvueixoVxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IOWFg+e0oFxuICogQHBhcmFtIHtzdHJpbmc/fSBwcm9wTmFtZSDlsZ7mgKflkI3vvIzlj6/pgInjgILpnIDopoHnsr7noa7liKTmlq3mmK/lkKbmnaXmupDkuo7mraTlsZ7mgKfml7bkvKDlhaVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRGF0YUNoYW5nZUJ5RWxlbWVudChjaGFuZ2UsIGVsZW1lbnQsIHByb3BOYW1lKSB7XG4gICAgdmFyIGNoYW5nZVRhcmdldCA9IGNoYW5nZS5vcHRpb24udGFyZ2V0O1xuICAgIHJldHVybiBjaGFuZ2VUYXJnZXQgJiYgY2hhbmdlVGFyZ2V0LmlkID09PSBlbGVtZW50LmlkXG4gICAgICAgICYmICghcHJvcE5hbWUgfHwgY2hhbmdlVGFyZ2V0LnByb3AgPT09IHByb3BOYW1lKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaXNEYXRhQ2hhbmdlQnlFbGVtZW50O1xuXG5cbi8qKlxuICogQGZpbGUg5Zyo5a+56LGh5LiK5L2/55SoYWNjZXNzb3Looajovr7lvI/mn6Xmib7mlrnms5VcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG5cbi8qKlxuICog5Zyo5a+56LGh5LiK5L2/55SoYWNjZXNzb3Looajovr7lvI/mn6Xmib7mlrnms5VcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOa6kOWvueixoVxuICogQHBhcmFtIHtPYmplY3R9IG5hbWVFeHByIOihqOi+vuW8j1xuICogQHBhcmFtIHtEYXRhfSBkYXRhIOaJgOWxnuaVsOaNrueOr+Wig1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGZpbmRNZXRob2Qoc291cmNlLCBuYW1lRXhwciwgZGF0YSkge1xuICAgIHZhciBtZXRob2QgPSBzb3VyY2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgbWV0aG9kICE9IG51bGwgJiYgaSA8IG5hbWVFeHByLnBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZFtldmFsRXhwcihuYW1lRXhwci5wYXRoc1tpXSwgZGF0YSldO1xuICAgIH1cblxuICAgIHJldHVybiBtZXRob2Q7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZpbmRNZXRob2Q7XG5cblxuLyoqXG4gKiBAZmlsZSDmlbDmja7nsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBFeHByVHlwZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9leHByLXR5cGUnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4vZXZhbC1leHByJyk7XG4vLyB2YXIgRGF0YUNoYW5nZVR5cGUgPSByZXF1aXJlKCcuL2RhdGEtY2hhbmdlLXR5cGUnKTtcbi8vIHZhciBjcmVhdGVBY2Nlc3NvciA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuLi9wYXJzZXIvcGFyc2UtZXhwcicpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBkYXRhQ2FjaGUgPSByZXF1aXJlKCcuL2RhdGEtY2FjaGUnKTtcblxuLyoqXG4gKiDmlbDmja7nsbtcbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7T2JqZWN0P30gZGF0YSDliJ3lp4vmlbDmja5cbiAqIEBwYXJhbSB7TW9kZWw/fSBwYXJlbnQg54i257qn5pWw5o2u5a655ZmoXG4gKi9cbmZ1bmN0aW9uIERhdGEoZGF0YSwgcGFyZW50KSB7XG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLnJhdyA9IGRhdGEgfHwge307XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbn1cblxuLy8gI1tiZWdpbl0gZXJyb3Jcbi8vIOS7peS4i+S4pOS4quWHveaVsOWPquWcqOW8gOWPkeaooeW8j+S4i+WPr+eUqO+8jOWcqOeUn+S6p+aooeW8j+S4i+S4jeWtmOWcqFxuLyoqXG4gKiBEYXRhVHlwZXMg5qOA5rWLXG4gKi9cbkRhdGEucHJvdG90eXBlLmNoZWNrRGF0YVR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnR5cGVDaGVja2VyKSB7XG4gICAgICAgIHRoaXMudHlwZUNoZWNrZXIodGhpcy5yYXcpO1xuICAgIH1cbn07XG5cbi8qKlxuICog6K6+572uIHR5cGUgY2hlY2tlclxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSB0eXBlQ2hlY2tlciDnsbvlnovmoKHpqozlmahcbiAqL1xuRGF0YS5wcm90b3R5cGUuc2V0VHlwZUNoZWNrZXIgPSBmdW5jdGlvbiAodHlwZUNoZWNrZXIpIHtcbiAgICB0aGlzLnR5cGVDaGVja2VyID0gdHlwZUNoZWNrZXI7XG59O1xuXG4vLyAjW2VuZF1cblxuLyoqXG4gKiDmt7vliqDmlbDmja7lj5jmm7TnmoTkuovku7bnm5HlkKzlmahcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlh73mlbBcbiAqL1xuRGF0YS5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOenu+mZpOaVsOaNruWPmOabtOeahOS6i+S7tuebkeWQrOWZqFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIOebkeWQrOWHveaVsFxuICovXG5EYXRhLnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIHZhciBsZW4gPSB0aGlzLmxpc3RlbmVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnNbbGVuXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiDop6blj5HmlbDmja7lj5jmm7RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY2hhbmdlIOWPmOabtOS/oeaBr+WvueixoVxuICovXG5EYXRhLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2Uub3B0aW9uLnNpbGVudCB8fCBjaGFuZ2Uub3B0aW9uLnNpbGVuY2UgfHwgY2hhbmdlLm9wdGlvbi5xdWlldCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1tpXS5jYWxsKHRoaXMsIGNoYW5nZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDojrflj5bmlbDmja7poblcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3Q/fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHtEYXRhP30gY2FsbGVlIOW9k+WJjeaVsOaNruiOt+WPlueahOiwg+eUqOeOr+Wig1xuICogQHJldHVybiB7Kn1cbiAqL1xuRGF0YS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGV4cHIsIGNhbGxlZSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMucmF3O1xuICAgIGlmICghZXhwcikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIHZhciBwYXRocyA9IGV4cHIucGF0aHM7XG4gICAgY2FsbGVlID0gY2FsbGVlIHx8IHRoaXM7XG5cbiAgICB2YWx1ZSA9IHZhbHVlW3BhdGhzWzBdLnZhbHVlXTtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIHRoaXMucGFyZW50KSB7XG4gICAgICAgIHZhbHVlID0gdGhpcy5wYXJlbnQuZ2V0KGV4cHIsIGNhbGxlZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IHBhdGhzLmxlbmd0aDsgdmFsdWUgIT0gbnVsbCAmJiBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlW3BhdGhzW2ldLnZhbHVlIHx8IGV2YWxFeHByKHBhdGhzW2ldLCBjYWxsZWUpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqXG4gKiDmlbDmja7lr7nosaHlj5jmm7Tmk43kvZxcbiAqXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBzb3VyY2Ug6KaB5Y+Y5pu055qE5rqQ5pWw5o2uXG4gKiBAcGFyYW0ge0FycmF5fSBleHByUGF0aHMg5bGe5oCn6Lev5b6EXG4gKiBAcGFyYW0geyp9IHZhbHVlIOWPmOabtOWxnuaAp+WAvFxuICogQHBhcmFtIHtEYXRhfSBkYXRhIOWvueW6lOeahERhdGHlr7nosaFcbiAqIEByZXR1cm4geyp9IOWPmOabtOWQjueahOaWsOaVsOaNrlxuICovXG5mdW5jdGlvbiBpbW11dGFibGVTZXQoc291cmNlLCBleHByUGF0aHMsIHZhbHVlLCBkYXRhKSB7XG4gICAgaWYgKGV4cHJQYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHZhciBwcm9wID0gZXZhbEV4cHIoZXhwclBhdGhzWzBdLCBkYXRhKTtcbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhciBpbmRleCA9ICtwcm9wO1xuXG4gICAgICAgIHJlc3VsdCA9IHNvdXJjZS5zbGljZSgwKTtcbiAgICAgICAgcmVzdWx0W2lzTmFOKGluZGV4KSA/IHByb3AgOiBpbmRleF0gPSBpbW11dGFibGVTZXQoc291cmNlW2luZGV4XSwgZXhwclBhdGhzLnNsaWNlKDEpLCB2YWx1ZSwgZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gcHJvcCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRbcHJvcF0gPSBpbW11dGFibGVTZXQoc291cmNlW3Byb3BdIHx8IHt9LCBleHByUGF0aHMuc2xpY2UoMSksIHZhbHVlLCBkYXRhKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG59XG5cbi8qKlxuICog6K6+572u5pWw5o2u6aG5XG4gKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHsqfSB2YWx1ZSDmlbDmja7lgLxcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoZXhwciwgdmFsdWUsIG9wdGlvbikge1xuICAgIG9wdGlvbiA9IG9wdGlvbiB8fCB7fTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgdmFyIGV4cHJSYXcgPSBleHByO1xuICAgIC8vICNbZW5kXVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKGV4cHIudHlwZSAhPT0gRXhwclR5cGUuQUNDRVNTT1IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBJbnZhbGlkIEV4cHJlc3Npb24gaW4gRGF0YSBzZXQ6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBpZiAodGhpcy5nZXQoZXhwcikgPT09IHZhbHVlICYmICFvcHRpb24uZm9yY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGFDYWNoZS5jbGVhcigpO1xuICAgIHRoaXMucmF3ID0gaW1tdXRhYmxlU2V0KHRoaXMucmF3LCBleHByLnBhdGhzLCB2YWx1ZSwgdGhpcyk7XG4gICAgdGhpcy5maXJlKHtcbiAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU0VULFxuICAgICAgICBleHByOiBleHByLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG9wdGlvbjogb3B0aW9uXG4gICAgfSk7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIHRoaXMuY2hlY2tEYXRhVHlwZXMoKTtcbiAgICAvLyAjW2VuZF1cblxufTtcblxuLyoqXG4gKiDlkIjlubbmm7TmlrDmlbDmja7poblcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOW+heWQiOW5tueahOaVsOaNruWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKi9cbkRhdGEucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gKGV4cHIsIHNvdXJjZSwgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICB2YXIgZXhwclJhdyA9IGV4cHI7XG4gICAgLy8gI1tlbmRdXG5cbiAgICBleHByID0gcGFyc2VFeHByKGV4cHIpO1xuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICBpZiAoZXhwci50eXBlICE9PSBFeHByVHlwZS5BQ0NFU1NPUikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tTQU4gRVJST1JdIEludmFsaWQgRXhwcmVzc2lvbiBpbiBEYXRhIG1lcmdlOiAnICsgZXhwclJhdyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmdldChleHByKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBNZXJnZSBFeHBlY3RzIGEgVGFyZ2V0IG9mIFR5cGUgXFwnb2JqZWN0XFwnOyBnb3QgJyArIHR5cGVvZiBvbGRWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gTWVyZ2UgRXhwZWN0cyBhIFNvdXJjZSBvZiBUeXBlIFxcJ29iamVjdFxcJzsgZ290ICcgKyB0eXBlb2Ygc291cmNlKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgdGhpcy5zZXQoXG4gICAgICAgICAgICBjcmVhdGVBY2Nlc3NvcihcbiAgICAgICAgICAgICAgICBleHByLnBhdGhzLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgc291cmNlW2tleV0sXG4gICAgICAgICAgICBvcHRpb25cbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOWfuuS6juabtOaWsOWHveaVsOabtOaWsOaVsOaNrumhuVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIOaVsOaNruWkhOeQhuWHveaVsFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKi9cbkRhdGEucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gKGV4cHIsIGZuLCBvcHRpb24pIHtcbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIHZhciBleHByUmF3ID0gZXhwcjtcbiAgICAvLyAjW2VuZF1cblxuICAgIGV4cHIgPSBwYXJzZUV4cHIoZXhwcik7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIGlmIChleHByLnR5cGUgIT09IEV4cHJUeXBlLkFDQ0VTU09SKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gSW52YWxpZCBFeHByZXNzaW9uIGluIERhdGEgYXBwbHk6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLmdldChleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnW1NBTiBFUlJPUl0gSW52YWxpZCBBcmd1bWVudFxcJ3MgVHlwZSBpbiBEYXRhIGFwcGx5OiAnXG4gICAgICAgICAgICArICdFeHBlY3RlZCBGdW5jdGlvbiBidXQgZ290ICcgKyB0eXBlb2YgZm5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB0aGlzLnNldChleHByLCBmbihvbGRWYWx1ZSksIG9wdGlvbik7XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXNwbGljZeaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3Mgc3BsaWNlIOaOpeWPl+eahOWPguaVsOWIl+ihqO+8jOaVsOe7hOmhueS4jkFycmF5LnByb3RvdHlwZS5zcGxpY2XnmoTlj4LmlbDkuIDoh7RcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICogQHJldHVybiB7QXJyYXl9IOaWsOaVsOe7hFxuICovXG5EYXRhLnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoZXhwciwgYXJncywgb3B0aW9uKSB7XG4gICAgb3B0aW9uID0gb3B0aW9uIHx8IHt9O1xuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgdmFyIGV4cHJSYXcgPSBleHByO1xuICAgIC8vICNbZW5kXVxuXG4gICAgZXhwciA9IHBhcnNlRXhwcihleHByKTtcblxuICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgaWYgKGV4cHIudHlwZSAhPT0gRXhwclR5cGUuQUNDRVNTT1IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEVSUk9SXSBJbnZhbGlkIEV4cHJlc3Npb24gaW4gRGF0YSBzcGxpY2U6ICcgKyBleHByUmF3KTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5nZXQoZXhwcik7XG4gICAgdmFyIHJldHVyblZhbHVlID0gW107XG5cbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGxlbiA9IHRhcmdldC5sZW5ndGg7XG4gICAgICAgIGlmIChpbmRleCA+IGxlbikge1xuICAgICAgICAgICAgaW5kZXggPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBpbmRleCA9IGxlbiArIGluZGV4O1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdBcnJheSA9IHRhcmdldC5zbGljZSgwKTtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBuZXdBcnJheS5zcGxpY2UuYXBwbHkobmV3QXJyYXksIGFyZ3MpO1xuICAgICAgICBkYXRhQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5yYXcgPSBpbW11dGFibGVTZXQodGhpcy5yYXcsIGV4cHIucGF0aHMsIG5ld0FycmF5LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmZpcmUoe1xuICAgICAgICAgICAgZXhwcjogZXhwcixcbiAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNQTElDRSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGRlbGV0ZUNvdW50OiByZXR1cm5WYWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICB2YWx1ZTogcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICBpbnNlcnRpb25zOiBhcmdzLnNsaWNlKDIpLFxuICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICB0aGlzLmNoZWNrRGF0YVR5cGVzKCk7XG4gICAgLy8gI1tlbmRdXG5cbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXB1c2jmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0geyp9IGl0ZW0g6KaBcHVzaOeahOWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKiBAcmV0dXJuIHtudW1iZXJ9IOaWsOaVsOe7hOeahGxlbmd0aOWxnuaAp1xuICovXG5EYXRhLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGV4cHIsIGl0ZW0sIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLnNwbGljZShleHByLCBbdGFyZ2V0Lmxlbmd0aCwgMCwgaXRlbV0sIG9wdGlvbik7XG4gICAgICAgIHJldHVybiB0YXJnZXQubGVuZ3RoICsgMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXBvcOaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICogQHJldHVybiB7Kn1cbiAqL1xuRGF0YS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKGV4cHIsIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGV4cHIsIFtsZW4gLSAxLCAxXSwgb3B0aW9uKVswXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICog5pWw57uE5pWw5o2u6aG5c2hpZnTmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbiDorr7nva7lj4LmlbBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9uLnNpbGVudCDpnZnpu5jorr7nva7vvIzkuI3op6blj5Hlj5jmm7Tkuovku7ZcbiAqIEByZXR1cm4geyp9XG4gKi9cbkRhdGEucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKGV4cHIsIG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNwbGljZShleHByLCBbMCwgMV0sIG9wdGlvbilbMF07XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhuXVuc2hpZnTmk43kvZxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IGV4cHIg5pWw5o2u6aG56Lev5b6EXG4gKiBAcGFyYW0geyp9IGl0ZW0g6KaBdW5zaGlmdOeahOWAvFxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb24g6K6+572u5Y+C5pWwXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbi5zaWxlbnQg6Z2Z6buY6K6+572u77yM5LiN6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gKiBAcmV0dXJuIHtudW1iZXJ9IOaWsOaVsOe7hOeahGxlbmd0aOWxnuaAp1xuICovXG5EYXRhLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGV4cHIsIGl0ZW0sIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLnNwbGljZShleHByLCBbMCwgMCwgaXRlbV0sIG9wdGlvbik7XG4gICAgICAgIHJldHVybiB0YXJnZXQubGVuZ3RoICsgMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOaVsOe7hOaVsOaNrumhueenu+mZpOaTjeS9nFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gZXhwciDmlbDmja7pobnot6/lvoRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCDopoHnp7vpmaTpobnnmoTntKLlvJVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5yZW1vdmVBdCA9IGZ1bmN0aW9uIChleHByLCBpbmRleCwgb3B0aW9uKSB7XG4gICAgdGhpcy5zcGxpY2UoZXhwciwgW2luZGV4LCAxXSwgb3B0aW9uKTtcbn07XG5cbi8qKlxuICog5pWw57uE5pWw5o2u6aG556e76Zmk5pON5L2cXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBleHByIOaVsOaNrumhuei3r+W+hFxuICogQHBhcmFtIHsqfSB2YWx1ZSDopoHnp7vpmaTnmoTpoblcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uIOiuvue9ruWPguaVsFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb24uc2lsZW50IOmdmem7mOiuvue9ru+8jOS4jeinpuWPkeWPmOabtOS6i+S7tlxuICovXG5EYXRhLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZXhwciwgdmFsdWUsIG9wdGlvbikge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzLmdldChleHByKTtcblxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YXIgbGVuID0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0W2xlbl0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpY2UoZXhwciwgW2xlbiwgMV0sIG9wdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBEYXRhO1xuXG5cbi8qKlxuICogQGZpbGUg5aOw5piO5byP5LqL5Lu255qE55uR5ZCs5Ye95pWwXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBldmFsQXJncyA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1hcmdzJyk7XG4vLyB2YXIgZmluZE1ldGhvZCA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZmluZC1tZXRob2QnKTtcbi8vIHZhciBEYXRhID0gcmVxdWlyZSgnLi4vcnVudGltZS9kYXRhJyk7XG5cbi8qKlxuICog5aOw5piO5byP5LqL5Lu255qE55uR5ZCs5Ye95pWwXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50QmluZCDnu5Hlrprkv6Hmga/lr7nosaFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDb21wb25lbnRFdmVudCDmmK/lkKbnu4Tku7boh6rlrprkuYnkuovku7ZcbiAqIEBwYXJhbSB7RGF0YX0gZGF0YSDmlbDmja7njq/looNcbiAqIEBwYXJhbSB7RXZlbnR9IGUg5LqL5Lu25a+56LGhXG4gKi9cbmZ1bmN0aW9uIGV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lcihldmVudEJpbmQsIGlzQ29tcG9uZW50RXZlbnQsIGRhdGEsIGUpIHtcbiAgICB2YXIgbWV0aG9kID0gZmluZE1ldGhvZCh0aGlzLCBldmVudEJpbmQuZXhwci5uYW1lLCBkYXRhKTtcblxuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBzY29wZSA9IG5ldyBEYXRhKFxuICAgICAgICAgICAgeyRldmVudDogaXNDb21wb25lbnRFdmVudCA/IGUgOiBlIHx8IHdpbmRvdy5ldmVudH0sXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgICk7XG4gICAgICAgIG1ldGhvZC5hcHBseSh0aGlzLCBldmFsQXJncyhldmVudEJpbmQuZXhwci5hcmdzLCBzY29wZSwgdGhpcykpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZXZlbnREZWNsYXJhdGlvbkxpc3RlbmVyO1xuXG5cbi8qKlxuICogQGZpbGUg6Ieq6Zet5ZCI5qCH562+6KGoXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgc3BsaXRTdHIyT2JqID0gcmVxdWlyZSgnLi4vdXRpbC9zcGxpdC1zdHItMi1vYmonKTtcblxuLyoqXG4gKiDoh6rpl63lkIjmoIfnrb7liJfooahcbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgaG90VGFncyA9IHNwbGl0U3RyMk9iaignZGl2LHNwYW4saW5wdXQsYnV0dG9uLHRleHRhcmVhLGZvcm0sbGFiZWwsZGwsZHQsZGQsdWwsb2wsbGksYSxiLHUsaDEsaDIsaDMsaDQsaDUsaDYnKTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaG90VGFncztcblxuXG4vKipcbiAqIEBmaWxlIOaYr+WQpua1j+iniOWZqOeOr+Wig1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpc0Jyb3dzZXI7XG5cblxuLyoqXG4gKiBAZmlsZSBpbnNlcnRCZWZvcmUg5pa55rOV55qE5YW85a655oCn5bCB6KOFXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIGluc2VydEJlZm9yZSDmlrnms5XnmoTlhbzlrrnmgKflsIHoo4VcbiAqXG4gKiBAcGFyYW0ge0hUTUxOb2RlfSB0YXJnZXRFbCDopoHmj5LlhaXnmoToioLngrlcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudD99IGJlZm9yZUVsIOWcqOatpOWFg+e0oOS5i+WJjeaPkuWFpVxuICovXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUodGFyZ2V0RWwsIHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIGlmIChwYXJlbnRFbCkge1xuICAgICAgICBpZiAoYmVmb3JlRWwpIHtcbiAgICAgICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZSh0YXJnZXRFbCwgYmVmb3JlRWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGFyZ2V0RWwpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCZWZvcmU7XG5cblxuLyoqXG4gKiBAZmlsZSDliKTmlq3lhYPntKDmmK/lkKbkuI3lhYHorrjorr7nva5IVE1MXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyBzb21lIGh0bWwgZWxlbWVudHMgY2Fubm90IHNldCBpbm5lckhUTUwgaW4gb2xkIGllXG4vLyBzZWU6IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzM4OTcoVlMuODUpLmFzcHhcblxuLyoqXG4gKiDliKTmlq3lhYPntKDmmK/lkKbkuI3lhYHorrjorr7nva5IVE1MXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwg6KaB5Yik5pat55qE5YWD57SgXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBub1NldEhUTUwoZWwpIHtcbiAgICByZXR1cm4gL14oY29sfGNvbGdyb3VwfGZyYW1lc2V0fHN0eWxlfHRhYmxlfHRib2R5fHRmb290fHRoZWFkfHRyfHNlbGVjdCkkL2kudGVzdChlbC50YWdOYW1lKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gbm9TZXRIVE1MO1xuXG5cbi8qKlxuICogQGZpbGUgIOiOt+WPluiKgueCuSBzdHVtcCDnmoQgY29tbWVudFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIG5vU2V0SFRNTCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvbm8tc2V0LWh0bWwnKTtcblxuLy8gI1tiZWdpbl0gZXJyb3Jcbi8qKlxuICog6I635Y+W6IqC54K5IHN0dW1wIOeahCBjb21tZW50XG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgSFRNTOWFg+e0oFxuICovXG5mdW5jdGlvbiB3YXJuU2V0SFRNTChlbCkge1xuICAgIC8vIGRvbnQgd2FybiBpZiBub3QgaW4gYnJvd3NlciBydW50aW1lXG4gICAgaWYgKCEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc29tZSBodG1sIGVsZW1lbnRzIGNhbm5vdCBzZXQgaW5uZXJIVE1MIGluIG9sZCBpZVxuICAgIC8vIHNlZTogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMzg5NyhWUy44NSkuYXNweFxuICAgIGlmIChub1NldEhUTUwoZWwpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1tTQU4gV0FSTklOR10gc2V0IGh0bWwgZm9yIGVsZW1lbnQgXCInICsgZWwudGFnTmFtZVxuICAgICAgICAgICAgKyAnXCIgbWF5IGNhdXNlIGFuIGVycm9yIGluIG9sZCBJRSc7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB9XG59XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gd2FyblNldEhUTUw7XG5cblxuLyoqXG4gKiBAZmlsZSDliKTmlq3mmK/lkKbnu5PmnZ/moalcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog5Yik5pat5piv5ZCm57uT5p2f5qGpXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudHxIVE1MQ29tbWVudH0gdGFyZ2V0IOimgeWIpOaWreeahOWFg+e0oFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUg5qGp57G75Z6LXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0VuZFN0dW1wKHRhcmdldCwgdHlwZSkge1xuICAgIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IDggJiYgdGFyZ2V0LmRhdGEgPT09ICcvcy0nICsgdHlwZTtcbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBpc0VuZFN0dW1wO1xuXG5cbi8qKlxuICogQGZpbGUg6I635Y+W6IqC54K55Zyo57uE5Lu25qCR5Lit55qE6Lev5b6EXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog6I635Y+W6IqC54K55Zyo57uE5Lu25qCR5Lit55qE6Lev5b6EXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIOiKgueCueWvueixoVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVQYXRoKG5vZGUpIHtcbiAgICB2YXIgbm9kZVBhdGhzID0gW107XG4gICAgdmFyIG5vZGVQYXJlbnQgPSBub2RlO1xuICAgIHdoaWxlIChub2RlUGFyZW50KSB7XG4gICAgICAgIHN3aXRjaCAobm9kZVBhcmVudC5ub2RlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5FTEVNOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KG5vZGVQYXJlbnQudGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgTm9kZVR5cGUuSUY6XG4gICAgICAgICAgICAgICAgbm9kZVBhdGhzLnVuc2hpZnQoJ2lmJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgTm9kZVR5cGUuRk9SOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdmb3JbJyArIG5vZGVQYXJlbnQuYW5vZGUuZGlyZWN0aXZlc1snZm9yJ10ucmF3ICsgJ10nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5TTE9UOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdzbG90WycgKyAobm9kZVBhcmVudC5uYW1lIHx8ICdkZWZhdWx0JykgKyAnXScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIE5vZGVUeXBlLlRQTDpcbiAgICAgICAgICAgICAgICBub2RlUGF0aHMudW5zaGlmdCgndGVtcGxhdGUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5DTVBUOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCdjb21wb25lbnRbJyArIChub2RlUGFyZW50LnN1YlRhZyB8fCAncm9vdCcpICsgJ10nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBOb2RlVHlwZS5URVhUOlxuICAgICAgICAgICAgICAgIG5vZGVQYXRocy51bnNoaWZ0KCd0ZXh0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlUGFyZW50ID0gbm9kZVBhcmVudC5wYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVQYXRocztcbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZXROb2RlUGF0aDtcblxuXG4vKipcbiAqIEBmaWxlIHRleHQg6IqC54K557G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIGNoYW5nZUV4cHJDb21wYXJlID0gcmVxdWlyZSgnLi4vcnVudGltZS9jaGFuZ2UtZXhwci1jb21wYXJlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciB3YXJuU2V0SFRNTCA9IHJlcXVpcmUoJy4vd2Fybi1zZXQtaHRtbCcpO1xuLy8gdmFyIGlzRW5kU3R1bXAgPSByZXF1aXJlKCcuL2lzLWVuZC1zdHVtcCcpO1xuLy8gdmFyIGdldE5vZGVQYXRoID0gcmVxdWlyZSgnLi9nZXQtbm9kZS1wYXRoJyk7XG5cblxuLyoqXG4gKiB0ZXh0IOiKgueCueexu1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7bnjq/looNcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEBwYXJhbSB7Tm9kZX0gcGFyZW50IOeItuS6suiKgueCuVxuICogQHBhcmFtIHtET01DaGlsZHJlbldhbGtlcj99IHJldmVyc2VXYWxrZXIg5a2Q5YWD57Sg6YGN5Y6G5a+56LGhXG4gKi9cbmZ1bmN0aW9uIFRleHROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHJldmVyc2VXYWxrZXIuY3VycmVudDtcbiAgICAgICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnROb2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vZGUuZGF0YSA9PT0gJ3MtdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsID0gY3VycmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS5kYXRhID0gdGhpcy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZSA9IHJldmVyc2VXYWxrZXIuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBSRVZFUlNFIEVSUk9SXSBUZXh0IGVuZCBmbGFnIG5vdCBmb3VuZC4gXFxuUGF0aHM6ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgZ2V0Tm9kZVBhdGgodGhpcykuam9pbignID4gJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VuZFN0dW1wKGN1cnJlbnROb2RlLCAndGV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWwgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVdhbGtlci5nb05leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE5vZGUuZGF0YSA9IHRoaXMuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbCA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZSh0aGlzLmVsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuVGV4dE5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuVEVYVDtcblxuLyoqXG4gKiDlsIZ0ZXh0IGF0dGFjaOWIsOmhtemdolxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOimgea3u+WKoOWIsOeahOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudO+8nX0gYmVmb3JlRWwg6KaB5re75Yqg5Yiw5ZOq5Liq5YWD57Sg5LmL5YmNXG4gKi9cblRleHROb2RlLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgdGhpcy5jb250ZW50ID0gZXZhbEV4cHIodGhpcy5hTm9kZS50ZXh0RXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG5cbiAgICBpZiAodGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICB0aGlzLnNlbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgICAgIGluc2VydEJlZm9yZSh0aGlzLnNlbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG5cbiAgICAgICAgdmFyIHRlbXBGbGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHBhcmVudEVsLmluc2VydEJlZm9yZSh0ZW1wRmxhZywgdGhpcy5lbCk7XG4gICAgICAgIHRlbXBGbGFnLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCB0aGlzLmNvbnRlbnQpO1xuICAgICAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRmxhZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jb250ZW50KTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDplIDmr4EgdGV4dCDoioLngrlcbiAqL1xuVGV4dE5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgdGhpcy5lbCA9IG51bGw7XG4gICAgdGhpcy5zZWwgPSBudWxsO1xufTtcblxudmFyIHRleHRVcGRhdGVQcm9wID0gaXNCcm93c2VyXG4gICAgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykudGV4dENvbnRlbnQgPT09ICdzdHJpbmcnXG4gICAgICAgID8gJ3RleHRDb250ZW50J1xuICAgICAgICA6ICdkYXRhJyk7XG5cbi8qKlxuICog5pu05pawIHRleHQg6IqC54K555qE6KeG5Zu+XG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuVGV4dE5vZGUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmICh0aGlzLmFOb2RlLnRleHRFeHByLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbGVuID0gY2hhbmdlcyA/IGNoYW5nZXMubGVuZ3RoIDogMDtcbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgaWYgKGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZXNbbGVuXS5leHByLCB0aGlzLmFOb2RlLnRleHRFeHByLCB0aGlzLnNjb3BlKSkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBldmFsRXhwcih0aGlzLmFOb2RlLnRleHRFeHByLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcblxuICAgICAgICAgICAgaWYgKHRleHQgIT09IHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHRleHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hTm9kZS50ZXh0RXhwci5vcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZW1vdmVFbCA9IHRoaXMuc2VsLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0UmVtb3ZlRWwgIT09IHRoaXMuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVUYXJnZXQgPSBzdGFydFJlbW92ZUVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRSZW1vdmVFbCA9IHN0YXJ0UmVtb3ZlRWwubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbChyZW1vdmVUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgd2FyblNldEhUTUwocGFyZW50RWwpO1xuICAgICAgICAgICAgICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcEZsYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RWwuaW5zZXJ0QmVmb3JlKHRlbXBGbGFnLCB0aGlzLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEZsYWcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbC5yZW1vdmVDaGlsZCh0ZW1wRmxhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsW3RleHRVcGRhdGVQcm9wXSA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBUZXh0Tm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOiuoeeul+S4pOS4quWvueixoSBrZXkg55qE5bm26ZuGXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vKipcbiAqIOiuoeeul+S4pOS4quWvueixoSBrZXkg55qE5bm26ZuGXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEg55uu5qCH5a+56LGhXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMiDmupDlr7nosaFcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiB1bmlvbktleXMob2JqMSwgb2JqMikge1xuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBvYmoxKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIG9iajIpIHtcbiAgICAgICAgIW9iajFba2V5XSAmJiByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHVuaW9uS2V5cztcblxuXG4vKipcbiAqIEBmaWxlIOWIpOaWreWPmOabtOaVsOe7hOaYr+WQpuW9seWTjeWIsOaVsOaNruW8leeUqOaRmOimgVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOWIpOaWreWPmOabtOaVsOe7hOaYr+WQpuW9seWTjeWIsOaVsOaNruW8leeUqOaRmOimgVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5Y+Y5pu05pWw57uEXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVJlZiDmlbDmja7lvJXnlKjmkZjopoFcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNoYW5nZXNJc0luRGF0YVJlZihjaGFuZ2VzLCBkYXRhUmVmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuXG4gICAgICAgIGlmICghY2hhbmdlLm92ZXJ2aWV3KSB7XG4gICAgICAgICAgICB2YXIgcGF0aHMgPSBjaGFuZ2UuZXhwci5wYXRocztcbiAgICAgICAgICAgIGNoYW5nZS5vdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAocGF0aHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZS5leHRPdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlICsgJy4nICsgcGF0aHNbMV0udmFsdWU7XG4gICAgICAgICAgICAgICAgY2hhbmdlLndpbGRPdmVydmlldyA9IHBhdGhzWzBdLnZhbHVlICsgJy4qJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhUmVmW2NoYW5nZS5vdmVydmlld11cbiAgICAgICAgICAgIHx8IGNoYW5nZS53aWxkT3ZlcnZpZXcgJiYgZGF0YVJlZltjaGFuZ2Uud2lsZE92ZXJ2aWV3XVxuICAgICAgICAgICAgfHwgY2hhbmdlLmV4dE92ZXJ2aWV3ICYmIGRhdGFSZWZbY2hhbmdlLmV4dE92ZXJ2aWV3XVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjaGFuZ2VzSXNJbkRhdGFSZWY7XG5cblxuLyoqXG4gKiBAZmlsZSDlhYPntKDlrZDoioLngrnpgY3ljobmk43kvZznsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciByZW1vdmVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG5cbi8vICNbYmVnaW5dIHJldmVyc2Vcbi8qKlxuICog5YWD57Sg5a2Q6IqC54K56YGN5Y6G5pON5L2c57G7XG4gKlxuICogQGlubmVyXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIOimgemBjeWOhueahOWFg+e0oFxuICovXG5mdW5jdGlvbiBET01DaGlsZHJlbldhbGtlcihlbCkge1xuICAgIHRoaXMucmF3ID0gW107XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy50YXJnZXQgPSBlbDtcblxuICAgIHZhciBjaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgdmFyIG5leHQ7XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIG5leHQgPSBjaGlsZC5uZXh0U2libGluZztcblxuICAgICAgICBzd2l0Y2ggKGNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKC9eXFxzKiQvLnRlc3QoY2hpbGQuZGF0YSB8fCBjaGlsZC50ZXh0Q29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWwoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYXcucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgdGhpcy5yYXcucHVzaChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgfVxuXG4gICAgdGhpcy5jdXJyZW50ID0gdGhpcy5yYXdbdGhpcy5pbmRleF07XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5yYXdbdGhpcy5pbmRleCArIDFdO1xufVxuXG4vKipcbiAqIOW+gOS4i+i1sOS4gOS4quWFg+e0oFxuICovXG5ET01DaGlsZHJlbldhbGtlci5wcm90b3R5cGUuZ29OZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY3VycmVudCA9IHRoaXMucmF3WysrdGhpcy5pbmRleF07XG4gICAgdGhpcy5uZXh0ID0gdGhpcy5yYXdbdGhpcy5pbmRleCArIDFdO1xufTtcbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbldhbGtlcjtcblxuXG4vKipcbiAqIEBmaWxlIOWFg+e0oOiKgueCueexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciB1bmlvbktleXMgPSByZXF1aXJlKCcuLi91dGlsL3VuaW9uLWtleXMnKTtcbi8vIHZhciByZW1vdmVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG4vLyB2YXIgY2hhbmdlRXhwckNvbXBhcmUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZS1leHByLWNvbXBhcmUnKTtcbi8vIHZhciBjaGFuZ2VzSXNJbkRhdGFSZWYgPSByZXF1aXJlKCcuLi9ydW50aW1lL2NoYW5nZXMtaXMtaW4tZGF0YS1yZWYnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyB2YXIgTGlmZUN5Y2xlID0gcmVxdWlyZSgnLi9saWZlLWN5Y2xlJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuLy8gdmFyIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4gPSByZXF1aXJlKCcuL3JldmVyc2UtZWxlbWVudC1jaGlsZHJlbicpO1xuLy8gdmFyIGlzRGF0YUNoYW5nZUJ5RWxlbWVudCA9IHJlcXVpcmUoJy4vaXMtZGF0YS1jaGFuZ2UtYnktZWxlbWVudCcpO1xuLy8gdmFyIGVsZW1lbnRVcGRhdGVDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC11cGRhdGUtY2hpbGRyZW4nKTtcbi8vIHZhciBlbGVtZW50T3duQ3JlYXRlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1jcmVhdGUnKTtcbi8vIHZhciBlbGVtZW50T3duQXR0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1hdHRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGV0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1kZXRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGlzcG9zZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tZGlzcG9zZScpO1xuLy8gdmFyIGVsZW1lbnRPd25PbkVsID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1vbi1lbCcpO1xuLy8gdmFyIGVsZW1lbnRPd25Ub1BoYXNlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi10by1waGFzZScpO1xuLy8gdmFyIGVsZW1lbnRPd25BdHRhY2hlZCA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tYXR0YWNoZWQnKTtcbi8vIHZhciBlbGVtZW50RGlzcG9zZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlJyk7XG4vLyB2YXIgZWxlbWVudEluaXRUYWdOYW1lID0gcmVxdWlyZSgnLi9lbGVtZW50LWluaXQtdGFnLW5hbWUnKTtcbi8vIHZhciBoYW5kbGVQcm9wID0gcmVxdWlyZSgnLi9oYW5kbGUtcHJvcCcpO1xuLy8gdmFyIHdhcm5TZXRIVE1MID0gcmVxdWlyZSgnLi93YXJuLXNldC1odG1sJyk7XG4vLyB2YXIgZ2V0Tm9kZVBhdGggPSByZXF1aXJlKCcuL2dldC1ub2RlLXBhdGgnKTtcblxuLyoqXG4gKiDlhYPntKDoioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBFbGVtZW50KGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuXG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuc3RhcnQ7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuX2VsRm5zID0gW107XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcblxuICAgIGVsZW1lbnRJbml0VGFnTmFtZSh0aGlzKTtcblxuICAgIGlmIChhTm9kZS5kaXJlY3RpdmVzLmJpbmQpIHtcbiAgICAgICAgdGhpcy5fc3ByZWFkRGF0YSA9IGV2YWxFeHByKGFOb2RlLmRpcmVjdGl2ZXMuYmluZC52YWx1ZSwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG4gICAgfVxuXG4gICAgdGhpcy5fdG9QaGFzZSgnaW5pdGVkJyk7XG5cbiAgICAvLyAjW2JlZ2luXSByZXZlcnNlXG4gICAgaWYgKHJldmVyc2VXYWxrZXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnROb2RlID0gcmV2ZXJzZVdhbGtlci5jdXJyZW50O1xuXG4gICAgICAgIGlmICghY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBSRVZFUlNFIEVSUk9SXSBFbGVtZW50IG5vdCBmb3VuZC4gXFxuUGF0aHM6ICdcbiAgICAgICAgICAgICAgICArIGdldE5vZGVQYXRoKHRoaXMpLmpvaW4oJyA+ICcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIFJFVkVSU0UgRVJST1JdIEVsZW1lbnQgdHlwZSBub3QgbWF0Y2gsIGV4cGVjdCAxIGJ1dCAnXG4gICAgICAgICAgICAgICAgKyBjdXJyZW50Tm9kZS5ub2RlVHlwZSArICcuXFxuUGF0aHM6ICdcbiAgICAgICAgICAgICAgICArIGdldE5vZGVQYXRoKHRoaXMpLmpvaW4oJyA+ICcpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHRoaXMudGFnTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIFJFVkVSU0UgRVJST1JdIEVsZW1lbnQgdGFnTmFtZSBub3QgbWF0Y2gsIGV4cGVjdCAnXG4gICAgICAgICAgICAgICAgKyB0aGlzLnRhZ05hbWUgKyAnIGJ1dCBtZWF0ICcgKyBjdXJyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgKyAnLlxcblBhdGhzOiAnXG4gICAgICAgICAgICAgICAgKyBnZXROb2RlUGF0aCh0aGlzKS5qb2luKCcgPiAnKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsID0gY3VycmVudE5vZGU7XG4gICAgICAgIHJldmVyc2VXYWxrZXIuZ29OZXh0KCk7XG5cbiAgICAgICAgcmV2ZXJzZUVsZW1lbnRDaGlsZHJlbih0aGlzKTtcblxuICAgICAgICB0aGlzLl9hdHRhY2hlZCgpO1xuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuXG5cbkVsZW1lbnQucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuRUxFTTtcblxuXG5FbGVtZW50LnByb3RvdHlwZS5hdHRhY2ggPSBlbGVtZW50T3duQXR0YWNoO1xuRWxlbWVudC5wcm90b3R5cGUuZGV0YWNoID0gZWxlbWVudE93bkRldGFjaDtcbkVsZW1lbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBlbGVtZW50T3duRGlzcG9zZTtcbkVsZW1lbnQucHJvdG90eXBlLl9jcmVhdGUgPSBlbGVtZW50T3duQ3JlYXRlO1xuRWxlbWVudC5wcm90b3R5cGUuX3RvUGhhc2UgPSBlbGVtZW50T3duVG9QaGFzZTtcbkVsZW1lbnQucHJvdG90eXBlLl9vbkVsID0gZWxlbWVudE93bk9uRWw7XG5cbkVsZW1lbnQucHJvdG90eXBlLl9kb25lTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGVhdmVEaXNwb3NlKSB7XG4gICAgICAgIGlmICghdGhpcy5saWZlQ3ljbGUuZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnREaXNwb3NlKFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlTm9EZXRhY2gsXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwb3NlTm9UcmFuc2l0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubGlmZUN5Y2xlLmF0dGFjaGVkKSB7XG4gICAgICAgIHJlbW92ZUVsKHRoaXMuZWwpO1xuICAgICAgICB0aGlzLl90b1BoYXNlKCdkZXRhY2hlZCcpO1xuICAgIH1cbn07XG5cbi8qKlxuICog6KeG5Zu+5pu05pawXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuRWxlbWVudC5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgaWYgKCFjaGFuZ2VzSXNJbkRhdGFSZWYoY2hhbmdlcywgdGhpcy5hTm9kZS5ob3RzcG90LmRhdGEpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgcy1iaW5kXG4gICAgdmFyIGJpbmREaXJlY3RpdmUgPSB0aGlzLmFOb2RlLmRpcmVjdGl2ZXMuYmluZDtcbiAgICBpZiAoYmluZERpcmVjdGl2ZSkge1xuICAgICAgICB2YXIgbGVuID0gY2hhbmdlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZXNbbGVuXS5leHByLCBiaW5kRGlyZWN0aXZlLnZhbHVlLCB0aGlzLnNjb3BlKSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCaW5kRGF0YSA9IGV2YWxFeHByKGJpbmREaXJlY3RpdmUudmFsdWUsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpO1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdW5pb25LZXlzKG5ld0JpbmREYXRhLCB0aGlzLl9zcHJlYWREYXRhKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IG5ld0JpbmREYXRhW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuYU5vZGUuaG90c3BvdC5wcm9wcykgJiYgcHJvcFZhbHVlICE9PSB0aGlzLl9zcHJlYWREYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFByb3BIYW5kbGVyKHRoaXMudGFnTmFtZSwga2V5KS5wcm9wKHRoaXMuZWwsIHByb3BWYWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3NwcmVhZERhdGEgPSBuZXdCaW5kRGF0YTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBwcm9wXG4gICAgdmFyIGR5bmFtaWNQcm9wcyA9IHRoaXMuYU5vZGUuaG90c3BvdC5keW5hbWljUHJvcHM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkeW5hbWljUHJvcHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wID0gZHluYW1pY1Byb3BzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBjaGFuZ2VMZW4gPSBjaGFuZ2VzLmxlbmd0aDsgaiA8IGNoYW5nZUxlbjsgaisrKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tqXTtcblxuICAgICAgICAgICAgaWYgKCFpc0RhdGFDaGFuZ2VCeUVsZW1lbnQoY2hhbmdlLCB0aGlzLCBwcm9wLm5hbWUpXG4gICAgICAgICAgICAgICAgJiYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgcHJvcC5leHByLCB0aGlzLnNjb3BlKVxuICAgICAgICAgICAgICAgICAgICB8fCBwcm9wLmhpbnRFeHByICYmIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZS5leHByLCBwcm9wLmhpbnRFeHByLCB0aGlzLnNjb3BlKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByb3AodGhpcywgZXZhbEV4cHIocHJvcC5leHByLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgY29udGVudFxuICAgIHZhciBodG1sRGlyZWN0aXZlID0gdGhpcy5hTm9kZS5kaXJlY3RpdmVzLmh0bWw7XG4gICAgaWYgKGh0bWxEaXJlY3RpdmUpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNoYW5nZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VzW2xlbl0uZXhwciwgaHRtbERpcmVjdGl2ZS52YWx1ZSwgdGhpcy5zY29wZSkpIHtcbiAgICAgICAgICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAgICAgICAgIHdhcm5TZXRIVE1MKHRoaXMuZWwpO1xuICAgICAgICAgICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgICAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSBldmFsRXhwcihodG1sRGlyZWN0aXZlLnZhbHVlLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW1lbnRVcGRhdGVDaGlsZHJlbih0aGlzLCBjaGFuZ2VzKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOaJp+ihjOWujOaIkGF0dGFjaGVk54q25oCB55qE6KGM5Li6XG4gKi9cbkVsZW1lbnQucHJvdG90eXBlLl9hdHRhY2hlZCA9IGVsZW1lbnRPd25BdHRhY2hlZDtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gRWxlbWVudDtcblxuXG4vKipcbiAqIEBmaWxlIOmUgOavgeiKgueCue+8jOa4heepuuiKgueCueS4iueahOaXoOeUqOaIkOWRmFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vKipcbiAqIOmUgOavgeiKgueCuVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIOiKgueCueWvueixoVxuICovXG5mdW5jdGlvbiBub2RlRGlzcG9zZShub2RlKSB7XG4gICAgbm9kZS5lbCA9IG51bGw7XG4gICAgbm9kZS5zZWwgPSBudWxsO1xuICAgIG5vZGUub3duZXIgPSBudWxsO1xuICAgIG5vZGUuc2NvcGUgPSBudWxsO1xuICAgIG5vZGUuYU5vZGUgPSBudWxsO1xuICAgIG5vZGUucGFyZW50ID0gbnVsbDtcbiAgICBub2RlLnBhcmVudENvbXBvbmVudCA9IG51bGw7XG4gICAgbm9kZS5jaGlsZHJlbiA9IG51bGw7XG5cbiAgICBpZiAobm9kZS5fdG9QaGFzZSkge1xuICAgICAgICBub2RlLl90b1BoYXNlKCdkaXNwb3NlZCcpO1xuICAgIH1cblxuICAgIGlmIChub2RlLl9vbmRpc3Bvc2VkKSB7XG4gICAgICAgIG5vZGUuX29uZGlzcG9zZWQoKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5vZGVEaXNwb3NlO1xuXG5cbi8qKlxuICogQGZpbGUg6YCa6L+H57uE5Lu25Y+N6Kej5Yib5bu66IqC54K555qE5bel5Y6C5pa55rOVXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaG90VGFncyA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaG90LXRhZ3MnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgVGV4dE5vZGUgPSByZXF1aXJlKCcuL3RleHQtbm9kZScpO1xuLy8gdmFyIEVsZW1lbnQgPSByZXF1aXJlKCcuL2VsZW1lbnQnKTtcbi8vIHZhciBTbG90Tm9kZSA9IHJlcXVpcmUoJy4vc2xvdC1ub2RlJyk7XG4vLyB2YXIgRm9yTm9kZSA9IHJlcXVpcmUoJy4vZm9yLW5vZGUnKTtcbi8vIHZhciBJZk5vZGUgPSByZXF1aXJlKCcuL2lmLW5vZGUnKTtcbi8vIHZhciBUZW1wbGF0ZU5vZGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlLW5vZGUnKTtcblxuLy8gI1tiZWdpbl0gcmV2ZXJzZVxuLyoqXG4gKiDpgJrov4fnu4Tku7blj43op6PliJvlu7roioLngrlcbiAqXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmir3osaHoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXJ9IHJldmVyc2VXYWxrZXIg5a2Q5YWD57Sg6YGN5Y6G5a+56LGhXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7TW9kZWw9fSBzY29wZSDmiYDlsZ7mlbDmja7njq/looNcbiAqIEByZXR1cm4ge05vZGV9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJldmVyc2VOb2RlKGFOb2RlLCByZXZlcnNlV2Fsa2VyLCBwYXJlbnQsIHNjb3BlKSB7XG4gICAgdmFyIHBhcmVudElzQ29tcG9uZW50ID0gcGFyZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUO1xuICAgIHZhciBvd25lciA9IHBhcmVudElzQ29tcG9uZW50ID8gcGFyZW50IDogKHBhcmVudC5jaGlsZE93bmVyIHx8IHBhcmVudC5vd25lcik7XG4gICAgc2NvcGUgPSBzY29wZSB8fCAocGFyZW50SXNDb21wb25lbnQgPyBwYXJlbnQuZGF0YSA6IChwYXJlbnQuY2hpbGRTY29wZSB8fCBwYXJlbnQuc2NvcGUpKTtcblxuICAgIGlmIChhTm9kZS50ZXh0RXhwcikge1xuICAgICAgICByZXR1cm4gbmV3IFRleHROb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcik7XG4gICAgfVxuXG4gICAgaWYgKGFOb2RlLmRpcmVjdGl2ZXNbJ2lmJ10pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgcmV0dXJuIG5ldyBJZk5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcbiAgICB9XG5cbiAgICBpZiAoYU5vZGUuZGlyZWN0aXZlc1snZm9yJ10pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgcmV0dXJuIG5ldyBGb3JOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcik7XG4gICAgfVxuXG4gICAgaWYgKGhvdFRhZ3NbYU5vZGUudGFnTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50KGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcik7XG4gICAgfVxuXG4gICAgc3dpdGNoIChhTm9kZS50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ3Nsb3QnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTbG90Tm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQsIHJldmVyc2VXYWxrZXIpO1xuXG4gICAgICAgIGNhc2UgJ3RlbXBsYXRlJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcik7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBDb21wb25lbnRUeXBlID0gb3duZXIuZ2V0Q29tcG9uZW50VHlwZShhTm9kZSk7XG4gICAgICAgICAgICBpZiAoQ29tcG9uZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50VHlwZSh7XG4gICAgICAgICAgICAgICAgICAgIGFOb2RlOiBhTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IG93bmVyLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICBzdWJUYWc6IGFOb2RlLnRhZ05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXI6IHJldmVyc2VXYWxrZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVsZW1lbnQoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50LCByZXZlcnNlV2Fsa2VyKTtcbn1cbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVSZXZlcnNlTm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOmUgOavgemHiuaUvuWFg+e0oOeahOWtkOWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLyoqXG4gKiDplIDmr4Hph4rmlL7lhYPntKDnmoTlrZDlhYPntKBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKDoioLngrlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vRGV0YWNoIOaYr+WQpuS4jeimgeaKiuiKgueCueS7jmRvbeenu+mZpFxuICogQHBhcmFtIHtib29sZWFuPX0gbm9UcmFuc2l0aW9uIOaYr+WQpuS4jeaYvuekuui/h+a4oeWKqOeUu+aViOaenFxuICovXG5mdW5jdGlvbiBlbGVtZW50RGlzcG9zZUNoaWxkcmVuKGVsZW1lbnQsIG5vRGV0YWNoLCBub1RyYW5zaXRpb24pIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuICAgIHZhciBsZW4gPSBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbi0tKSB7XG4gICAgICAgIGNoaWxkcmVuW2xlbl0uZGlzcG9zZShub0RldGFjaCwgbm9UcmFuc2l0aW9uKTtcbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnREaXNwb3NlQ2hpbGRyZW47XG5cblxuLyoqXG4gKiBAZmlsZSDmm7TmlrDlhYPntKDnmoTlrZDlhYPntKDop4blm75cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLyoqXG4gKiDmm7TmlrDlhYPntKDnmoTlrZDlhYPntKDop4blm75cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDopoHmm7TmlrDnmoTlhYPntKBcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRVcGRhdGVDaGlsZHJlbihlbGVtZW50LCBjaGFuZ2VzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBlbGVtZW50LmNoaWxkcmVuW2ldLl91cGRhdGUoY2hhbmdlcyk7XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50VXBkYXRlQ2hpbGRyZW47XG5cblxuLyoqXG4gKiBAZmlsZSDkvb/lhYPntKDoioLngrnliLDovr7nm7jlupTnmoTnlJ/lkb3lkajmnJ9cbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vbGlmZS1jeWNsZScpO1xuXG4vKipcbiAqIOS9v+WFg+e0oOiKgueCueWIsOi+vuebuOW6lOeahOeUn+WRveWRqOacn1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOeUn+WRveWRqOacn+WQjeensFxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duVG9QaGFzZShuYW1lKSB7XG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGVbbmFtZV0gfHwgdGhpcy5saWZlQ3ljbGU7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRPd25Ub1BoYXNlO1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu66IqC54K555qE5bel5Y6C5pa55rOVXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaG90VGFncyA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaG90LXRhZ3MnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgVGV4dE5vZGUgPSByZXF1aXJlKCcuL3RleHQtbm9kZScpO1xuLy8gdmFyIEVsZW1lbnQgPSByZXF1aXJlKCcuL2VsZW1lbnQnKTtcbi8vIHZhciBTbG90Tm9kZSA9IHJlcXVpcmUoJy4vc2xvdC1ub2RlJyk7XG4vLyB2YXIgRm9yTm9kZSA9IHJlcXVpcmUoJy4vZm9yLW5vZGUnKTtcbi8vIHZhciBJZk5vZGUgPSByZXF1aXJlKCcuL2lmLW5vZGUnKTtcbi8vIHZhciBUZW1wbGF0ZU5vZGUgPSByZXF1aXJlKCcuL3RlbXBsYXRlLW5vZGUnKTtcblxuXG4vKipcbiAqIOWIm+W7uuiKgueCuVxuICpcbiAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOaKveixoeiKgueCuVxuICogQHBhcmFtIHtOb2RlfSBwYXJlbnQg54i25Lqy6IqC54K5XG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcmV0dXJuIHtOb2RlfVxuICovXG5mdW5jdGlvbiBjcmVhdGVOb2RlKGFOb2RlLCBwYXJlbnQsIHNjb3BlKSB7XG4gICAgdmFyIHBhcmVudElzQ29tcG9uZW50ID0gcGFyZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUO1xuICAgIHZhciBvd25lciA9IHBhcmVudElzQ29tcG9uZW50ID8gcGFyZW50IDogKHBhcmVudC5jaGlsZE93bmVyIHx8IHBhcmVudC5vd25lcik7XG4gICAgc2NvcGUgPSBzY29wZSB8fCAocGFyZW50SXNDb21wb25lbnQgPyBwYXJlbnQuZGF0YSA6IChwYXJlbnQuY2hpbGRTY29wZSB8fCBwYXJlbnQuc2NvcGUpKTtcblxuXG4gICAgaWYgKGFOb2RlLnRleHRFeHByKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoYU5vZGUuZGlyZWN0aXZlc1snaWYnXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICByZXR1cm4gbmV3IElmTm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChhTm9kZS5kaXJlY3RpdmVzWydmb3InXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgICAgICByZXR1cm4gbmV3IEZvck5vZGUoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50KTtcbiAgICB9XG5cbiAgICBpZiAoaG90VGFnc1thTm9kZS50YWdOYW1lXSkge1xuICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnQoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50KTtcbiAgICB9XG5cblxuXG4gICAgc3dpdGNoIChhTm9kZS50YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgJ3Nsb3QnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTbG90Tm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQpO1xuXG4gICAgICAgIGNhc2UgJ3RlbXBsYXRlJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCk7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBDb21wb25lbnRUeXBlID0gb3duZXIuZ2V0Q29tcG9uZW50VHlwZShhTm9kZSk7XG4gICAgICAgICAgICBpZiAoQ29tcG9uZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50VHlwZSh7XG4gICAgICAgICAgICAgICAgICAgIGFOb2RlOiBhTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IG93bmVyLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICBzdWJUYWc6IGFOb2RlLnRhZ05hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVsZW1lbnQoYU5vZGUsIG93bmVyLCBzY29wZSwgcGFyZW50KTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlTm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOeUn+aIkOWtkOWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGNyZWF0ZU5vZGUgPSByZXF1aXJlKCcuL2NyZWF0ZS1ub2RlJyk7XG5cbi8qKlxuICog55Sf5oiQ5a2Q5YWD57SgXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IOWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50RWwg6KaB5re75Yqg5Yiw55qE54i25YWD57SgXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW5077ydfSBiZWZvcmVFbCDopoHmt7vliqDliLDlk6rkuKrlhYPntKDkuYvliY1cbiAqL1xuZnVuY3Rpb24gZ2VuRWxlbWVudENoaWxkcmVuKGVsZW1lbnQsIHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIHBhcmVudEVsID0gcGFyZW50RWwgfHwgZWxlbWVudC5lbDtcblxuICAgIHZhciBhTm9kZUNoaWxkcmVuID0gZWxlbWVudC5hTm9kZS5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFOb2RlQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY3JlYXRlTm9kZShhTm9kZUNoaWxkcmVuW2ldLCBlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgY2hpbGQuYXR0YWNoKHBhcmVudEVsLCBiZWZvcmVFbCk7XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBnZW5FbGVtZW50Q2hpbGRyZW47XG5cblxuLyoqXG4gKiBAZmlsZSDlsIbmsqHmnIkgcm9vdCDlj6rmnIkgY2hpbGRyZW4g55qE5YWD57SgIGF0dGFjaCDliLDpobXpnaJcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIGdlbkVsZW1lbnRDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZ2VuLWVsZW1lbnQtY2hpbGRyZW4nKTtcblxuXG4vKipcbiAqIOWwhuayoeaciSByb290IOWPquaciSBjaGlsZHJlbiDnmoTlhYPntKAgYXR0YWNoIOWIsOmhtemdolxuICog5Li76KaB55So5LqOIHNsb3Qg5ZKMIHRlbXBsYXRlXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50RWwg6KaB5re75Yqg5Yiw55qE54i25YWD57SgXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW5077ydfSBiZWZvcmVFbCDopoHmt7vliqDliLDlk6rkuKrlhYPntKDkuYvliY1cbiAqL1xuZnVuY3Rpb24gbm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaChwYXJlbnRFbCwgYmVmb3JlRWwpIHtcbiAgICB0aGlzLnNlbCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGhpcy5pZCk7XG4gICAgaW5zZXJ0QmVmb3JlKHRoaXMuc2VsLCBwYXJlbnRFbCwgYmVmb3JlRWwpO1xuXG4gICAgZ2VuRWxlbWVudENoaWxkcmVuKHRoaXMsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG5cbiAgICB0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcGFyZW50RWwsIGJlZm9yZUVsKTtcblxuICAgIHRoaXMuX3RvUGhhc2UoJ2F0dGFjaGVkJyk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5vZGVPd25Pbmx5Q2hpbGRyZW5BdHRhY2g7XG5cblxuLyoqXG4gKiBAZmlsZSBzbG90IOiKgueCueexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBndWlkID0gcmVxdWlyZSgnLi4vdXRpbC9ndWlkJyk7XG4vLyB2YXIgY3JlYXRlQU5vZGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvY3JlYXRlLWEtbm9kZScpO1xuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2V4cHItdHlwZScpO1xuLy8gdmFyIGNyZWF0ZUFjY2Vzc29yID0gcmVxdWlyZSgnLi4vcGFyc2VyL2NyZWF0ZS1hY2Nlc3NvcicpO1xuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcbi8vIHZhciBEYXRhID0gcmVxdWlyZSgnLi4vcnVudGltZS9kYXRhJyk7XG4vLyB2YXIgRGF0YUNoYW5nZVR5cGUgPSByZXF1aXJlKCcuLi9ydW50aW1lL2RhdGEtY2hhbmdlLXR5cGUnKTtcbi8vIHZhciBjaGFuZ2VFeHByQ29tcGFyZSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvY2hhbmdlLWV4cHItY29tcGFyZScpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi9ub2RlLXR5cGUnKTtcbi8vIHZhciBMaWZlQ3ljbGUgPSByZXF1aXJlKCcuL2xpZmUtY3ljbGUnKTtcbi8vIHZhciBnZXRBTm9kZVByb3AgPSByZXF1aXJlKCcuL2dldC1hLW5vZGUtcHJvcCcpO1xuLy8gdmFyIG5vZGVEaXNwb3NlID0gcmVxdWlyZSgnLi9ub2RlLWRpc3Bvc2UnKTtcbi8vIHZhciBjcmVhdGVSZXZlcnNlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLXJldmVyc2Utbm9kZScpO1xuLy8gdmFyIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtZGlzcG9zZS1jaGlsZHJlbicpO1xuLy8gdmFyIGVsZW1lbnRVcGRhdGVDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC11cGRhdGUtY2hpbGRyZW4nKTtcbi8vIHZhciBlbGVtZW50T3duVG9QaGFzZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tdG8tcGhhc2UnKTtcbi8vIHZhciBub2RlT3duT25seUNoaWxkcmVuQXR0YWNoID0gcmVxdWlyZSgnLi9ub2RlLW93bi1vbmx5LWNoaWxkcmVuLWF0dGFjaCcpO1xuXG5cbi8qKlxuICogc2xvdCDoioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBTbG90Tm9kZShhTm9kZSwgb3duZXIsIHNjb3BlLCBwYXJlbnQsIHJldmVyc2VXYWxrZXIpIHtcbiAgICB2YXIgcmVhbEFOb2RlID0gY3JlYXRlQU5vZGUoKTtcbiAgICB0aGlzLmFOb2RlID0gcmVhbEFOb2RlO1xuICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFRcbiAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgOiBwYXJlbnQucGFyZW50Q29tcG9uZW50O1xuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcblxuICAgIHRoaXMubGlmZUN5Y2xlID0gTGlmZUN5Y2xlLnN0YXJ0O1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgIC8vIGNhbGMgc2xvdCBuYW1lXG4gICAgdGhpcy5uYW1lQmluZCA9IGdldEFOb2RlUHJvcChhTm9kZSwgJ25hbWUnKTtcbiAgICBpZiAodGhpcy5uYW1lQmluZCkge1xuICAgICAgICB0aGlzLmlzTmFtZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm5hbWUgPSBldmFsRXhwcih0aGlzLm5hbWVCaW5kLmV4cHIsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpO1xuICAgIH1cblxuICAgIC8vIGNhbGMgYU5vZGUgY2hpbGRyZW5cbiAgICB2YXIgZ2l2ZW5TbG90cyA9IG93bmVyLmdpdmVuU2xvdHM7XG4gICAgdmFyIGdpdmVuQ2hpbGRyZW47XG4gICAgaWYgKGdpdmVuU2xvdHMpIHtcbiAgICAgICAgZ2l2ZW5DaGlsZHJlbiA9IHRoaXMuaXNOYW1lZCA/IGdpdmVuU2xvdHMubmFtZWRbdGhpcy5uYW1lXSA6IGdpdmVuU2xvdHMubm9uYW1lO1xuICAgIH1cblxuICAgIGlmIChnaXZlbkNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuaXNJbnNlcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVhbEFOb2RlLmNoaWxkcmVuID0gZ2l2ZW5DaGlsZHJlbiB8fCBhTm9kZS5jaGlsZHJlbi5zbGljZSgwKTtcblxuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICAvLyBjYWxjIHNjb3BlZCBzbG90IHZhcnNcbiAgICByZWFsQU5vZGUudmFycyA9IGFOb2RlLnZhcnM7XG4gICAgdmFyIGluaXREYXRhID0ge307XG4gICAgZWFjaChyZWFsQU5vZGUudmFycywgZnVuY3Rpb24gKHZhckl0ZW0pIHtcbiAgICAgICAgbWUuaXNTY29wZWQgPSB0cnVlO1xuICAgICAgICBpbml0RGF0YVt2YXJJdGVtLm5hbWVdID0gZXZhbEV4cHIodmFySXRlbS5leHByLCBzY29wZSwgb3duZXIpO1xuICAgIH0pO1xuXG4gICAgLy8gY2hpbGQgb3duZXIgJiBjaGlsZCBzY29wZVxuICAgIGlmICh0aGlzLmlzSW5zZXJ0ZWQpIHtcbiAgICAgICAgdGhpcy5jaGlsZE93bmVyID0gb3duZXIub3duZXI7XG4gICAgICAgIHRoaXMuY2hpbGRTY29wZSA9IG93bmVyLnNjb3BlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU2NvcGVkKSB7XG4gICAgICAgIHRoaXMuY2hpbGRTY29wZSA9IG5ldyBEYXRhKGluaXREYXRhLCB0aGlzLmNoaWxkU2NvcGUgfHwgdGhpcy5zY29wZSk7XG4gICAgfVxuXG5cbiAgICBvd25lci5zbG90Q2hpbGRyZW4ucHVzaCh0aGlzKTtcblxuICAgIC8vICNbYmVnaW5dIHJldmVyc2VcbiAgICBpZiAocmV2ZXJzZVdhbGtlcikge1xuXG4gICAgICAgIHRoaXMuc2VsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuc2VsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcblxuICAgICAgICBlYWNoKHRoaXMuYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChhTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICBtZS5jaGlsZHJlbi5wdXNoKGNyZWF0ZVJldmVyc2VOb2RlKGFOb2RlQ2hpbGQsIHJldmVyc2VXYWxrZXIsIG1lKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcmV2ZXJzZVdhbGtlci50YXJnZXQsIHJldmVyc2VXYWxrZXIuY3VycmVudCk7XG5cbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnYXR0YWNoZWQnKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblNsb3ROb2RlLnByb3RvdHlwZS5ub2RlVHlwZSA9IE5vZGVUeXBlLlNMT1Q7XG5cbi8qKlxuICog6ZSA5q+B6YeK5pS+IHNsb3RcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub0RldGFjaCDmmK/lkKbkuI3opoHmioroioLngrnku45kb23np7vpmaRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vVHJhbnNpdGlvbiDmmK/lkKbkuI3mmL7npLrov4fmuKHliqjnlLvmlYjmnpxcbiAqL1xuU2xvdE5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAobm9EZXRhY2gsIG5vVHJhbnNpdGlvbikge1xuICAgIHRoaXMuY2hpbGRPd25lciA9IG51bGw7XG4gICAgdGhpcy5jaGlsZFNjb3BlID0gbnVsbDtcblxuICAgIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4odGhpcywgbm9EZXRhY2gsIG5vVHJhbnNpdGlvbik7XG4gICAgbm9kZURpc3Bvc2UodGhpcyk7XG59O1xuXG5TbG90Tm9kZS5wcm90b3R5cGUuYXR0YWNoID0gbm9kZU93bk9ubHlDaGlsZHJlbkF0dGFjaDtcblNsb3ROb2RlLnByb3RvdHlwZS5fdG9QaGFzZSA9IGVsZW1lbnRPd25Ub1BoYXNlO1xuXG4vKipcbiAqIOinhuWbvuabtOaWsOWHveaVsFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBpc0Zyb21PdXRlciDlj5jljJbkv6Hmga/mmK/lkKbmnaXmupDkuo7niLbnu4Tku7bkuYvlpJbnmoTnu4Tku7ZcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblNsb3ROb2RlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNoYW5nZXMsIGlzRnJvbU91dGVyKSB7XG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIGlmICh0aGlzLm5hbWVCaW5kICYmIGV2YWxFeHByKHRoaXMubmFtZUJpbmQuZXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lcikgIT09IG1lLm5hbWUpIHtcbiAgICAgICAgdGhpcy5vd25lci5fbm90aWZ5TmVlZFJlbG9hZCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGlzRnJvbU91dGVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSW5zZXJ0ZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRVcGRhdGVDaGlsZHJlbih0aGlzLCBjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTY29wZWQpIHtcbiAgICAgICAgICAgIGVhY2godGhpcy5hTm9kZS52YXJzLCBmdW5jdGlvbiAodmFySXRlbSkge1xuICAgICAgICAgICAgICAgIG1lLmNoaWxkU2NvcGUuc2V0KHZhckl0ZW0ubmFtZSwgZXZhbEV4cHIodmFySXRlbS5leHByLCBtZS5zY29wZSwgbWUub3duZXIpKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIHZhciBzY29wZWRDaGFuZ2VzID0gW107XG4gICAgICAgICAgICBlYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1lLmlzSW5zZXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVkQ2hhbmdlcy5wdXNoKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWFjaChtZS5hTm9kZS52YXJzLCBmdW5jdGlvbiAodmFySXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHZhckl0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uID0gY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlLmV4cHIsIHZhckl0ZW0uZXhwciwgbWUuc2NvcGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbiA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UudHlwZSAhPT0gRGF0YUNoYW5nZVR5cGUuU1BMSUNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZWRDaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNFVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByOiBjcmVhdGVBY2Nlc3NvcihbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0eXBlOiBFeHByVHlwZS5TVFJJTkcsIHZhbHVlOiBuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtZS5jaGlsZFNjb3BlLmdldChuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb246IGNoYW5nZS5vcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlbGF0aW9uID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZWRDaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3R5cGU6IEV4cHJUeXBlLlNUUklORywgdmFsdWU6IG5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRGF0YUNoYW5nZVR5cGUuU1BMSUNFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBjaGFuZ2UuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQ6IGNoYW5nZS5kZWxldGVDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hhbmdlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGlvbnM6IGNoYW5nZS5pbnNlcnRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbjogY2hhbmdlLm9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50VXBkYXRlQ2hpbGRyZW4odGhpcywgc2NvcGVkQ2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNJbnNlcnRlZCkge1xuICAgICAgICAgICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKHRoaXMsIGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gU2xvdE5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSDlpI3liLbmjIfku6Tpm4blkIjlr7nosaFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8qKlxuICog5aSN5Yi25oyH5Luk6ZuG5ZCI5a+56LGhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSDopoHlpI3liLbnmoTmjIfku6Tpm4blkIjlr7nosaFcbiAqIEBwYXJhbSB7T2JqZWN0PX0gZXhjbHVkZXMg6ZyA6KaB5o6S6Zmk55qEa2V56ZuG5ZCIXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNsb25lRGlyZWN0aXZlcyhzb3VyY2UsIGV4Y2x1ZGVzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGV4Y2x1ZGVzID0gZXhjbHVkZXMgfHwge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmICghZXhjbHVkZXNba2V5XSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNsb25lRGlyZWN0aXZlcztcblxuXG4vKipcbiAqIEBmaWxlIOeugOWNleaJp+ihjOmUgOavgeiKgueCueeahOihjOS4ulxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIHJlbW92ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9yZW1vdmUtZWwnKTtcbi8vIHZhciBub2RlRGlzcG9zZSA9IHJlcXVpcmUoJy4vbm9kZS1kaXNwb3NlJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2VDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlLWNoaWxkcmVuJyk7XG5cbi8qKlxuICog566A5Y2V5omn6KGM6ZSA5q+B6IqC54K555qE6KGM5Li6XG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9EZXRhY2gg5piv5ZCm5LiN6KaB5oqK6IqC54K55LuOZG9t56e76ZmkXG4gKi9cbmZ1bmN0aW9uIG5vZGVPd25TaW1wbGVEaXNwb3NlKG5vRGV0YWNoKSB7XG4gICAgZWxlbWVudERpc3Bvc2VDaGlsZHJlbih0aGlzLCBub0RldGFjaCwgMSk7XG5cbiAgICBpZiAoIW5vRGV0YWNoKSB7XG4gICAgICAgIHJlbW92ZUVsKHRoaXMuZWwpO1xuICAgIH1cblxuICAgIG5vZGVEaXNwb3NlKHRoaXMpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBub2RlT3duU2ltcGxlRGlzcG9zZTtcblxuXG4vKipcbiAqIEBmaWxlIOWIm+W7uuiKgueCueWvueW6lOeahCBzdHVtcCBjb21tZW50IOWFg+e0oFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG5cbi8qKlxuICog5Yib5bu66IqC54K55a+55bqU55qEIHN0dW1wIGNvbW1lbnQg5Li75YWD57SgXG4gKi9cbmZ1bmN0aW9uIG5vZGVPd25DcmVhdGVTdHVtcCgpIHtcbiAgICB0aGlzLmVsID0gdGhpcy5lbCB8fCBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBub2RlT3duQ3JlYXRlU3R1bXA7XG5cblxuLyoqXG4gKiBAZmlsZSBmb3Ig5oyH5Luk6IqC54K557G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCcuLi91dGlsL2luaGVyaXRzJyk7XG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBjcmVhdGVBTm9kZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYS1ub2RlJyk7XG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgcGFyc2VFeHByID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLWV4cHInKTtcbi8vIHZhciBjcmVhdGVBY2Nlc3NvciA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciBjbG9uZURpcmVjdGl2ZXMgPSByZXF1aXJlKCcuLi9wYXJzZXIvY2xvbmUtZGlyZWN0aXZlcycpO1xuLy8gdmFyIERhdGEgPSByZXF1aXJlKCcuLi9ydW50aW1lL2RhdGEnKTtcbi8vIHZhciBEYXRhQ2hhbmdlVHlwZSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZGF0YS1jaGFuZ2UtdHlwZScpO1xuLy8gdmFyIGNoYW5nZUV4cHJDb21wYXJlID0gcmVxdWlyZSgnLi4vcnVudGltZS9jaGFuZ2UtZXhwci1jb21wYXJlJyk7XG4vLyB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtZXhwcicpO1xuLy8gdmFyIGNoYW5nZXNJc0luRGF0YVJlZiA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvY2hhbmdlcy1pcy1pbi1kYXRhLXJlZicpO1xuLy8gdmFyIHJlbW92ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9yZW1vdmUtZWwnKTtcbi8vIHZhciBpbnNlcnRCZWZvcmUgPSByZXF1aXJlKCcuLi9icm93c2VyL2luc2VydC1iZWZvcmUnKTtcbi8vIHZhciBMaWZlQ3ljbGUgPSByZXF1aXJlKCcuL2xpZmUtY3ljbGUnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgY3JlYXRlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLW5vZGUnKTtcbi8vIHZhciBjcmVhdGVSZXZlcnNlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLXJldmVyc2Utbm9kZScpO1xuLy8gdmFyIG5vZGVPd25TaW1wbGVEaXNwb3NlID0gcmVxdWlyZSgnLi9ub2RlLW93bi1zaW1wbGUtZGlzcG9zZScpO1xuLy8gdmFyIG5vZGVPd25DcmVhdGVTdHVtcCA9IHJlcXVpcmUoJy4vbm9kZS1vd24tY3JlYXRlLXN0dW1wJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2VDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlLWNoaWxkcmVuJyk7XG4vLyB2YXIgZGF0YUNhY2hlID0gcmVxdWlyZSgnLi4vcnVudGltZS9kYXRhLWNhY2hlJyk7XG5cblxuLyoqXG4gKiDlvqrnjq/pobnnmoTmlbDmja7lrrnlmajnsbtcbiAqXG4gKiBAaW5uZXJcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtPYmplY3R9IGZvckVsZW1lbnQgZm9y5YWD57Sg5a+56LGhXG4gKiBAcGFyYW0geyp9IGl0ZW0g5b2T5YmN6aG555qE5pWw5o2uXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg5b2T5YmN6aG555qE57Si5byVXG4gKi9cbmZ1bmN0aW9uIEZvckl0ZW1EYXRhKGZvckVsZW1lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcbiAgICB0aGlzLnBhcmVudCA9IGZvckVsZW1lbnQuc2NvcGU7XG4gICAgdGhpcy5yYXcgPSB7fTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuXG4gICAgdGhpcy5kaXJlY3RpdmUgPSBmb3JFbGVtZW50LmFOb2RlLmRpcmVjdGl2ZXNbJ2ZvciddOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgIHRoaXMucmF3W3RoaXMuZGlyZWN0aXZlLml0ZW0ucmF3XSA9IGl0ZW07XG4gICAgdGhpcy5yYXdbdGhpcy5kaXJlY3RpdmUuaW5kZXgucmF3XSA9IGluZGV4O1xufVxuXG4vKipcbiAqIOWwhuaVsOaNruaTjeS9nOeahOihqOi+vuW8j++8jOi9rOaNouaIkOS4uuWvuXBhcmVudOaVsOaNruaTjeS9nOeahOihqOi+vuW8j1xuICog5Li76KaB5piv5a+5aXRlbeWSjGluZGV46L+b6KGM5aSE55CGXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KGo6L6+5byPXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbkZvckl0ZW1EYXRhLnByb3RvdHlwZS5leHByUmVzb2x2ZSA9IGZ1bmN0aW9uIChleHByKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHRoaXMuZGlyZWN0aXZlO1xuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlSXRlbShleHByKSB7XG4gICAgICAgIGlmIChleHByLnR5cGUgPT09IEV4cHJUeXBlLkFDQ0VTU09SXG4gICAgICAgICAgICAmJiBleHByLnBhdGhzWzBdLnZhbHVlID09PSBkaXJlY3RpdmUuaXRlbS5wYXRoc1swXS52YWx1ZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBY2Nlc3NvcihcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUudmFsdWUucGF0aHMuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5OVU1CRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWUuZ2V0KGRpcmVjdGl2ZS5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXhwci5wYXRocy5zbGljZSgxKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cbiAgICBleHByID0gcmVzb2x2ZUl0ZW0oZXhwcik7XG5cbiAgICB2YXIgcmVzb2x2ZWRQYXRocyA9IFtdO1xuXG4gICAgZWFjaChleHByLnBhdGhzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXNvbHZlZFBhdGhzLnB1c2goXG4gICAgICAgICAgICBpdGVtLnR5cGUgPT09IEV4cHJUeXBlLkFDQ0VTU09SXG4gICAgICAgICAgICAgICAgJiYgaXRlbS5wYXRoc1swXS52YWx1ZSA9PT0gZGlyZWN0aXZlLmluZGV4LnBhdGhzWzBdLnZhbHVlXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFeHByVHlwZS5OVU1CRVIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1lLmdldChkaXJlY3RpdmUuaW5kZXgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHJlc29sdmVJdGVtKGl0ZW0pXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY3JlYXRlQWNjZXNzb3IocmVzb2x2ZWRQYXRocyk7XG59O1xuXG4vLyDku6PnkIbmlbDmja7mk43kvZzmlrnms5VcbmluaGVyaXRzKEZvckl0ZW1EYXRhLCBEYXRhKTtcbmVhY2goXG4gICAgWydzZXQnLCAncmVtb3ZlJywgJ3Vuc2hpZnQnLCAnc2hpZnQnLCAncHVzaCcsICdwb3AnLCAnc3BsaWNlJ10sXG4gICAgZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBGb3JJdGVtRGF0YS5wcm90b3R5cGVbJ18nICsgbWV0aG9kXSA9IERhdGEucHJvdG90eXBlW21ldGhvZF07XG4gICAgICAgIEZvckl0ZW1EYXRhLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gKGV4cHIpIHtcbiAgICAgICAgICAgIGV4cHIgPSB0aGlzLmV4cHJSZXNvbHZlKHBhcnNlRXhwcihleHByKSk7XG4gICAgICAgICAgICBkYXRhQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50W21ldGhvZF0uYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQsXG4gICAgICAgICAgICAgICAgW2V4cHJdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICB9XG4pO1xuXG4vKipcbiAqIOWIm+W7uiBmb3Ig5oyH5Luk5YWD57Sg55qE5a2Q5YWD57SgXG4gKlxuICogQGlubmVyXG4gKiBAcGFyYW0ge0ZvckRpcmVjdGl2ZX0gZm9yRWxlbWVudCBmb3Ig5oyH5Luk5YWD57Sg5a+56LGhXG4gKiBAcGFyYW0geyp9IGl0ZW0g5a2Q5YWD57Sg5a+55bqU5pWw5o2uXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXgg5a2Q5YWD57Sg5a+55bqU5bqP5Y+3XG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGVGb3JEaXJlY3RpdmVDaGlsZChmb3JFbGVtZW50LCBpdGVtLCBpbmRleCkge1xuICAgIHZhciBpdGVtU2NvcGUgPSBuZXcgRm9ySXRlbURhdGEoZm9yRWxlbWVudCwgaXRlbSwgaW5kZXgpO1xuICAgIHJldHVybiBjcmVhdGVOb2RlKGZvckVsZW1lbnQuaXRlbUFOb2RlLCBmb3JFbGVtZW50LCBpdGVtU2NvcGUpO1xufVxuXG4vKipcbiAqIGZvciDmjIfku6ToioLngrnnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYU5vZGUg5oq96LGh6IqC54K5XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu2546v5aKDXG4gKiBAcGFyYW0ge01vZGVsPX0gc2NvcGUg5omA5bGe5pWw5o2u546v5aKDXG4gKiBAcGFyYW0ge05vZGV9IHBhcmVudCDniLbkurLoioLngrlcbiAqIEBwYXJhbSB7RE9NQ2hpbGRyZW5XYWxrZXI/fSByZXZlcnNlV2Fsa2VyIOWtkOWFg+e0oOmBjeWOhuWvueixoVxuICovXG5mdW5jdGlvbiBGb3JOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMucGFyZW50Q29tcG9uZW50ID0gcGFyZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUXG4gICAgICAgID8gcGFyZW50XG4gICAgICAgIDogcGFyZW50LnBhcmVudENvbXBvbmVudDtcblxuICAgIHRoaXMuaWQgPSBndWlkKCk7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgdGhpcy5pdGVtQU5vZGUgPSBjcmVhdGVBTm9kZSh7XG4gICAgICAgIGNoaWxkcmVuOiBhTm9kZS5jaGlsZHJlbixcbiAgICAgICAgcHJvcHM6IGFOb2RlLnByb3BzLFxuICAgICAgICBldmVudHM6IGFOb2RlLmV2ZW50cyxcbiAgICAgICAgdGFnTmFtZTogYU5vZGUudGFnTmFtZSxcbiAgICAgICAgdmFyczogYU5vZGUudmFycyxcbiAgICAgICAgaG90c3BvdDogYU5vZGUuaG90c3BvdCxcbiAgICAgICAgZGlyZWN0aXZlczogY2xvbmVEaXJlY3RpdmVzKGFOb2RlLmRpcmVjdGl2ZXMsIHtcbiAgICAgICAgICAgICdmb3InOiAxXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB0aGlzLnBhcmFtID0gYU5vZGUuZGlyZWN0aXZlc1snZm9yJ107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG5cbiAgICAvLyAjW2JlZ2luXSByZXZlcnNlXG4gICAgaWYgKHJldmVyc2VXYWxrZXIpIHtcbiAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgZWFjaChcbiAgICAgICAgICAgIGV2YWxFeHByKHRoaXMucGFyYW0udmFsdWUsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVNjb3BlID0gbmV3IEZvckl0ZW1EYXRhKG1lLCBpdGVtLCBpKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjcmVhdGVSZXZlcnNlTm9kZShtZS5pdGVtQU5vZGUsIHJldmVyc2VXYWxrZXIsIG1lLCBpdGVtU2NvcGUpO1xuICAgICAgICAgICAgICAgIG1lLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcmV2ZXJzZVdhbGtlci50YXJnZXQsIHJldmVyc2VXYWxrZXIuY3VycmVudCk7XG4gICAgfVxuICAgIC8vICNbZW5kXVxufVxuXG5cbkZvck5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuRk9SO1xuRm9yTm9kZS5wcm90b3R5cGUuX2NyZWF0ZSA9IG5vZGVPd25DcmVhdGVTdHVtcDtcbkZvck5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBub2RlT3duU2ltcGxlRGlzcG9zZTtcblxuLyoqXG4gKiDlsIblhYPntKBhdHRhY2jliLDpobXpnaLnmoTooYzkuLpcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRFbCDopoHmt7vliqDliLDnmoTniLblhYPntKBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnTvvJ19IGJlZm9yZUVsIOimgea3u+WKoOWIsOWTquS4quWFg+e0oOS5i+WJjVxuICovXG5Gb3JOb2RlLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgdGhpcy5fY3JlYXRlKCk7XG4gICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG5cbiAgICAvLyBwYWludCBsaXN0XG4gICAgdmFyIGVsID0gdGhpcy5lbCB8fCBwYXJlbnRFbC5maXJzdENoaWxkO1xuICAgIHZhciBkYXRhID0gZXZhbEV4cHIodGhpcy5wYXJhbS52YWx1ZSwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG4gICAgdmFyIGxlbiA9IGRhdGEgJiYgZGF0YS5sZW5ndGggfHwgMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNyZWF0ZUZvckRpcmVjdGl2ZUNoaWxkKHRoaXMsIGRhdGFbaV0sIGkpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBjaGlsZC5hdHRhY2gocGFyZW50RWwsIGVsKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOWwhuWFg+e0oOS7jumhtemdouS4iuenu+mZpOeahOihjOS4ulxuICovXG5Gb3JOb2RlLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGlmZUN5Y2xlLmF0dGFjaGVkKSB7XG4gICAgICAgIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4odGhpcyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgcmVtb3ZlRWwodGhpcy5lbCk7XG4gICAgICAgIHRoaXMubGlmZUN5Y2xlID0gTGlmZUN5Y2xlLmRldGFjaGVkO1xuICAgIH1cbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIGZlY3MtbWF4LXN0YXRlbWVudHMgKi9cblxuLyoqXG4gKiDop4blm77mm7TmlrDlh73mlbBcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBjaGFuZ2VzIOaVsOaNruWPmOWMluS/oeaBr1xuICovXG5Gb3JOb2RlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcblxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgLy8g5o6n5Yi25YiX6KGo5pu05paw562W55Wl5piv5ZCm5Y6f5qC35pu05paw55qE5Y+Y6YePXG4gICAgdmFyIG9yaWdpbmFsVXBkYXRlID0gdGhpcy5hTm9kZS5kaXJlY3RpdmVzLnRyYW5zaXRpb247XG5cblxuICAgIHZhciBvbGRDaGlsZHJlbkxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHZhciBjaGlsZHJlbkNoYW5nZXMgPSBuZXcgQXJyYXkob2xkQ2hpbGRyZW5MZW4pO1xuXG4gICAgZnVuY3Rpb24gcHVzaFRvQ2hpbGRyZW5DaGFuZ2VzKGNoYW5nZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuQ2hhbmdlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIChjaGlsZHJlbkNoYW5nZXNbaV0gPSBjaGlsZHJlbkNoYW5nZXNbaV0gfHwgW10pLnB1c2goY2hhbmdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkaXNwb3NlQ2hpbGRyZW4gPSBbXTtcblxuXG4gICAgLy8g5Yik5pat5YiX6KGo5piv5ZCm54i25YWD57Sg5LiL5ZSv5LiA55qE5YWD57SgXG4gICAgLy8g5aaC5p6c5piv55qE6K+d77yM5Y+v5Lul5YGa5LiA5Lqb5pu05paw5LyY5YyWXG4gICAgdmFyIHBhcmVudEVsID0gdGhpcy5lbC5wYXJlbnROb2RlO1xuICAgIHZhciBwYXJlbnRGaXJzdENoaWxkID0gcGFyZW50RWwuZmlyc3RDaGlsZDtcbiAgICB2YXIgcGFyZW50TGFzdENoaWxkID0gcGFyZW50RWwubGFzdENoaWxkO1xuICAgIHZhciBpc09ubHlQYXJlbnRDaGlsZCA9IG9sZENoaWxkcmVuTGVuID4gMCAvLyDmnInlranlrZDml7ZcbiAgICAgICAgICAgICYmIHBhcmVudEZpcnN0Q2hpbGQgPT09IHRoaXMuY2hpbGRyZW5bMF0uZWxcbiAgICAgICAgICAgICYmIChwYXJlbnRMYXN0Q2hpbGQgPT09IHRoaXMuZWwgfHwgcGFyZW50TGFzdENoaWxkID09PSB0aGlzLmNoaWxkcmVuW29sZENoaWxkcmVuTGVuIC0gMV0uZWwpXG4gICAgICAgIHx8IG9sZENoaWxkcmVuTGVuID09PSAwIC8vIOaXoOWtqeWtkOaXtlxuICAgICAgICAgICAgJiYgcGFyZW50Rmlyc3RDaGlsZCA9PT0gdGhpcy5lbFxuICAgICAgICAgICAgJiYgcGFyZW50TGFzdENoaWxkID09PSB0aGlzLmVsO1xuXG4gICAgLy8g5o6n5Yi25YiX6KGo5piv5ZCm5pW05L2T5pu05paw55qE5Y+Y6YePXG4gICAgdmFyIGlzQ2hpbGRyZW5SZWJ1aWxkO1xuXG4gICAgdmFyIG5ld0xpc3QgPSBldmFsRXhwcih0aGlzLnBhcmFtLnZhbHVlLCB0aGlzLnNjb3BlLCB0aGlzLm93bmVyKTtcbiAgICB2YXIgbmV3TGVuID0gbmV3TGlzdCAmJiBuZXdMaXN0Lmxlbmd0aCB8fCAwO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVkZWNsYXJlICovXG4gICAgZm9yICh2YXIgY0luZGV4ID0gMCwgY0xlbiA9IGNoYW5nZXMubGVuZ3RoOyBjSW5kZXggPCBjTGVuOyBjSW5kZXgrKykge1xuICAgICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tjSW5kZXhdO1xuICAgICAgICB2YXIgcmVsYXRpb24gPSBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgdGhpcy5wYXJhbS52YWx1ZSwgdGhpcy5zY29wZSk7XG5cbiAgICAgICAgaWYgKCFyZWxhdGlvbikge1xuICAgICAgICAgICAgLy8g5peg5YWz5pe277yM55u05o6l5Lyg6YCS57uZ5a2Q5YWD57Sg5pu05paw77yM5YiX6KGo5pys6Lqr5LiN6ZyA6KaB5YqoXG4gICAgICAgICAgICBwdXNoVG9DaGlsZHJlbkNoYW5nZXMoY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWxhdGlvbiA+IDIpIHtcbiAgICAgICAgICAgIC8vIOWPmOabtOihqOi+vuW8j+aYr2xpc3Tnu5Hlrprooajovr7lvI/nmoTlrZDpoblcbiAgICAgICAgICAgIC8vIOWPqumcgOimgeWvueebuOW6lOeahOWtkOmhuei/m+ihjOabtOaWsFxuICAgICAgICAgICAgdmFyIGNoYW5nZVBhdGhzID0gY2hhbmdlLmV4cHIucGF0aHM7XG4gICAgICAgICAgICB2YXIgZm9yTGVuID0gdGhpcy5wYXJhbS52YWx1ZS5wYXRocy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2hhbmdlSW5kZXggPSArZXZhbEV4cHIoY2hhbmdlUGF0aHNbZm9yTGVuXSwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG5cbiAgICAgICAgICAgIGlmIChpc05hTihjaGFuZ2VJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwdXNoVG9DaGlsZHJlbkNoYW5nZXMoY2hhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYW5nZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogY2hhbmdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGV4cHI6IGNyZWF0ZUFjY2Vzc29yKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbS5pdGVtLnBhdGhzLmNvbmNhdChjaGFuZ2VQYXRocy5zbGljZShmb3JMZW4gKyAxKSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoYW5nZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGNoYW5nZS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ291bnQ6IGNoYW5nZS5kZWxldGVDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0aW9uczogY2hhbmdlLmluc2VydGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbjogY2hhbmdlLm9wdGlvblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAoY2hpbGRyZW5DaGFuZ2VzW2NoYW5nZUluZGV4XSA9IGNoaWxkcmVuQ2hhbmdlc1tjaGFuZ2VJbmRleF0gfHwgW10pXG4gICAgICAgICAgICAgICAgICAgIC5wdXNoKGNoYW5nZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltjaGFuZ2VJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS50eXBlID09PSBEYXRhQ2hhbmdlVHlwZS5TUExJQ0UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bY2hhbmdlSW5kZXhdLnNjb3BlLl9zcGxpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmV4cHIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW10uY29uY2F0KGNoYW5nZS5pbmRleCwgY2hhbmdlLmRlbGV0ZUNvdW50LCBjaGFuZ2UuaW5zZXJ0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzaWxlbnQ6IDEgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bY2hhbmdlSW5kZXhdLnNjb3BlLl9zZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmV4cHIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc2lsZW50OiAxIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlLnR5cGUgIT09IERhdGFDaGFuZ2VUeXBlLlNQTElDRSkge1xuICAgICAgICAgICAgLy8g5Y+Y5pu06KGo6L6+5byP5pivbGlzdOe7keWumuihqOi+vuW8j+acrOi6q+aIluavjemhueeahOmHjeaWsOiuvuWAvFxuICAgICAgICAgICAgLy8g5q2k5pe26ZyA6KaB5pu05paw5pW05Liq5YiX6KGoXG5cblxuICAgICAgICAgICAgLy8g6ICB55qE5q+U5paw55qE5aSa55qE6YOo5YiG77yM5qCH6K6w6ZyA6KaBZGlzcG9zZVxuICAgICAgICAgICAgaWYgKG9sZENoaWxkcmVuTGVuID4gbmV3TGVuKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZUNoaWxkcmVuID0gZGlzcG9zZUNoaWxkcmVuLmNvbmNhdCh0aGlzLmNoaWxkcmVuLnNsaWNlKG5ld0xlbikpO1xuXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5DaGFuZ2VzID0gY2hpbGRyZW5DaGFuZ2VzLnNsaWNlKDAsIG5ld0xlbik7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4uc2xpY2UoMCwgbmV3TGVuKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8g5pW06aG55Y+Y5pu0XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuQ2hhbmdlc1tpXSA9IGNoaWxkcmVuQ2hhbmdlc1tpXSB8fCBbXSkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNFVCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBjaGFuZ2Uub3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICBleHByOiBjcmVhdGVBY2Nlc3Nvcih0aGlzLnBhcmFtLml0ZW0ucGF0aHMuc2xpY2UoMCkpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3TGlzdFtpXVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8g5a+5bGlzdOabtOS4iue6p+aVsOaNrueahOebtOaOpeiuvue9rlxuICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbiA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5DaGFuZ2VzW2ldLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnNjb3BlLl9zZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdMaXN0W2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAge3NpbGVudDogMX1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNDaGlsZHJlblJlYnVpbGQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlbGF0aW9uID09PSAyICYmIGNoYW5nZS50eXBlID09PSBEYXRhQ2hhbmdlVHlwZS5TUExJQ0UgJiYgIWlzQ2hpbGRyZW5SZWJ1aWxkKSB7XG4gICAgICAgICAgICAvLyDlj5jmm7Tooajovr7lvI/mmK9saXN057uR5a6a6KGo6L6+5byP5pys6Lqr5pWw57uE55qEc3BsaWNl5pON5L2cXG4gICAgICAgICAgICAvLyDmraTml7bpnIDopoHliKDpmaTpg6jliIbpobnvvIzliJvlu7rpg6jliIbpoblcbiAgICAgICAgICAgIHZhciBjaGFuZ2VTdGFydCA9IGNoYW5nZS5pbmRleDtcbiAgICAgICAgICAgIHZhciBkZWxldGVDb3VudCA9IGNoYW5nZS5kZWxldGVDb3VudDtcbiAgICAgICAgICAgIHZhciBpbnNlcnRpb25zTGVuID0gY2hhbmdlLmluc2VydGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG5ld0NvdW50ID0gaW5zZXJ0aW9uc0xlbiAtIGRlbGV0ZUNvdW50O1xuXG4gICAgICAgICAgICBpZiAobmV3Q291bnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhDaGFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNFVCxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBjaGFuZ2Uub3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICBleHByOiB0aGlzLnBhcmFtLmluZGV4XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGFuZ2VTdGFydCArIGRlbGV0ZUNvdW50OyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAoY2hpbGRyZW5DaGFuZ2VzW2ldID0gY2hpbGRyZW5DaGFuZ2VzW2ldIHx8IFtdKS5wdXNoKGluZGV4Q2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXSAmJiB0aGlzLmNoaWxkcmVuW2ldLnNjb3BlLl9zZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleENoYW5nZS5leHByLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAtIGRlbGV0ZUNvdW50ICsgaW5zZXJ0aW9uc0xlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaWxlbnQ6IDF9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGVsZXRlTGVuID0gZGVsZXRlQ291bnQ7XG4gICAgICAgICAgICB3aGlsZSAoZGVsZXRlTGVuLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsZXRlTGVuIDwgaW5zZXJ0aW9uc0xlbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGNoYW5nZVN0YXJ0ICsgZGVsZXRlTGVuO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgKGNoaWxkcmVuQ2hhbmdlc1tpXSA9IGNoaWxkcmVuQ2hhbmdlc1tpXSB8fCBbXSkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBEYXRhQ2hhbmdlVHlwZS5TRVQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb246IGNoYW5nZS5vcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByOiBjcmVhdGVBY2Nlc3Nvcih0aGlzLnBhcmFtLml0ZW0ucGF0aHMuc2xpY2UoMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoYW5nZS5pbnNlcnRpb25zW2RlbGV0ZUxlbl1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnNjb3BlLl9zZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbS5pdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5pbnNlcnRpb25zW2RlbGV0ZUxlbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NpbGVudDogMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdDb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlQ2hpbGRyZW4gPSBkaXNwb3NlQ2hpbGRyZW4uY29uY2F0KHRoaXMuY2hpbGRyZW4uc3BsaWNlKGNoYW5nZVN0YXJ0ICsgaW5zZXJ0aW9uc0xlbiwgLW5ld0NvdW50KSk7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW5DaGFuZ2VzLnNwbGljZShjaGFuZ2VTdGFydCArIGluc2VydGlvbnNMZW4sIC1uZXdDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZXdDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BsaWNlQXJncyA9IFtjaGFuZ2VTdGFydCArIGRlbGV0ZUNvdW50LCAwXS5jb25jYXQobmV3IEFycmF5KG5ld0NvdW50KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UuYXBwbHkodGhpcy5jaGlsZHJlbiwgc3BsaWNlQXJncyk7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW5DaGFuZ2VzLnNwbGljZS5hcHBseShjaGlsZHJlbkNoYW5nZXMsIHNwbGljZUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld0NoaWxkcmVuTGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAvLyDmoIforrAgbGVuZ3RoIOaYr+WQpuWPkeeUn+WPmOWMllxuICAgIGlmIChuZXdDaGlsZHJlbkxlbiAhPT0gb2xkQ2hpbGRyZW5MZW4pIHtcbiAgICAgICAgdmFyIGxlbmd0aENoYW5nZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IERhdGFDaGFuZ2VUeXBlLlNFVCxcbiAgICAgICAgICAgIG9wdGlvbjoge30sXG4gICAgICAgICAgICBleHByOiBjcmVhdGVBY2Nlc3NvcihcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtLnZhbHVlLnBhdGhzLmNvbmNhdCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdsZW5ndGgnXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY2hhbmdlc0lzSW5EYXRhUmVmKFtsZW5ndGhDaGFuZ2VdLCB0aGlzLmFOb2RlLmhvdHNwb3QuZGF0YSkpIHtcbiAgICAgICAgICAgIHB1c2hUb0NoaWxkcmVuQ2hhbmdlcyhsZW5ndGhDaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8g5riF6Zmk5bqU6K+l5bmy5o6J55qEIGNoaWxkXG4gICAgdGhpcy5fZG9DcmVhdGVBbmRVcGRhdGUgPSBkb0NyZWF0ZUFuZFVwZGF0ZTtcblxuICAgIC8vIOi/memHjOS4jeeUqGdldFRyYW5zaXRpb27vvIxnZXRUcmFuc2l0aW9u5ZKMc2NvcGXnm7jlhbPvvIxmb3Llkoxmb3JJdGVt55qEc2NvcGXmmK/kuI3lkIznmoRcbiAgICAvLyDmiYDku6VnZXRUcmFuc2l0aW9u57uT5p6c5pys6Lqr5Lmf5piv5LiN5LiA6Ie055qE44CC5LiN5aaC55u05o6l5Yik5pat5oyH5Luk5piv5ZCm5a2Y5Zyo77yM5aaC5p6c5a2Y5Zyo5bCx5LiN6L+b5YWl5pq05Yqb5riF6Zmk5qih5byPXG4gICAgLy8gdmFyIHZpb2xlbnRDbGVhciA9IGlzT25seVBhcmVudENoaWxkICYmIG5ld0NoaWxkcmVuTGVuID09PSAwICYmICFlbGVtZW50R2V0VHJhbnNpdGlvbihtZSk7XG4gICAgdmFyIHZpb2xlbnRDbGVhciA9ICFvcmlnaW5hbFVwZGF0ZSAmJiBpc09ubHlQYXJlbnRDaGlsZCAmJiBuZXdDaGlsZHJlbkxlbiA9PT0gMDtcblxuICAgIHZhciBkaXNwb3NlZENoaWxkQ291bnQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcG9zZUNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkaXNwb3NlQ2hpbGQgPSBkaXNwb3NlQ2hpbGRyZW5baV07XG4gICAgICAgIGlmIChkaXNwb3NlQ2hpbGQpIHtcbiAgICAgICAgICAgIGRpc3Bvc2VDaGlsZC5fb25kaXNwb3NlZCA9IGNoaWxkRGlzcG9zZWQ7XG4gICAgICAgICAgICBkaXNwb3NlQ2hpbGQuZGlzcG9zZSh2aW9sZW50Q2xlYXIsIHZpb2xlbnRDbGVhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGlsZERpc3Bvc2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmlvbGVudENsZWFyKSB7XG4gICAgICAgIC8vIGNsb25lTm9kZSArIHJlcGxhY2VDaGlsZCBpcyBmYXN0ZXJcbiAgICAgICAgLy8gcGFyZW50RWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHZhciByZXBsYWNlTm9kZSA9IHBhcmVudEVsLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgIHBhcmVudEVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHJlcGxhY2VOb2RlLCBwYXJlbnRFbCk7XG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgICAgICByZXBsYWNlTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsKTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcG9zZUNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkb0NyZWF0ZUFuZFVwZGF0ZSgpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY2hpbGREaXNwb3NlZCgpIHtcbiAgICAgICAgZGlzcG9zZWRDaGlsZENvdW50Kys7XG4gICAgICAgIGlmIChkaXNwb3NlZENoaWxkQ291bnQgPT09IGRpc3Bvc2VDaGlsZHJlbi5sZW5ndGhcbiAgICAgICAgICAgICYmIGRvQ3JlYXRlQW5kVXBkYXRlID09PSBtZS5fZG9DcmVhdGVBbmRVcGRhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBkb0NyZWF0ZUFuZFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9DcmVhdGVBbmRVcGRhdGUoKSB7XG4gICAgICAgIG1lLl9kb0NyZWF0ZUFuZFVwZGF0ZSA9IG51bGw7XG4gICAgICAgIGlmICh2aW9sZW50Q2xlYXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdmFyIGJlZm9yZUVsID0gbWUuZWw7XG5cbiAgICAgICAgLy8g5a+555u45bqU55qE6aG56L+b6KGM5pu05pawXG4gICAgICAgIGlmIChvbGRDaGlsZHJlbkxlbiA9PT0gMCAmJiBpc09ubHlQYXJlbnRDaGlsZCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbkxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWUuY2hpbGRyZW5baV0gPSBjcmVhdGVGb3JEaXJlY3RpdmVDaGlsZChtZSwgbmV3TGlzdFtpXSwgaSk7XG4gICAgICAgICAgICAgICAgbWUuY2hpbGRyZW5baV0uYXR0YWNoKHBhcmVudEVsLCBiZWZvcmVFbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyDlpoLmnpzkuI1hdHRhY2hlZOWImeebtOaOpeWIm+W7uu+8jOWmguaenOWtmOWcqOWImeiwg+eUqOabtOaWsOWHveaVsFxuICAgICAgICAgICAgdmFyIGogPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW5MZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG1lLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuQ2hhbmdlc1tpXSAmJiBjaGlsZC5fdXBkYXRlKGNoaWxkcmVuQ2hhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZUVsID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbmV3Q2hpbGRyZW5MZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoaWxkID0gbWUuY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVFbCA9IG5leHRDaGlsZC5zZWwgfHwgbmV4dENoaWxkLmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWUuY2hpbGRyZW5baV0gPSBjcmVhdGVGb3JEaXJlY3RpdmVDaGlsZChtZSwgbmV3TGlzdFtpXSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIG1lLmNoaWxkcmVuW2ldLmF0dGFjaChwYXJlbnRFbCwgYmVmb3JlRWwgfHwgbWUuZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gRm9yTm9kZTtcblxuXG4vKipcbiAqIEBmaWxlIOa4hea0l+adoeS7tiBhTm9kZVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgY3JlYXRlQU5vZGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvY3JlYXRlLWEtbm9kZScpO1xuLy8gdmFyIGNsb25lRGlyZWN0aXZlcyA9IHJlcXVpcmUoJy4uL3BhcnNlci9jbG9uZS1kaXJlY3RpdmVzJyk7XG5cblxuLyoqXG4gKiDmuIXmtJfmnaHku7YgYU5vZGXvvIzov5Tlm57nuq/lh4Dml6DmnaHku7bmjIfku6TnmoQgYU5vZGVcbiAqXG4gKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDmnaHku7boioLngrnlr7nosaFcbiAqIEByZXR1cm4ge0FOb2RlfVxuICovXG5mdW5jdGlvbiByaW5zZUNvbmRBTm9kZShhTm9kZSkge1xuICAgIHZhciBjbGVhckFOb2RlID0gY3JlYXRlQU5vZGUoe1xuICAgICAgICBjaGlsZHJlbjogYU5vZGUuY2hpbGRyZW4sXG4gICAgICAgIHByb3BzOiBhTm9kZS5wcm9wcyxcbiAgICAgICAgZXZlbnRzOiBhTm9kZS5ldmVudHMsXG4gICAgICAgIHRhZ05hbWU6IGFOb2RlLnRhZ05hbWUsXG4gICAgICAgIHZhcnM6IGFOb2RlLnZhcnMsXG4gICAgICAgIGhvdHNwb3Q6IGFOb2RlLmhvdHNwb3QsXG4gICAgICAgIGRpcmVjdGl2ZXM6IGNsb25lRGlyZWN0aXZlcyhhTm9kZS5kaXJlY3RpdmVzLCB7XG4gICAgICAgICAgICAnaWYnOiAxLFxuICAgICAgICAgICAgJ2Vsc2UnOiAxLFxuICAgICAgICAgICAgJ2VsaWYnOiAxXG4gICAgICAgIH0pXG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2xlYXJBTm9kZTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmluc2VDb25kQU5vZGU7XG5cblxuLyoqXG4gKiBAZmlsZSBpZiDmjIfku6ToioLngrnnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgZ3VpZCA9IHJlcXVpcmUoJy4uL3V0aWwvZ3VpZCcpO1xuLy8gdmFyIGluc2VydEJlZm9yZSA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvaW5zZXJ0LWJlZm9yZScpO1xuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgcmluc2VDb25kQU5vZGUgPSByZXF1aXJlKCcuL3JpbnNlLWNvbmQtYW5vZGUnKTtcbi8vIHZhciBjcmVhdGVOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtbm9kZScpO1xuLy8gdmFyIGNyZWF0ZVJldmVyc2VOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtcmV2ZXJzZS1ub2RlJyk7XG4vLyB2YXIgbm9kZU93bkNyZWF0ZVN0dW1wID0gcmVxdWlyZSgnLi9ub2RlLW93bi1jcmVhdGUtc3R1bXAnKTtcbi8vIHZhciBlbGVtZW50VXBkYXRlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtdXBkYXRlLWNoaWxkcmVuJyk7XG4vLyB2YXIgbm9kZU93blNpbXBsZURpc3Bvc2UgPSByZXF1aXJlKCcuL25vZGUtb3duLXNpbXBsZS1kaXNwb3NlJyk7XG5cbi8qKlxuICogaWYg5oyH5Luk6IqC54K557G7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFOb2RlIOaKveixoeiKgueCuVxuICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tueOr+Wig1xuICogQHBhcmFtIHtNb2RlbD19IHNjb3BlIOaJgOWxnuaVsOaNrueOr+Wig1xuICogQHBhcmFtIHtOb2RlfSBwYXJlbnQg54i25Lqy6IqC54K5XG4gKiBAcGFyYW0ge0RPTUNoaWxkcmVuV2Fsa2VyP30gcmV2ZXJzZVdhbGtlciDlrZDlhYPntKDpgY3ljoblr7nosaFcbiAqL1xuZnVuY3Rpb24gSWZOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMucGFyZW50Q29tcG9uZW50ID0gcGFyZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUXG4gICAgICAgID8gcGFyZW50XG4gICAgICAgIDogcGFyZW50LnBhcmVudENvbXBvbmVudDtcblxuICAgIHRoaXMuaWQgPSBndWlkKCk7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgdGhpcy5jb25kID0gdGhpcy5hTm9kZS5kaXJlY3RpdmVzWydpZiddLnZhbHVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG4gICAgICAgIGlmIChldmFsRXhwcih0aGlzLmNvbmQsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpKSB7XG4gICAgICAgICAgICB0aGlzLmVsc2VJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblswXSA9IGNyZWF0ZVJldmVyc2VOb2RlKFxuICAgICAgICAgICAgICAgIHJpbnNlQ29uZEFOb2RlKGFOb2RlKSxcbiAgICAgICAgICAgICAgICByZXZlcnNlV2Fsa2VyLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICAgICAgZWFjaChhTm9kZS5lbHNlcywgZnVuY3Rpb24gKGVsc2VBTm9kZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxpZiA9IGVsc2VBTm9kZS5kaXJlY3RpdmVzLmVsaWY7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWVsaWYgfHwgZWxpZiAmJiBldmFsRXhwcihlbGlmLnZhbHVlLCBtZS5zY29wZSwgbWUub3duZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lLmVsc2VJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBtZS5jaGlsZHJlblswXSA9IGNyZWF0ZVJldmVyc2VOb2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmluc2VDb25kQU5vZGUoZWxzZUFOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2VXYWxrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jcmVhdGUoKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHJldmVyc2VXYWxrZXIudGFyZ2V0LCByZXZlcnNlV2Fsa2VyLmN1cnJlbnQpO1xuICAgIH1cbiAgICAvLyAjW2VuZF1cbn1cblxuSWZOb2RlLnByb3RvdHlwZS5ub2RlVHlwZSA9IE5vZGVUeXBlLklGO1xuXG5JZk5vZGUucHJvdG90eXBlLl9jcmVhdGUgPSBub2RlT3duQ3JlYXRlU3R1bXA7XG5JZk5vZGUucHJvdG90eXBlLmRpc3Bvc2UgPSBub2RlT3duU2ltcGxlRGlzcG9zZTtcblxuSWZOb2RlLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB2YXIgZWxzZUluZGV4O1xuICAgIHZhciBjaGlsZDtcblxuICAgIGlmIChldmFsRXhwcih0aGlzLmNvbmQsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpKSB7XG4gICAgICAgIGNoaWxkID0gY3JlYXRlTm9kZShyaW5zZUNvbmRBTm9kZShtZS5hTm9kZSksIG1lKTtcbiAgICAgICAgZWxzZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlYWNoKG1lLmFOb2RlLmVsc2VzLCBmdW5jdGlvbiAoZWxzZUFOb2RlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGVsaWYgPSBlbHNlQU5vZGUuZGlyZWN0aXZlcy5lbGlmO1xuXG4gICAgICAgICAgICBpZiAoIWVsaWYgfHwgZWxpZiAmJiBldmFsRXhwcihlbGlmLnZhbHVlLCBtZS5zY29wZSwgbWUub3duZXIpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjcmVhdGVOb2RlKHJpbnNlQ29uZEFOb2RlKGVsc2VBTm9kZSksIG1lKTtcbiAgICAgICAgICAgICAgICBlbHNlSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgICBtZS5jaGlsZHJlblswXSA9IGNoaWxkO1xuICAgICAgICBjaGlsZC5hdHRhY2gocGFyZW50RWwsIGJlZm9yZUVsKTtcbiAgICAgICAgbWUuZWxzZUluZGV4ID0gZWxzZUluZGV4O1xuICAgIH1cblxuXG4gICAgdGhpcy5fY3JlYXRlKCk7XG4gICAgaW5zZXJ0QmVmb3JlKHRoaXMuZWwsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG59O1xuXG5cbi8qKlxuICog6KeG5Zu+5pu05paw5Ye95pWwXG4gKlxuICogQHBhcmFtIHtBcnJheX0gY2hhbmdlcyDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuSWZOb2RlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciBjaGlsZEFOb2RlID0gbWUuYU5vZGU7XG4gICAgdmFyIGVsc2VJbmRleDtcblxuICAgIGlmIChldmFsRXhwcih0aGlzLmNvbmQsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpKSB7XG4gICAgICAgIGVsc2VJbmRleCA9IC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWFjaChtZS5hTm9kZS5lbHNlcywgZnVuY3Rpb24gKGVsc2VBTm9kZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBlbGlmID0gZWxzZUFOb2RlLmRpcmVjdGl2ZXMuZWxpZjtcblxuICAgICAgICAgICAgaWYgKGVsaWYgJiYgZXZhbEV4cHIoZWxpZi52YWx1ZSwgbWUuc2NvcGUsIG1lLm93bmVyKSB8fCAhZWxpZikge1xuICAgICAgICAgICAgICAgIGVsc2VJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGNoaWxkQU5vZGUgPSBlbHNlQU5vZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWxzZUluZGV4ID09PSBtZS5lbHNlSW5kZXgpIHtcbiAgICAgICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKG1lLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG1lLmNoaWxkcmVuWzBdO1xuICAgICAgICBtZS5jaGlsZHJlbiA9IFtdO1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGNoaWxkLl9vbmRpc3Bvc2VkID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdDaGlsZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWUuZWxzZUluZGV4ID0gZWxzZUluZGV4O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0NoaWxkKCkge1xuICAgICAgICBpZiAodHlwZW9mIGVsc2VJbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNyZWF0ZU5vZGUocmluc2VDb25kQU5vZGUoY2hpbGRBTm9kZSksIG1lKTtcbiAgICAgICAgICAgIC8vIHZhciBwYXJlbnRFbCA9IGdldE5vZGVTdHVtcFBhcmVudChtZSk7XG4gICAgICAgICAgICBjaGlsZC5hdHRhY2gobWUuZWwucGFyZW50Tm9kZSwgbWUuZWwpO1xuXG4gICAgICAgICAgICBtZS5jaGlsZHJlblswXSA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gSWZOb2RlO1xuXG5cbi8qKlxuICogQGZpbGUgdGVtcGxhdGUg6IqC54K557G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBpbnNlcnRCZWZvcmUgPSByZXF1aXJlKCcuLi9icm93c2VyL2luc2VydC1iZWZvcmUnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgTGlmZUN5Y2xlID0gcmVxdWlyZSgnLi9saWZlLWN5Y2xlJyk7XG4vLyB2YXIgbm9kZURpc3Bvc2UgPSByZXF1aXJlKCcuL25vZGUtZGlzcG9zZScpO1xuLy8gdmFyIGNyZWF0ZVJldmVyc2VOb2RlID0gcmVxdWlyZSgnLi9jcmVhdGUtcmV2ZXJzZS1ub2RlJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2VDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlLWNoaWxkcmVuJyk7XG4vLyB2YXIgZWxlbWVudE93blRvUGhhc2UgPSByZXF1aXJlKCcuL2VsZW1lbnQtb3duLXRvLXBoYXNlJyk7XG4vLyB2YXIgZWxlbWVudFVwZGF0ZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9lbGVtZW50LXVwZGF0ZS1jaGlsZHJlbicpO1xuLy8gdmFyIG5vZGVPd25Pbmx5Q2hpbGRyZW5BdHRhY2ggPSByZXF1aXJlKCcuL25vZGUtb3duLW9ubHktY2hpbGRyZW4tYXR0YWNoJyk7XG5cbi8qKlxuICogdGVtcGxhdGUg6IqC54K557G7XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFOb2RlIOaKveixoeiKgueCuVxuICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tueOr+Wig1xuICogQHBhcmFtIHtNb2RlbD19IHNjb3BlIOaJgOWxnuaVsOaNrueOr+Wig1xuICogQHBhcmFtIHtOb2RlfSBwYXJlbnQg54i25Lqy6IqC54K5XG4gKiBAcGFyYW0ge0RPTUNoaWxkcmVuV2Fsa2VyP30gcmV2ZXJzZVdhbGtlciDlrZDlhYPntKDpgY3ljoblr7nosaFcbiAqL1xuZnVuY3Rpb24gVGVtcGxhdGVOb2RlKGFOb2RlLCBvd25lciwgc2NvcGUsIHBhcmVudCwgcmV2ZXJzZVdhbGtlcikge1xuICAgIHRoaXMuYU5vZGUgPSBhTm9kZTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMucGFyZW50Q29tcG9uZW50ID0gcGFyZW50Lm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUXG4gICAgICAgID8gcGFyZW50XG4gICAgICAgIDogcGFyZW50LnBhcmVudENvbXBvbmVudDtcblxuICAgIHRoaXMuaWQgPSBndWlkKCk7XG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuc3RhcnQ7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmIChyZXZlcnNlV2Fsa2VyKSB7XG4gICAgICAgIHRoaXMuc2VsID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0aGlzLmlkKTtcbiAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuc2VsLCByZXZlcnNlV2Fsa2VyLnRhcmdldCwgcmV2ZXJzZVdhbGtlci5jdXJyZW50KTtcblxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICBlYWNoKHRoaXMuYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChhTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICBtZS5jaGlsZHJlbi5wdXNoKGNyZWF0ZVJldmVyc2VOb2RlKGFOb2RlQ2hpbGQsIHJldmVyc2VXYWxrZXIsIG1lKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRoaXMuaWQpO1xuICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5lbCwgcmV2ZXJzZVdhbGtlci50YXJnZXQsIHJldmVyc2VXYWxrZXIuY3VycmVudCk7XG5cbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnYXR0YWNoZWQnKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuXG5UZW1wbGF0ZU5vZGUucHJvdG90eXBlLm5vZGVUeXBlID0gTm9kZVR5cGUuVFBMO1xuXG5UZW1wbGF0ZU5vZGUucHJvdG90eXBlLmF0dGFjaCA9IG5vZGVPd25Pbmx5Q2hpbGRyZW5BdHRhY2g7XG5cbi8qKlxuICog6ZSA5q+B6YeK5pS+XG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9EZXRhY2gg5piv5ZCm5LiN6KaB5oqK6IqC54K55LuOZG9t56e76ZmkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24g5piv5ZCm5LiN5pi+56S66L+H5rih5Yqo55S75pWI5p6cXG4gKi9cblRlbXBsYXRlTm9kZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChub0RldGFjaCwgbm9UcmFuc2l0aW9uKSB7XG4gICAgZWxlbWVudERpc3Bvc2VDaGlsZHJlbih0aGlzLCBub0RldGFjaCwgbm9UcmFuc2l0aW9uKTtcbiAgICBub2RlRGlzcG9zZSh0aGlzKTtcbn07XG5cblxuVGVtcGxhdGVOb2RlLnByb3RvdHlwZS5fdG9QaGFzZSA9IGVsZW1lbnRPd25Ub1BoYXNlO1xuXG4vKipcbiAqIOinhuWbvuabtOaWsOWHveaVsFxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGNoYW5nZXMg5pWw5o2u5Y+Y5YyW5L+h5oGvXG4gKi9cblRlbXBsYXRlTm9kZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKHRoaXMsIGNoYW5nZXMpO1xufTtcblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gVGVtcGxhdGVOb2RlO1xuXG5cbi8qKlxuICogQGZpbGUg5a+55YWD57Sg55qE5a2Q6IqC54K56L+b6KGM5Y+N6KejXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBlYWNoID0gcmVxdWlyZSgnLi4vdXRpbC9lYWNoJyk7XG4vLyB2YXIgRE9NQ2hpbGRyZW5XYWxrZXIgPSByZXF1aXJlKCcuL2RvbS1jaGlsZHJlbi13YWxrZXInKTtcbi8vIHZhciBjcmVhdGVSZXZlcnNlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLXJldmVyc2Utbm9kZScpO1xuXG4vLyAjW2JlZ2luXSByZXZlcnNlXG5cbi8qKlxuICog5a+55YWD57Sg55qE5a2Q6IqC54K56L+b6KGM5Y+N6KejXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg5YWD57SgXG4gKi9cbmZ1bmN0aW9uIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHZhciBodG1sRGlyZWN0aXZlID0gZWxlbWVudC5hTm9kZS5kaXJlY3RpdmVzLmh0bWw7XG5cbiAgICBpZiAoIWh0bWxEaXJlY3RpdmUpIHtcbiAgICAgICAgdmFyIHJldmVyc2VXYWxrZXIgPSBuZXcgRE9NQ2hpbGRyZW5XYWxrZXIoZWxlbWVudC5lbCk7XG5cbiAgICAgICAgZWFjaChlbGVtZW50LmFOb2RlLmNoaWxkcmVuLCBmdW5jdGlvbiAoYU5vZGVDaGlsZCkge1xuICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5wdXNoKGNyZWF0ZVJldmVyc2VOb2RlKGFOb2RlQ2hpbGQsIHJldmVyc2VXYWxrZXIsIGVsZW1lbnQpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJldmVyc2VFbGVtZW50Q2hpbGRyZW47XG5cblxuLyoqXG4gKiBAZmlsZSDlpITnkIblhYPntKDnmoTlsZ7mgKfmk43kvZxcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBnZXRQcm9wSGFuZGxlciA9IHJlcXVpcmUoJy4vZ2V0LXByb3AtaGFuZGxlcicpO1xuXG4vKipcbiAqIOWkhOeQhuWFg+e0oOWxnuaAp+aTjeS9nFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOWFg+e0oOWvueixoVxuICogQHBhcmFtIHsqfSB2YWx1ZSDlsZ7mgKflgLxcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wIOWxnuaAp+S/oeaBr+WvueixoVxuICovXG5mdW5jdGlvbiBoYW5kbGVQcm9wKGVsZW1lbnQsIHZhbHVlLCBwcm9wKSB7XG4gICAgdmFyIG5hbWUgPSBwcm9wLm5hbWU7XG4gICAgZ2V0UHJvcEhhbmRsZXIoZWxlbWVudC50YWdOYW1lLCBuYW1lKS5wcm9wKGVsZW1lbnQuZWwsIHZhbHVlLCBuYW1lLCBlbGVtZW50LCBwcm9wKTtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gaGFuZGxlUHJvcDtcblxuXG4vKipcbiAqIEBmaWxlIOWIm+W7uuiKgueCueWvueW6lOeahCBIVE1MRWxlbWVudCDkuLvlhYPntKBcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcbi8vIHZhciBjcmVhdGVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvY3JlYXRlLWVsJyk7XG4vLyB2YXIgaGFuZGxlUHJvcCA9IHJlcXVpcmUoJy4vaGFuZGxlLXByb3AnKTtcbi8vIHZhciBMaWZlQ3ljbGUgPSByZXF1aXJlKCcuL2xpZmUtY3ljbGUnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG5cbnZhciBlbXB0eVByb3BXaGVuQ3JlYXRlID0ge1xuICAgICdjbGFzcyc6IDEsXG4gICAgJ3N0eWxlJzogMSxcbiAgICAnaWQnOiAxXG59O1xuXG4vKipcbiAqIOWIm+W7uuiKgueCueWvueW6lOeahCBIVE1MRWxlbWVudCDkuLvlhYPntKBcbiAqL1xuZnVuY3Rpb24gZWxlbWVudE93bkNyZWF0ZSgpIHtcbiAgICBpZiAoIXRoaXMubGlmZUN5Y2xlLmNyZWF0ZWQpIHtcbiAgICAgICAgdmFyIGlzQ29tcG9uZW50ID0gdGhpcy5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVDtcbiAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSB0aGlzLmFOb2RlLmhvdHNwb3Quc291cmNlTm9kZTtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5hTm9kZS5wcm9wcztcblxuICAgICAgICBpZiAoc291cmNlTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5lbCA9IHNvdXJjZU5vZGUuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgICBwcm9wcyA9IHRoaXMuYU5vZGUuaG90c3BvdC5keW5hbWljUHJvcHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsID0gY3JlYXRlRWwodGhpcy50YWdOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLl9zcHJlYWREYXRhKSB7XG4gICAgICAgICAgICBnZXRQcm9wSGFuZGxlcih0aGlzLnRhZ05hbWUsIGtleSkucHJvcCh0aGlzLmVsLCB0aGlzLl9zcHJlYWREYXRhW2tleV0sIGtleSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHByb3BzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgPyBldmFsRXhwcihwcm9wLmV4cHIsIHRoaXMuZGF0YSwgdGhpcylcbiAgICAgICAgICAgICAgICA6IGV2YWxFeHByKHByb3AuZXhwciwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSB8fCAhZW1wdHlQcm9wV2hlbkNyZWF0ZVtwcm9wLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHJvcCh0aGlzLCB2YWx1ZSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90b1BoYXNlKCdjcmVhdGVkJyk7XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50T3duQ3JlYXRlO1xuXG5cbi8qKlxuICogQGZpbGUg5bCG5YWD57SgYXR0YWNo5Yiw6aG16Z2iXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgY3JlYXRlTm9kZSA9IHJlcXVpcmUoJy4vY3JlYXRlLW5vZGUnKTtcbi8vIHZhciBldmFsRXhwciA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyB2YXIgaW5zZXJ0QmVmb3JlID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pbnNlcnQtYmVmb3JlJyk7XG5cbi8qKlxuICog5bCG5YWD57SgYXR0YWNo5Yiw6aG16Z2iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg5YWD57Sg6IqC54K5XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRFbCDopoHmt7vliqDliLDnmoTniLblhYPntKBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnTvvJ19IGJlZm9yZUVsIOimgea3u+WKoOWIsOWTquS4quWFg+e0oOS5i+WJjVxuICovXG5mdW5jdGlvbiBlbGVtZW50QXR0YWNoKGVsZW1lbnQsIHBhcmVudEVsLCBiZWZvcmVFbCkge1xuICAgIGVsZW1lbnQuX2NyZWF0ZSgpO1xuICAgIGluc2VydEJlZm9yZShlbGVtZW50LmVsLCBwYXJlbnRFbCwgYmVmb3JlRWwpO1xuXG4gICAgaWYgKCFlbGVtZW50Ll9jb250ZW50UmVhZHkpIHtcbiAgICAgICAgdmFyIGh0bWxEaXJlY3RpdmUgPSBlbGVtZW50LmFOb2RlLmRpcmVjdGl2ZXMuaHRtbDtcblxuICAgICAgICBpZiAoaHRtbERpcmVjdGl2ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5lbC5pbm5lckhUTUwgPSBldmFsRXhwcihodG1sRGlyZWN0aXZlLnZhbHVlLCBlbGVtZW50LnNjb3BlLCBlbGVtZW50Lm93bmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhTm9kZUNoaWxkcmVuID0gZWxlbWVudC5hTm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYU5vZGVDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNyZWF0ZU5vZGUoYU5vZGVDaGlsZHJlbltpXSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjaGlsZC5hdHRhY2goZWxlbWVudC5lbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50Ll9jb250ZW50UmVhZHkgPSAxO1xuICAgIH1cbn1cblxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50QXR0YWNoO1xuXG5cbi8qKlxuICogQGZpbGUg5bCG5YWD57SgYXR0YWNo5Yiw6aG16Z2iXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG5cbi8vIHZhciBlbGVtZW50QXR0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LWF0dGFjaCcpO1xuXG4vKipcbiAqIOWwhuWFg+e0oGF0dGFjaOWIsOmhtemdolxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudEVsIOimgea3u+WKoOWIsOeahOeItuWFg+e0oFxuICogQHBhcmFtIHtIVE1MRWxlbWVudO+8nX0gYmVmb3JlRWwg6KaB5re75Yqg5Yiw5ZOq5Liq5YWD57Sg5LmL5YmNXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRPd25BdHRhY2gocGFyZW50RWwsIGJlZm9yZUVsKSB7XG4gICAgaWYgKCF0aGlzLmxpZmVDeWNsZS5hdHRhY2hlZCkge1xuICAgICAgICBlbGVtZW50QXR0YWNoKHRoaXMsIHBhcmVudEVsLCBiZWZvcmVFbCk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkKCk7XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50T3duQXR0YWNoO1xuXG5cbi8qKlxuICogQGZpbGUg6I635Y+WIGVsZW1lbnQg55qEIHRyYW5zaXRpb24g5o6n5Yi25a+56LGhXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZXZhbEFyZ3MgPSByZXF1aXJlKCcuLi9ydW50aW1lL2V2YWwtYXJncycpO1xuLy8gdmFyIGZpbmRNZXRob2QgPSByZXF1aXJlKCcuLi9ydW50aW1lL2ZpbmQtbWV0aG9kJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuXG4vKipcbiAqIOiOt+WPliBlbGVtZW50IOeahCB0cmFuc2l0aW9uIOaOp+WItuWvueixoVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IOWFg+e0oFxuICogQHJldHVybiB7T2JqZWN0P31cbiAqL1xuZnVuY3Rpb24gZWxlbWVudEdldFRyYW5zaXRpb24oZWxlbWVudCkge1xuICAgIHZhciBhTm9kZSA9IGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGVUeXBlLkNNUFQgPyBlbGVtZW50LmdpdmVuQU5vZGUgOiBlbGVtZW50LmFOb2RlO1xuICAgIHZhciBkaXJlY3RpdmUgPSBhTm9kZSAmJiBhTm9kZS5kaXJlY3RpdmVzLnRyYW5zaXRpb247XG4gICAgdmFyIG93bmVyID0gZWxlbWVudC5vd25lcjtcblxuICAgIHZhciB0cmFuc2l0aW9uO1xuICAgIGlmIChkaXJlY3RpdmUgJiYgb3duZXIpIHtcbiAgICAgICAgdHJhbnNpdGlvbiA9IGZpbmRNZXRob2Qob3duZXIsIGRpcmVjdGl2ZS52YWx1ZS5uYW1lKTtcblxuICAgICAgICBpZiAodHlwZW9mIHRyYW5zaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uLmFwcGx5KFxuICAgICAgICAgICAgICAgIG93bmVyLFxuICAgICAgICAgICAgICAgIGV2YWxBcmdzKGRpcmVjdGl2ZS52YWx1ZS5hcmdzLCBlbGVtZW50LnNjb3BlLCBvd25lcilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNpdGlvbiB8fCBlbGVtZW50LnRyYW5zaXRpb247XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRHZXRUcmFuc2l0aW9uO1xuXG5cbi8qKlxuICogQGZpbGUg5YWD57Sg6IqC54K55omn6KGMbGVhdmXooYzkuLpcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBlbGVtZW50R2V0VHJhbnNpdGlvbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1nZXQtdHJhbnNpdGlvbicpO1xuXG5cbi8qKlxuICog5YWD57Sg6IqC54K55omn6KGMbGVhdmXooYzkuLpcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKBcbiAqL1xuZnVuY3Rpb24gZWxlbWVudExlYXZlKGVsZW1lbnQpIHtcbiAgICB2YXIgbGlmZUN5Y2xlID0gZWxlbWVudC5saWZlQ3ljbGU7XG4gICAgaWYgKGxpZmVDeWNsZS5sZWF2aW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5kaXNwb3NlTm9UcmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnQuX2RvbmVMZWF2ZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSBlbGVtZW50R2V0VHJhbnNpdGlvbihlbGVtZW50KTtcblxuICAgICAgICBpZiAodHJhbnNpdGlvbiAmJiB0cmFuc2l0aW9uLmxlYXZlKSB7XG4gICAgICAgICAgICBlbGVtZW50Ll90b1BoYXNlKCdsZWF2aW5nJyk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsZW1lbnQuZWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Ll9kb25lTGVhdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5fZG9uZUxlYXZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRMZWF2ZTtcblxuXG4vKipcbiAqIEBmaWxlIOWwhuWFg+e0oOS7jumhtemdouS4iuenu+mZpFxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVsZW1lbnRMZWF2ZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1sZWF2ZScpO1xuXG4vKipcbiAqIOWwhuWFg+e0oOS7jumhtemdouS4iuenu+mZpFxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duRGV0YWNoKCkge1xuICAgIGVsZW1lbnRMZWF2ZSh0aGlzKTtcbn1cblxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBlbGVtZW50T3duRGV0YWNoO1xuXG5cbi8qKlxuICogQGZpbGUg6ZSA5q+B6YeK5pS+5YWD57SgXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWxlbWVudExlYXZlID0gcmVxdWlyZSgnLi9lbGVtZW50LWxlYXZlJyk7XG5cbi8qKlxuICog6ZSA5q+B6YeK5pS+5YWD57SgXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9EZXRhY2gg5piv5ZCm5LiN6KaB5oqK6IqC54K55LuOZG9t56e76ZmkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24g5piv5ZCm5LiN5pi+56S66L+H5rih5Yqo55S75pWI5p6cXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRPd25EaXNwb3NlKG5vRGV0YWNoLCBub1RyYW5zaXRpb24pIHtcbiAgICB0aGlzLmxlYXZlRGlzcG9zZSA9IDE7XG4gICAgdGhpcy5kaXNwb3NlTm9EZXRhY2ggPSBub0RldGFjaDtcbiAgICB0aGlzLmRpc3Bvc2VOb1RyYW5zaXRpb24gPSBub1RyYW5zaXRpb247XG5cbiAgICBlbGVtZW50TGVhdmUodGhpcyk7XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRPd25EaXNwb3NlO1xuXG5cbi8qKlxuICogQGZpbGUg5Li65YWD57Sg55qEIGVsIOe7keWumuS6i+S7tlxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIG9uID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9vbicpO1xuXG4vKipcbiAqIOS4uuWFg+e0oOeahCBlbCDnu5Hlrprkuovku7ZcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDkuovku7blkI1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIOebkeWQrOWZqFxuICogQHBhcmFtIHtib29sZWFufSBjYXB0dXJlIOaYr+WQpuaYr+aNleiOt+mYtuauteinpuWPkVxuICovXG5mdW5jdGlvbiBlbGVtZW50T3duT25FbChuYW1lLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FwdHVyZSA9ICEhY2FwdHVyZTtcbiAgICAgICAgdGhpcy5fZWxGbnMucHVzaChbbmFtZSwgbGlzdGVuZXIsIGNhcHR1cmVdKTtcbiAgICAgICAgb24odGhpcy5lbCwgbmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIH1cbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudE93bk9uRWw7XG5cblxuLyoqXG4gKiBAZmlsZSAg5LqL5Lu257uR5a6a5LiN5a2Y5Zyo55qEIHdhcm5pbmdcbiAqIEBhdXRob3IgdmFyc2hhKHdhbmdzaHVvbnB1QGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuXG4vLyAjW2JlZ2luXSBlcnJvclxuLyoqXG4gKiDkuovku7bnu5HlrprkuI3lrZjlnKjnmoQgd2FybmluZ1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudEJpbmQg5LqL5Lu257uR5a6a5a+56LGhXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe55qE57uE5Lu25a+56LGhXG4gKi9cbmZ1bmN0aW9uIHdhcm5FdmVudExpc3Rlbk1ldGhvZChldmVudEJpbmQsIG93bmVyKSB7XG4gICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICB2YXIgbWV0aG9kID0gb3duZXI7XG4gICAgZWFjaChldmVudEJpbmQuZXhwci5uYW1lLnBhdGhzLCBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICBpZiAoIXBhdGgudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZFtwYXRoLnZhbHVlXTtcbiAgICAgICAgdmFsaWQgPSAhIW1ldGhvZDtcbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH0pO1xuXG4gICAgaWYgKCF2YWxpZCkge1xuICAgICAgICB2YXIgcGF0aHMgPSBbXTtcbiAgICAgICAgZWFjaChldmVudEJpbmQuZXhwci5uYW1lLnBhdGhzLCBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcGF0aHMucHVzaChwYXRoLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1tTQU4gV0FSTklOR10gJyArIGV2ZW50QmluZC5uYW1lICsgJyBsaXN0ZW4gZmFpbCxcIicgKyBwYXRocy5qb2luKCcuJykgKyAnXCIgbm90IGV4aXN0JztcblxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgfVxufVxuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHdhcm5FdmVudExpc3Rlbk1ldGhvZDtcblxuXG4vKipcbiAqIEBmaWxlIOWujOaIkOWFg+e0oCBhdHRhY2hlZCDlkI7nmoTooYzkuLpcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGJpbmQgPSByZXF1aXJlKCcuLi91dGlsL2JpbmQnKTtcbi8vIHZhciBlbXB0eSA9IHJlcXVpcmUoJy4uL3V0aWwvZW1wdHknKTtcbi8vIHZhciBpc0Jyb3dzZXIgPSByZXF1aXJlKCcuLi9icm93c2VyL2lzLWJyb3dzZXInKTtcbi8vIHZhciB0cmlnZ2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci90cmlnZ2VyJyk7XG4vLyB2YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL25vZGUtdHlwZScpO1xuLy8gdmFyIGVsZW1lbnRHZXRUcmFuc2l0aW9uID0gcmVxdWlyZSgnLi9lbGVtZW50LWdldC10cmFuc2l0aW9uJyk7XG4vLyB2YXIgZXZlbnREZWNsYXJhdGlvbkxpc3RlbmVyID0gcmVxdWlyZSgnLi9ldmVudC1kZWNsYXJhdGlvbi1saXN0ZW5lcicpO1xuLy8gdmFyIGdldFByb3BIYW5kbGVyID0gcmVxdWlyZSgnLi9nZXQtcHJvcC1oYW5kbGVyJyk7XG4vLyB2YXIgd2FybkV2ZW50TGlzdGVuTWV0aG9kID0gcmVxdWlyZSgnLi93YXJuLWV2ZW50LWxpc3Rlbi1tZXRob2QnKTtcblxuLyoqXG4gKiDlj4znu5HovpPlhaXmoYZDb21wb3NpdGlvbkVuZOS6i+S7tuebkeWQrOWHveaVsFxuICpcbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBpbnB1dE9uQ29tcG9zaXRpb25FbmQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb3NpbmcgPSAwO1xuXG4gICAgdHJpZ2dlcih0aGlzLCAnaW5wdXQnKTtcbn1cblxuLyoqXG4gKiDlj4znu5HovpPlhaXmoYZDb21wb3NpdGlvblN0YXJ05LqL5Lu255uR5ZCs5Ye95pWwXG4gKlxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGlucHV0T25Db21wb3NpdGlvblN0YXJ0KCkge1xuICAgIHRoaXMuY29tcG9zaW5nID0gMTtcbn1cblxuZnVuY3Rpb24geFByb3BPdXRwdXRlcih4UHJvcCwgZGF0YSkge1xuICAgIGdldFByb3BIYW5kbGVyKHRoaXMudGFnTmFtZSwgeFByb3AubmFtZSkub3V0cHV0KHRoaXMsIHhQcm9wLCBkYXRhKTtcbn1cblxuZnVuY3Rpb24gaW5wdXRYUHJvcE91dHB1dGVyKGVsZW1lbnQsIHhQcm9wLCBkYXRhKSB7XG4gICAgdmFyIG91dHB1dGVyID0gYmluZCh4UHJvcE91dHB1dGVyLCBlbGVtZW50LCB4UHJvcCwgZGF0YSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICghdGhpcy5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgIG91dHB1dGVyKGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiDlrozmiJDlhYPntKAgYXR0YWNoZWQg5ZCO55qE6KGM5Li6XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQg5YWD57Sg6IqC54K5XG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRPd25BdHRhY2hlZCgpIHtcbiAgICB0aGlzLl90b1BoYXNlKCdjcmVhdGVkJyk7XG5cbiAgICB2YXIgaXNDb21wb25lbnQgPSB0aGlzLm5vZGVUeXBlID09PSBOb2RlVHlwZS5DTVBUO1xuICAgIHZhciBkYXRhID0gaXNDb21wb25lbnQgPyB0aGlzLmRhdGEgOiB0aGlzLnNjb3BlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVkZWNsYXJlICovXG5cbiAgICAvLyDlpITnkIboh6rouqvlj5jljJbml7blj4zlkJHnu5HlrprnmoTpgLvovpFcbiAgICB2YXIgeFByb3BzID0gdGhpcy5hTm9kZS5ob3RzcG90LnhQcm9wcztcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHhQcm9wcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHhQcm9wID0geFByb3BzW2ldO1xuXG4gICAgICAgIHN3aXRjaCAoeFByb3AubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQnJvd3NlciAmJiB3aW5kb3cuQ29tcG9zaXRpb25FdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRWwoJ2NoYW5nZScsIGlucHV0T25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FbCgnY29tcG9zaXRpb25zdGFydCcsIGlucHV0T25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVsKCdjb21wb3NpdGlvbmVuZCcsIGlucHV0T25Db21wb3NpdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCdvbmlucHV0JyBpbiB0aGlzLmVsKSA/ICdpbnB1dCcgOiAncHJvcGVydHljaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0WFByb3BPdXRwdXRlcih0aGlzLCB4UHJvcCwgZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVsKCdjaGFuZ2UnLCBiaW5kKHhQcm9wT3V0cHV0ZXIsIHRoaXMsIHhQcm9wLCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5lbC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FbCgnY2xpY2snLCBiaW5kKHhQcm9wT3V0cHV0ZXIsIHRoaXMsIHhQcm9wLCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYmluZCBldmVudHNcbiAgICB2YXIgZXZlbnRzID0gaXNDb21wb25lbnRcbiAgICAgICAgPyB0aGlzLmFOb2RlLmV2ZW50cy5jb25jYXQodGhpcy5uYXRpdmVFdmVudHMpXG4gICAgICAgIDogdGhpcy5hTm9kZS5ldmVudHM7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV2ZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGV2ZW50QmluZCA9IGV2ZW50c1tpXTtcbiAgICAgICAgdmFyIG93bmVyID0gaXNDb21wb25lbnQgPyB0aGlzIDogdGhpcy5vd25lcjtcblxuICAgICAgICAvLyDliKTmlq3mmK/lkKbmmK9uYXRpdmVFdmVudO+8jOS4i+mdoueahHdhcm7mlrnms5Xlkozkuovku7bnu5Hlrprpg73pnIDopoFcbiAgICAgICAgLy8g5L6d5q2k5oyH5a6aZXZlbnRCaW5kLmV4cHIubmFtZeS9jeS6jm93bmVy6L+Y5pivb3duZXIub3duZXLkuIpcbiAgICAgICAgaWYgKGV2ZW50QmluZC5tb2RpZmllci5uYXRpdmUpIHtcbiAgICAgICAgICAgIG93bmVyID0gb3duZXIub3duZXI7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5zY29wZSB8fCBvd25lci5kYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gI1tiZWdpbl0gZXJyb3JcbiAgICAgICAgd2FybkV2ZW50TGlzdGVuTWV0aG9kKGV2ZW50QmluZCwgb3duZXIpO1xuICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICB0aGlzLl9vbkVsKFxuICAgICAgICAgICAgZXZlbnRCaW5kLm5hbWUsXG4gICAgICAgICAgICBiaW5kKFxuICAgICAgICAgICAgICAgIGV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBvd25lcixcbiAgICAgICAgICAgICAgICBldmVudEJpbmQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZXZlbnRCaW5kLm1vZGlmaWVyLmNhcHR1cmVcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl90b1BoYXNlKCdhdHRhY2hlZCcpO1xuXG5cbiAgICBpZiAodGhpcy5faXNJbml0RnJvbUVsKSB7XG4gICAgICAgIHRoaXMuX2lzSW5pdEZyb21FbCA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb24gPSBlbGVtZW50R2V0VHJhbnNpdGlvbih0aGlzKTtcbiAgICAgICAgaWYgKHRyYW5zaXRpb24gJiYgdHJhbnNpdGlvbi5lbnRlcikge1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5lbnRlcih0aGlzLmVsLCBlbXB0eSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGVsZW1lbnRPd25BdHRhY2hlZDtcblxuXG4vKipcbiAqIEBmaWxlIOmUgOavgeWFg+e0oOiKgueCuVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuXG4vLyB2YXIgdW4gPSByZXF1aXJlKCcuLi9icm93c2VyL3VuJyk7XG4vLyB2YXIgcmVtb3ZlRWwgPSByZXF1aXJlKCcuLi9icm93c2VyL3JlbW92ZS1lbCcpO1xuLy8gdmFyIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2VsZW1lbnQtZGlzcG9zZS1jaGlsZHJlbicpO1xuLy8gdmFyIG5vZGVEaXNwb3NlID0gcmVxdWlyZSgnLi9ub2RlLWRpc3Bvc2UnKTtcblxuLyoqXG4gKiDplIDmr4HlhYPntKDoioLngrlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDopoHplIDmr4HnmoTlhYPntKDoioLngrlcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyDplIDmr4HooYzkuLrnmoTlj4LmlbBcbiAqL1xuZnVuY3Rpb24gZWxlbWVudERpc3Bvc2UoZWxlbWVudCkge1xuICAgIGVsZW1lbnREaXNwb3NlQ2hpbGRyZW4oZWxlbWVudCwgMSwgMSk7XG5cbiAgICAvLyBlbCDkuovku7bop6Pnu5FcbiAgICB2YXIgbGVuID0gZWxlbWVudC5fZWxGbnMubGVuZ3RoO1xuICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgICB2YXIgZm4gPSBlbGVtZW50Ll9lbEZuc1tsZW5dO1xuICAgICAgICB1bihlbGVtZW50LmVsLCBmblswXSwgZm5bMV0sIGZuWzJdKTtcbiAgICB9XG4gICAgZWxlbWVudC5fZWxGbnMgPSBudWxsO1xuXG5cbiAgICAvLyDlpoLmnpzmsqHmnIlwYXJlbnTvvIzor7TmmI7mmK/kuIDkuKpyb290IGNvbXBvbmVudO+8jOS4gOWumuimgeS7jmRvbeagkeS4rXJlbW92ZVxuICAgIGlmICghZWxlbWVudC5kaXNwb3NlTm9EZXRhY2ggfHwgIWVsZW1lbnQucGFyZW50KSB7XG4gICAgICAgIHJlbW92ZUVsKGVsZW1lbnQuZWwpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50Ll90b1BoYXNlKSB7XG4gICAgICAgIGVsZW1lbnQuX3RvUGhhc2UoJ2RldGFjaGVkJyk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5fc3ByZWFkRGF0YSA9IG51bGw7XG4gICAgbm9kZURpc3Bvc2UoZWxlbWVudCk7XG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudERpc3Bvc2U7XG5cblxuLyoqXG4gKiBAZmlsZSDliJ3lp4vljJYgZWxlbWVudCDoioLngrnnmoQgdGFnTmFtZSDlpITnkIZcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBpZU9sZFRoYW45ID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pZS1vbGQtdGhhbi05Jyk7XG5cbi8qKlxuICog5Yid5aeL5YyWIGVsZW1lbnQg6IqC54K555qEIHRhZ05hbWUg5aSE55CGXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUg6IqC54K55a+56LGhXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRJbml0VGFnTmFtZShub2RlKSB7XG4gICAgbm9kZS50YWdOYW1lID0gbm9kZS50YWdOYW1lIHx8IG5vZGUuYU5vZGUudGFnTmFtZSB8fCAnZGl2JztcblxuICAgIC8vICNbYmVnaW5dIGFsbHVhXG4gICAgLy8gaWU4LSDkuI3mlK/mjIFpbm5lckhUTUzovpPlh7roh6rlrprkuYnmoIfnrb5cbiAgICBpZiAoaWVPbGRUaGFuOSAmJiBub2RlLnRhZ05hbWUuaW5kZXhPZignLScpID4gMCkge1xuICAgICAgICBub2RlLnRhZ05hbWUgPSAnZGl2JztcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZWxlbWVudEluaXRUYWdOYW1lO1xuXG5cbi8qKlxuICogQGZpbGUg57uZIGRldnRvb2wg5Y+R6YCa55+l5raI5oGvXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG5cbi8vICNbYmVnaW5dIGRldnRvb2xcbnZhciBzYW40ZGV2dG9vbDtcblxuLyoqXG4gKiDnu5kgZGV2dG9vbCDlj5HpgJrnn6Xmtojmga9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDmtojmga/lkI3np7BcbiAqIEBwYXJhbSB7Kn0gYXJnIOa2iOaBr+WPguaVsFxuICovXG5mdW5jdGlvbiBlbWl0RGV2dG9vbChuYW1lLCBhcmcpIHtcbiAgICBpZiAoaXNCcm93c2VyICYmIHNhbjRkZXZ0b29sICYmIHNhbjRkZXZ0b29sLmRlYnVnICYmIHdpbmRvdy5fX3Nhbl9kZXZ0b29sX18pIHtcbiAgICAgICAgd2luZG93Ll9fc2FuX2RldnRvb2xfXy5lbWl0KG5hbWUsIGFyZyk7XG4gICAgfVxufVxuXG5lbWl0RGV2dG9vbC5zdGFydCA9IGZ1bmN0aW9uIChtYWluKSB7XG4gICAgc2FuNGRldnRvb2wgPSBtYWluO1xuICAgIGVtaXREZXZ0b29sKCdzYW4nLCBtYWluKTtcbn07XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZW1pdERldnRvb2w7XG5cblxuLyoqXG4gKiBAZmlsZSDnu4Tku7bnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cbi8vIHZhciBiaW5kID0gcmVxdWlyZSgnLi4vdXRpbC9iaW5kJyk7XG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGd1aWQgPSByZXF1aXJlKCcuLi91dGlsL2d1aWQnKTtcbi8vIHZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlsL2V4dGVuZCcpO1xuLy8gdmFyIG5leHRUaWNrID0gcmVxdWlyZSgnLi4vdXRpbC9uZXh0LXRpY2snKTtcbi8vIHZhciB1bmlvbktleXMgPSByZXF1aXJlKCcuLi91dGlsL3VuaW9uLWtleXMnKTtcbi8vIHZhciBlbWl0RGV2dG9vbCA9IHJlcXVpcmUoJy4uL3V0aWwvZW1pdC1kZXZ0b29sJyk7XG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgcGFyc2VFeHByID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLWV4cHInKTtcbi8vIHZhciBjcmVhdGVBY2Nlc3NvciA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYWNjZXNzb3InKTtcbi8vIHZhciBwb3N0UHJvcCA9IHJlcXVpcmUoJy4uL3BhcnNlci9wb3N0LXByb3AnKTtcbi8vIHZhciByZW1vdmVFbCA9IHJlcXVpcmUoJy4uL2Jyb3dzZXIvcmVtb3ZlLWVsJyk7XG4vLyB2YXIgRGF0YSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvZGF0YScpO1xuLy8gdmFyIGV2YWxFeHByID0gcmVxdWlyZSgnLi4vcnVudGltZS9ldmFsLWV4cHInKTtcbi8vIHZhciBjaGFuZ2VFeHByQ29tcGFyZSA9IHJlcXVpcmUoJy4uL3J1bnRpbWUvY2hhbmdlLWV4cHItY29tcGFyZScpO1xuLy8gdmFyIGNvbXBpbGVDb21wb25lbnQgPSByZXF1aXJlKCcuL2NvbXBpbGUtY29tcG9uZW50Jyk7XG4vLyB2YXIgY29tcG9uZW50UHJlaGVhdCA9IHJlcXVpcmUoJy4vY29tcG9uZW50LXByZWhlYXQnKTtcbi8vIHZhciBMaWZlQ3ljbGUgPSByZXF1aXJlKCcuL2xpZmUtY3ljbGUnKTtcbi8vIHZhciBnZXRBTm9kZVByb3AgPSByZXF1aXJlKCcuL2dldC1hLW5vZGUtcHJvcCcpO1xuLy8gdmFyIGlzRGF0YUNoYW5nZUJ5RWxlbWVudCA9IHJlcXVpcmUoJy4vaXMtZGF0YS1jaGFuZ2UtYnktZWxlbWVudCcpO1xuLy8gdmFyIGV2ZW50RGVjbGFyYXRpb25MaXN0ZW5lciA9IHJlcXVpcmUoJy4vZXZlbnQtZGVjbGFyYXRpb24tbGlzdGVuZXInKTtcbi8vIHZhciByZXZlcnNlRWxlbWVudENoaWxkcmVuID0gcmVxdWlyZSgnLi9yZXZlcnNlLWVsZW1lbnQtY2hpbGRyZW4nKTtcbi8vIHZhciBjYW1lbENvbXBvbmVudEJpbmRzID0gcmVxdWlyZSgnLi9jYW1lbC1jb21wb25lbnQtYmluZHMnKTtcbi8vIHZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vbm9kZS10eXBlJyk7XG4vLyB2YXIgZWxlbWVudEluaXRUYWdOYW1lID0gcmVxdWlyZSgnLi9lbGVtZW50LWluaXQtdGFnLW5hbWUnKTtcbi8vIHZhciBlbGVtZW50T3duQXR0YWNoZWQgPSByZXF1aXJlKCcuL2VsZW1lbnQtb3duLWF0dGFjaGVkJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2UgPSByZXF1aXJlKCcuL2VsZW1lbnQtZGlzcG9zZScpO1xuLy8gdmFyIGVsZW1lbnRVcGRhdGVDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC11cGRhdGUtY2hpbGRyZW4nKTtcbi8vIHZhciBlbGVtZW50T3duT25FbCA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tb24tZWwnKTtcbi8vIHZhciBlbGVtZW50T3duQ3JlYXRlID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1jcmVhdGUnKTtcbi8vIHZhciBlbGVtZW50T3duQXR0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1hdHRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGV0YWNoID0gcmVxdWlyZSgnLi9lbGVtZW50LW93bi1kZXRhY2gnKTtcbi8vIHZhciBlbGVtZW50T3duRGlzcG9zZSA9IHJlcXVpcmUoJy4vZWxlbWVudC1vd24tZGlzcG9zZScpO1xuLy8gdmFyIHdhcm5FdmVudExpc3Rlbk1ldGhvZCA9IHJlcXVpcmUoJy4vd2Fybi1ldmVudC1saXN0ZW4tbWV0aG9kJyk7XG4vLyB2YXIgZWxlbWVudERpc3Bvc2VDaGlsZHJlbiA9IHJlcXVpcmUoJy4vZWxlbWVudC1kaXNwb3NlLWNoaWxkcmVuJyk7XG4vLyB2YXIgZWxlbWVudEF0dGFjaCA9IHJlcXVpcmUoJy4vZWxlbWVudC1hdHRhY2gnKTtcbi8vIHZhciBoYW5kbGVQcm9wID0gcmVxdWlyZSgnLi9oYW5kbGUtcHJvcCcpO1xuLy8gdmFyIGNyZWF0ZURhdGFUeXBlc0NoZWNrZXIgPSByZXF1aXJlKCcuLi91dGlsL2NyZWF0ZS1kYXRhLXR5cGVzLWNoZWNrZXInKTtcblxuXG5cbi8qKlxuICog57uE5Lu257G7XG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDliJ3lp4vljJblj4LmlbBcbiAqL1xuZnVuY3Rpb24gQ29tcG9uZW50KG9wdGlvbnMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5saWZlQ3ljbGUgPSBMaWZlQ3ljbGUuc3RhcnQ7XG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuX2VsRm5zID0gW107XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLnNsb3RDaGlsZHJlbiA9IFtdO1xuXG4gICAgdmFyIGNsYXp6ID0gdGhpcy5jb25zdHJ1Y3RvcjtcblxuICAgIHRoaXMuZmlsdGVycyA9IHRoaXMuZmlsdGVycyB8fCBjbGF6ei5maWx0ZXJzIHx8IHt9O1xuICAgIHRoaXMuY29tcHV0ZWQgPSB0aGlzLmNvbXB1dGVkIHx8IGNsYXp6LmNvbXB1dGVkIHx8IHt9O1xuICAgIHRoaXMubWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VzIHx8IGNsYXp6Lm1lc3NhZ2VzIHx8IHt9O1xuICAgIHRoaXMuc3ViVGFnID0gb3B0aW9ucy5zdWJUYWc7XG5cbiAgICAvLyBjb21waWxlXG4gICAgY29tcGlsZUNvbXBvbmVudChjbGF6eik7XG4gICAgY29tcG9uZW50UHJlaGVhdChjbGF6eik7XG5cbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciBwcm90b0FOb2RlID0gY2xhenoucHJvdG90eXBlLmFOb2RlO1xuXG4gICAgbWUuZ2l2ZW5BTm9kZSA9IG9wdGlvbnMuYU5vZGU7XG4gICAgbWUuZ2l2ZW5OYW1lZFNsb3RCaW5kcyA9IFtdO1xuICAgIG1lLmdpdmVuU2xvdHMgPSB7XG4gICAgICAgIG5hbWVkOiB7fVxuICAgIH07XG5cbiAgICB0aGlzLm93bmVyID0gb3B0aW9ucy5vd25lcjtcbiAgICB0aGlzLnNjb3BlID0gb3B0aW9ucy5zY29wZTtcbiAgICB0aGlzLmVsID0gb3B0aW9ucy5lbDtcblxuICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudENvbXBvbmVudCA9IHBhcmVudC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuQ01QVFxuICAgICAgICAgICAgPyBwYXJlbnRcbiAgICAgICAgICAgIDogcGFyZW50ICYmIHBhcmVudC5wYXJlbnRDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgdGhpcy5pZCA9IGd1aWQoKTtcblxuICAgIC8vICNbYmVnaW5dIHJldmVyc2VcbiAgICBpZiAodGhpcy5lbCkge1xuICAgICAgICB2YXIgZmlyc3RDb21tZW50Tm9kZSA9IHRoaXMuZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q29tbWVudE5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIGZpcnN0Q29tbWVudE5vZGUgPSBmaXJzdENvbW1lbnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpcnN0Q29tbWVudE5vZGUgJiYgZmlyc3RDb21tZW50Tm9kZS5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgdmFyIHN0dW1wTWF0Y2ggPSBmaXJzdENvbW1lbnROb2RlLmRhdGEubWF0Y2goL15cXHMqcy1kYXRhOihbXFxzXFxTXSspPyQvKTtcbiAgICAgICAgICAgIGlmIChzdHVtcE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0dW1wVGV4dCA9IHN0dW1wTWF0Y2hbMV07XG5cbiAgICAgICAgICAgICAgICAvLyBmaWxsIGNvbXBvbmVudCBkYXRhXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gKG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgJ3JldHVybiAnICsgc3R1bXBUZXh0LnJlcGxhY2UoL15bXFxzXFxuXSovLCAnJylcbiAgICAgICAgICAgICAgICApKSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Q29tbWVudE5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsKGZpcnN0Q29tbWVudE5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtb3ZlRWwoZmlyc3RDb21tZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICAvLyBuYXRpdmXkuovku7bmlbDnu4RcbiAgICB0aGlzLm5hdGl2ZUV2ZW50cyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuZ2l2ZW5BTm9kZSkge1xuICAgICAgICAvLyDnu4Tku7bov5DooYzml7bkvKDlhaXnmoTnu5PmnoTvvIzlgZpzbG906Kej5p6QXG4gICAgICAgIHRoaXMuX2NyZWF0ZUdpdmVuU2xvdHMoKTtcblxuICAgICAgICBlYWNoKHRoaXMuZ2l2ZW5BTm9kZS5ldmVudHMsIGZ1bmN0aW9uIChldmVudEJpbmQpIHtcbiAgICAgICAgICAgIC8vIOS/neWtmOW9k+WJjeWunuS+i+eahG5hdGl2ZeS6i+S7tu+8jOS4i+mdouWIm+W7umFOb2Rl5pe25YCZ5YGa5ZCI5bm2XG4gICAgICAgICAgICBpZiAoZXZlbnRCaW5kLm1vZGlmaWVyLm5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIG1lLm5hdGl2ZUV2ZW50cy5wdXNoKGV2ZW50QmluZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAgICAgd2FybkV2ZW50TGlzdGVuTWV0aG9kKGV2ZW50QmluZCwgb3B0aW9ucy5vd25lcik7XG4gICAgICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICAgICAgbWUub24oXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kLm5hbWUsXG4gICAgICAgICAgICAgICAgYmluZChldmVudERlY2xhcmF0aW9uTGlzdGVuZXIsIG9wdGlvbnMub3duZXIsIGV2ZW50QmluZCwgMSwgb3B0aW9ucy5zY29wZSksXG4gICAgICAgICAgICAgICAgZXZlbnRCaW5kXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnRhZ05hbWUgPSBwcm90b0FOb2RlLnRhZ05hbWUgfHwgbWUuZ2l2ZW5BTm9kZS50YWdOYW1lO1xuICAgICAgICB0aGlzLmJpbmRzID0gY2FtZWxDb21wb25lbnRCaW5kcyh0aGlzLmdpdmVuQU5vZGUucHJvcHMpO1xuXG4gICAgICAgIC8vIGluaXQgcy1iaW5kIGRhdGFcbiAgICAgICAgaWYgKHRoaXMuZ2l2ZW5BTm9kZS5kaXJlY3RpdmVzLmJpbmQgJiYgdGhpcy5zY29wZSkge1xuICAgICAgICAgICAgdGhpcy5fc3ByZWFkRGF0YSA9IGV2YWxFeHByKHRoaXMuZ2l2ZW5BTm9kZS5kaXJlY3RpdmVzLmJpbmQudmFsdWUsIHRoaXMuc2NvcGUsIHRoaXMub3duZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdG9QaGFzZSgnY29tcGlsZWQnKTtcblxuICAgIC8vIGluaXQgZGF0YVxuICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhKFxuICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy5pbml0RGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLmluaXREYXRhKCkgfHwge30sXG4gICAgICAgICAgICBvcHRpb25zLmRhdGEgfHwgdGhpcy5fc3ByZWFkRGF0YVxuICAgICAgICApXG4gICAgKTtcblxuICAgIGVsZW1lbnRJbml0VGFnTmFtZSh0aGlzKTtcblxuICAgIGVhY2godGhpcy5iaW5kcywgZnVuY3Rpb24gKGJpbmQpIHtcbiAgICAgICAgcG9zdFByb3AoYmluZCk7XG5cbiAgICAgICAgaWYgKG1lLnNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBldmFsRXhwcihiaW5kLmV4cHIsIG1lLnNjb3BlLCBtZS5vd25lcik7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Vjb21mZS9zYW4vaXNzdWVzLzE5MVxuICAgICAgICAgICAgICAgIG1lLmRhdGEuc2V0KGJpbmQubmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIC8vIOWcqOWIneWni+WMliArIOaVsOaNrue7keWumuWQju+8jOW8gOWni+aVsOaNruagoemqjFxuICAgIC8vIE5PVEU6IOWPquWcqOW8gOWPkeeJiOacrOS4rei/m+ihjOWxnuaAp+agoemqjFxuICAgIHZhciBkYXRhVHlwZXMgPSB0aGlzLmRhdGFUeXBlcyB8fCBjbGF6ei5kYXRhVHlwZXM7XG4gICAgaWYgKGRhdGFUeXBlcykge1xuICAgICAgICB2YXIgZGF0YVR5cGVDaGVja2VyID0gY3JlYXRlRGF0YVR5cGVzQ2hlY2tlcihcbiAgICAgICAgICAgIGRhdGFUeXBlcyxcbiAgICAgICAgICAgIHRoaXMuc3ViVGFnIHx8IHRoaXMubmFtZSB8fCBjbGF6ei5uYW1lXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGF0YS5zZXRUeXBlQ2hlY2tlcihkYXRhVHlwZUNoZWNrZXIpO1xuICAgICAgICB0aGlzLmRhdGEuY2hlY2tEYXRhVHlwZXMoKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICB0aGlzLmNvbXB1dGVkRGVwcyA9IHt9O1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGd1YXJkLWZvci1pbiAqL1xuICAgIGZvciAodmFyIGV4cHIgaW4gdGhpcy5jb21wdXRlZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29tcHV0ZWREZXBzW2V4cHJdKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxjQ29tcHV0ZWQoZXhwcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBndWFyZC1mb3ItaW4gKi9cblxuICAgIGlmICghdGhpcy5kYXRhQ2hhbmdlcikge1xuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VyID0gYmluZCh0aGlzLl9kYXRhQ2hhbmdlciwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGF0YS5saXN0ZW4odGhpcy5kYXRhQ2hhbmdlcik7XG4gICAgfVxuICAgIHRoaXMuX3RvUGhhc2UoJ2luaXRlZCcpO1xuXG4gICAgLy8gI1tiZWdpbl0gcmV2ZXJzZVxuICAgIGlmICh0aGlzLmVsKSB7XG4gICAgICAgIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4odGhpcyk7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkKCk7XG4gICAgfVxuXG4gICAgdmFyIHdhbGtlciA9IG9wdGlvbnMucmV2ZXJzZVdhbGtlcjtcbiAgICBpZiAod2Fsa2VyKSB7XG4gICAgICAgIHZhciBjdXJyZW50Tm9kZSA9IHdhbGtlci5jdXJyZW50O1xuICAgICAgICBpZiAoY3VycmVudE5vZGUgJiYgY3VycmVudE5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWwgPSBjdXJyZW50Tm9kZTtcbiAgICAgICAgICAgIHdhbGtlci5nb05leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldmVyc2VFbGVtZW50Q2hpbGRyZW4odGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWQoKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG59XG5cblxuXG5Db21wb25lbnQucHJvdG90eXBlLmdldENvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAoYU5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzW2FOb2RlLnRhZ05hbWVdO1xufTtcblxuLyoqXG4gKiDliJ3lp4vljJbliJvlu7rnu4Tku7blpJbpg6jkvKDlhaXnmoTmj5Lmp73lr7nosaFcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuX2NyZWF0ZUdpdmVuU2xvdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICBtZS5naXZlblNsb3RzLm5hbWVkID0ge307XG5cbiAgICAvLyDnu4Tku7bov5DooYzml7bkvKDlhaXnmoTnu5PmnoTvvIzlgZpzbG906Kej5p6QXG4gICAgbWUuZ2l2ZW5BTm9kZSAmJiBtZS5zY29wZSAmJiBlYWNoKG1lLmdpdmVuQU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgdGFyZ2V0O1xuXG4gICAgICAgIHZhciBzbG90QmluZCA9ICFjaGlsZC50ZXh0RXhwciAmJiBnZXRBTm9kZVByb3AoY2hpbGQsICdzbG90Jyk7XG4gICAgICAgIGlmIChzbG90QmluZCkge1xuICAgICAgICAgICAgIW1lLmdpdmVuU2xvdEluaXRlZCAmJiBtZS5naXZlbk5hbWVkU2xvdEJpbmRzLnB1c2goc2xvdEJpbmQpO1xuXG4gICAgICAgICAgICB2YXIgc2xvdE5hbWUgPSBldmFsRXhwcihzbG90QmluZC5leHByLCBtZS5zY29wZSwgbWUub3duZXIpO1xuICAgICAgICAgICAgdGFyZ2V0ID0gbWUuZ2l2ZW5TbG90cy5uYW1lZFtzbG90TmFtZV07XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG1lLmdpdmVuU2xvdHMubmFtZWRbc2xvdE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW1lLmdpdmVuU2xvdEluaXRlZCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gbWUuZ2l2ZW5TbG90cy5ub25hbWU7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG1lLmdpdmVuU2xvdHMubm9uYW1lID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXQgJiYgdGFyZ2V0LnB1c2goY2hpbGQpO1xuICAgIH0pO1xuXG4gICAgbWUuZ2l2ZW5TbG90SW5pdGVkID0gdHJ1ZTtcbn07XG5cbi8qKlxuICog57G75Z6L5qCH6K+GXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5ub2RlVHlwZSA9IE5vZGVUeXBlLkNNUFQ7XG5cbi8qKlxuICog5Zyo5LiL5LiA5Liq5pu05paw5ZGo5pyf6L+Q6KGM5Ye95pWwXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g6KaB6L+Q6KGM55qE5Ye95pWwXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUubmV4dFRpY2sgPSBuZXh0VGljaztcblxuLyogZXNsaW50LWRpc2FibGUgb3BlcmF0b3ItbGluZWJyZWFrICovXG4vKipcbiAqIOS9v+iKgueCueWIsOi+vuebuOW6lOeahOeUn+WRveWRqOacn1xuICpcbiAqIEBwcm90ZWN0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOeUn+WRveWRqOacn+WQjeensFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLl9jYWxsSG9vayA9XG5Db21wb25lbnQucHJvdG90eXBlLl90b1BoYXNlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIXRoaXMubGlmZUN5Y2xlW25hbWVdKSB7XG4gICAgICAgIHRoaXMubGlmZUN5Y2xlID0gTGlmZUN5Y2xlW25hbWVdIHx8IHRoaXMubGlmZUN5Y2xlO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXNbbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWydfYWZ0ZXInICsgbmFtZV0gPSAxO1xuXG4gICAgICAgIC8vIOmAmuefpWRldnRvb2xcbiAgICAgICAgLy8gI1tiZWdpbl0gZGV2dG9vbFxuICAgICAgICBlbWl0RGV2dG9vbCgnY29tcC0nICsgbmFtZSwgdGhpcyk7XG4gICAgICAgIC8vICNbZW5kXVxuICAgIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlIG9wZXJhdG9yLWxpbmVicmVhayAqL1xuXG5cbi8qKlxuICog5re75Yqg5LqL5Lu255uR5ZCs5ZmoXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5LqL5Lu25ZCNXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciDnm5HlkKzlmahcbiAqIEBwYXJhbSB7c3RyaW5nP30gZGVjbGFyYXRpb24g5aOw5piO5byPXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobmFtZSwgbGlzdGVuZXIsIGRlY2xhcmF0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW25hbWVdLnB1c2goe2ZuOiBsaXN0ZW5lciwgZGVjbGFyYXRpb246IGRlY2xhcmF0aW9ufSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDnp7vpmaTkuovku7bnm5HlkKzlmahcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSDkuovku7blkI1cbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBsaXN0ZW5lciDnm5HlkKzlmahcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS51biA9IGZ1bmN0aW9uIChuYW1lLCBsaXN0ZW5lcikge1xuICAgIHZhciBuYW1lTGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbmFtZV07XG4gICAgdmFyIGxlbiA9IG5hbWVMaXN0ZW5lcnMgJiYgbmFtZUxpc3RlbmVycy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCBsaXN0ZW5lciA9PT0gbmFtZUxpc3RlbmVyc1tsZW5dLmZuKSB7XG4gICAgICAgICAgICBuYW1lTGlzdGVuZXJzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG4vKipcbiAqIOa0vuWPkeS6i+S7tlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOS6i+S7tuWQjVxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IOS6i+S7tuWvueixoVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAobmFtZSwgZXZlbnQpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIGVhY2godGhpcy5saXN0ZW5lcnNbbmFtZV0sIGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lci5mbi5jYWxsKG1lLCBldmVudCk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIOiuoeeulyBjb21wdXRlZCDlsZ7mgKfnmoTlgLxcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXB1dGVkRXhwciBjb21wdXRlZOihqOi+vuW8j+S4slxuICovXG5Db21wb25lbnQucHJvdG90eXBlLl9jYWxjQ29tcHV0ZWQgPSBmdW5jdGlvbiAoY29tcHV0ZWRFeHByKSB7XG4gICAgdmFyIGNvbXB1dGVkRGVwcyA9IHRoaXMuY29tcHV0ZWREZXBzW2NvbXB1dGVkRXhwcl07XG4gICAgaWYgKCFjb21wdXRlZERlcHMpIHtcbiAgICAgICAgY29tcHV0ZWREZXBzID0gdGhpcy5jb21wdXRlZERlcHNbY29tcHV0ZWRFeHByXSA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMuZGF0YS5zZXQoY29tcHV0ZWRFeHByLCB0aGlzLmNvbXB1dGVkW2NvbXB1dGVkRXhwcl0uY2FsbCh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGdldDogYmluZChmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgICAgIC8vICNbYmVnaW5dIGVycm9yXG4gICAgICAgICAgICAgICAgaWYgKCFleHByKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBFUlJPUl0gY2FsbCBnZXQgbWV0aG9kIGluIGNvbXB1dGVkIG5lZWQgYXJndW1lbnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gI1tlbmRdXG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbXB1dGVkRGVwc1tleHByXSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZERlcHNbZXhwcl0gPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXB1dGVkW2V4cHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxjQ29tcHV0ZWQoZXhwcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhdGNoKGV4cHIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGNDb21wdXRlZChjb21wdXRlZEV4cHIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldChleHByKTtcbiAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgIH1cbiAgICB9KSk7XG59O1xuXG4vKipcbiAqIOa0vuWPkea2iOaBr1xuICog57uE5Lu25Y+v5Lul5rS+5Y+R5raI5oGv77yM5raI5oGv5bCG5rK/552A57uE5Lu25qCR5ZCR5LiK5Lyg6YCS77yM55u05Yiw6YGH5LiK56ys5LiA5Liq5aSE55CG5raI5oGv55qE57uE5Lu2XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUg5raI5oGv5ZCN56ewXG4gKiBAcGFyYW0geyo/fSB2YWx1ZSDmtojmga/lgLxcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBwYXJlbnRDb21wb25lbnQgPSB0aGlzLnBhcmVudENvbXBvbmVudDtcblxuICAgIHdoaWxlIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gcGFyZW50Q29tcG9uZW50Lm1lc3NhZ2VzW25hbWVdIHx8IHBhcmVudENvbXBvbmVudC5tZXNzYWdlc1snKiddO1xuICAgICAgICBpZiAodHlwZW9mIHJlY2VpdmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZWNlaXZlci5jYWxsKFxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7dGFyZ2V0OiB0aGlzLCB2YWx1ZTogdmFsdWUsIG5hbWU6IG5hbWV9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnRDb21wb25lbnQgPSBwYXJlbnRDb21wb25lbnQucGFyZW50Q29tcG9uZW50O1xuICAgIH1cbn07XG5cbi8qKlxuICog6I635Y+W57uE5Lu25YaF6YOo55qEIHNsb3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgc2xvdOWQjeensO+8jOepuuS4umRlZmF1bHQgc2xvdFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2xvdCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBjaGlsZHJlblRyYXZlcnNhbChjaGlsZHJlbikge1xuICAgICAgICBlYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuU0xPVCAmJiBjaGlsZC5vd25lciA9PT0gbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuaXNOYW1lZCAmJiBjaGlsZC5uYW1lID09PSBuYW1lXG4gICAgICAgICAgICAgICAgICAgIHx8ICFjaGlsZC5pc05hbWVkICYmICFuYW1lXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlblRyYXZlcnNhbChjaGlsZC5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoaWxkcmVuVHJhdmVyc2FsKHRoaXMuY2hpbGRyZW4pO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIOiOt+WPluW4puaciSBzYW4tcmVmIOaMh+S7pOeahOWtkOe7hOS7tuW8leeUqFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOWtkOe7hOS7tueahOW8leeUqOWQjVxuICogQHJldHVybiB7Q29tcG9uZW50fVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHJlZlRhcmdldDtcbiAgICB2YXIgb3duZXIgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gY2hpbGRyZW5UcmF2ZXJzYWwoY2hpbGRyZW4pIHtcbiAgICAgICAgZWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBlbGVtZW50VHJhdmVyc2FsKGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiAhcmVmVGFyZ2V0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbGVtZW50VHJhdmVyc2FsKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICAgICAgaWYgKG5vZGVUeXBlID09PSBOb2RlVHlwZS5URVhUKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudC5vd25lciA9PT0gb3duZXIpIHtcbiAgICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE5vZGVUeXBlLkVMRU06XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IGVsZW1lbnQuYU5vZGUuZGlyZWN0aXZlcy5yZWY7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWYgJiYgZXZhbEV4cHIocmVmLnZhbHVlLCBlbGVtZW50LnNjb3BlLCBvd25lcikgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZlRhcmdldCA9IGVsZW1lbnQuZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIE5vZGVUeXBlLkNNUFQ6XG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IGVsZW1lbnQuZ2l2ZW5BTm9kZS5kaXJlY3RpdmVzLnJlZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZiAmJiBldmFsRXhwcihyZWYudmFsdWUsIGVsZW1lbnQuc2NvcGUsIG93bmVyKSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmVGFyZ2V0ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAhcmVmVGFyZ2V0ICYmIGNoaWxkcmVuVHJhdmVyc2FsKGVsZW1lbnQuc2xvdENoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgICFyZWZUYXJnZXQgJiYgY2hpbGRyZW5UcmF2ZXJzYWwoZWxlbWVudC5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgY2hpbGRyZW5UcmF2ZXJzYWwodGhpcy5jaGlsZHJlbik7XG5cbiAgICByZXR1cm4gcmVmVGFyZ2V0O1xufTtcblxuXG4vKipcbiAqIOinhuWbvuabtOaWsOWHveaVsFxuICpcbiAqIEBwYXJhbSB7QXJyYXk/fSBjaGFuZ2VzIOaVsOaNruWPmOWMluS/oeaBr1xuICovXG5Db21wb25lbnQucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIGlmICh0aGlzLmxpZmVDeWNsZS5kaXNwb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG1lID0gdGhpcztcblxuXG4gICAgdmFyIG5lZWRSZWxvYWRGb3JTbG90ID0gZmFsc2U7XG4gICAgdGhpcy5fbm90aWZ5TmVlZFJlbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbmVlZFJlbG9hZEZvclNsb3QgPSB0cnVlO1xuICAgIH07XG5cbiAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICB2YXIgYmluZERpcmVjdGl2ZSA9IHRoaXMuZ2l2ZW5BTm9kZS5kaXJlY3RpdmVzLmJpbmQ7XG4gICAgICAgIGlmIChiaW5kRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gY2hhbmdlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAobGVuLS0pIHtcblxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VzW2xlbl0uZXhwciwgYmluZERpcmVjdGl2ZS52YWx1ZSwgdGhpcy5zY29wZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JpbmREYXRhID0gZXZhbEV4cHIoYmluZERpcmVjdGl2ZS52YWx1ZSwgdGhpcy5zY29wZSwgdGhpcy5vd25lcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdW5pb25LZXlzKG5ld0JpbmREYXRhLCB0aGlzLl9zcHJlYWREYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHRoaXMuZ2l2ZW5BTm9kZS5ob3RzcG90LnByb3BzKSAmJiBuZXdCaW5kRGF0YVtrZXldICE9PSB0aGlzLl9zcHJlYWREYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5kYXRhLnNldChrZXksIG5ld0JpbmREYXRhW2tleV0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWUub3duZXIuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3ByZWFkRGF0YSA9IG5ld0JpbmREYXRhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVhY2goY2hhbmdlcywgZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZUV4cHIgPSBjaGFuZ2UuZXhwcjtcblxuICAgICAgICAgICAgZWFjaChtZS5iaW5kcywgZnVuY3Rpb24gKGJpbmRJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbGF0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzZXRFeHByID0gYmluZEl0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRXhwciA9IGJpbmRJdGVtLmV4cHI7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzRGF0YUNoYW5nZUJ5RWxlbWVudChjaGFuZ2UsIG1lLCBzZXRFeHByKVxuICAgICAgICAgICAgICAgICAgICAmJiAocmVsYXRpb24gPSBjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2VFeHByLCB1cGRhdGVFeHByLCBtZS5zY29wZSkpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWxhdGlvbiA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cHIgPSBjcmVhdGVBY2Nlc3NvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEV4cHJUeXBlLlNUUklORyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXRFeHByXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmNvbmNhdChjaGFuZ2VFeHByLnBhdGhzLnNsaWNlKHVwZGF0ZUV4cHIucGF0aHMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUV4cHIgPSBjaGFuZ2VFeHByO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbWUuZGF0YS5zZXQoc2V0RXhwciwgZXZhbEV4cHIodXBkYXRlRXhwciwgbWUuc2NvcGUsIG1lLm93bmVyKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1lLm93bmVyLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlYWNoKG1lLmdpdmVuTmFtZWRTbG90QmluZHMsIGZ1bmN0aW9uIChiaW5kSXRlbSkge1xuICAgICAgICAgICAgICAgIG5lZWRSZWxvYWRGb3JTbG90ID0gbmVlZFJlbG9hZEZvclNsb3QgfHwgY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgYmluZEl0ZW0uZXhwciwgbWUuc2NvcGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhbmVlZFJlbG9hZEZvclNsb3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5lZWRSZWxvYWRGb3JTbG90KSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVHaXZlblNsb3RzKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXBhaW50Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzbG90Q2hpbGRyZW5MZW4gPSB0aGlzLnNsb3RDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoc2xvdENoaWxkcmVuTGVuLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgc2xvdENoaWxkID0gdGhpcy5zbG90Q2hpbGRyZW5bc2xvdENoaWxkcmVuTGVuXTtcblxuICAgICAgICAgICAgICAgIGlmIChzbG90Q2hpbGQubGlmZUN5Y2xlLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xvdENoaWxkcmVuLnNwbGljZShzbG90Q2hpbGRyZW5MZW4sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzbG90Q2hpbGQuaXNJbnNlcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzbG90Q2hpbGQuX3VwZGF0ZShjaGFuZ2VzLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGF0YUNoYW5nZXMgPSB0aGlzLmRhdGFDaGFuZ2VzO1xuICAgIGlmIChkYXRhQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VzID0gbnVsbDtcbiAgICAgICAgZWFjaCh0aGlzLmFOb2RlLmhvdHNwb3QuZHluYW1pY1Byb3BzLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgZWFjaChkYXRhQ2hhbmdlcywgZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgcHJvcC5leHByLCBtZS5kYXRhKVxuICAgICAgICAgICAgICAgICAgICB8fCBwcm9wLmhpbnRFeHByICYmIGNoYW5nZUV4cHJDb21wYXJlKGNoYW5nZS5leHByLCBwcm9wLmhpbnRFeHByLCBtZS5kYXRhKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVQcm9wKG1lLCBldmFsRXhwcihwcm9wLmV4cHIsIG1lLmRhdGEsIG1lKSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFVwZGF0ZUNoaWxkcmVuKHRoaXMsIGRhdGFDaGFuZ2VzKTtcbiAgICAgICAgaWYgKG5lZWRSZWxvYWRGb3JTbG90KSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVHaXZlblNsb3RzKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXBhaW50Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RvUGhhc2UoJ3VwZGF0ZWQnKTtcblxuICAgICAgICBpZiAodGhpcy5vd25lcikge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQmluZHhPd25lcihkYXRhQ2hhbmdlcyk7XG4gICAgICAgICAgICB0aGlzLm93bmVyLl91cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX25vdGlmeU5lZWRSZWxvYWQgPSBudWxsO1xufTtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5fdXBkYXRlQmluZHhPd25lciA9IGZ1bmN0aW9uIChkYXRhQ2hhbmdlcykge1xuICAgIHZhciBtZSA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5vd25lcikge1xuICAgICAgICBlYWNoKGRhdGFDaGFuZ2VzLCBmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgICAgICBlYWNoKG1lLmJpbmRzLCBmdW5jdGlvbiAoYmluZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlRXhwciA9IGNoYW5nZS5leHByO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kSXRlbS54XG4gICAgICAgICAgICAgICAgICAgICYmICFpc0RhdGFDaGFuZ2VCeUVsZW1lbnQoY2hhbmdlLCBtZS5vd25lcilcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXhwckNvbXBhcmUoY2hhbmdlRXhwciwgcGFyc2VFeHByKGJpbmRJdGVtLm5hbWUpLCBtZS5kYXRhKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlU2NvcGVFeHByID0gYmluZEl0ZW0uZXhwcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZUV4cHIucGF0aHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2NvcGVFeHByID0gY3JlYXRlQWNjZXNzb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZEl0ZW0uZXhwci5wYXRocy5jb25jYXQoY2hhbmdlRXhwci5wYXRocy5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBtZS5zY29wZS5zZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTY29wZUV4cHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsRXhwcihjaGFuZ2VFeHByLCBtZS5kYXRhLCBtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcDogYmluZEl0ZW0ubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiDph43mlrDnu5jliLbnu4Tku7bnmoTlhoXlrrlcbiAqIOW9kyBkeW5hbWljIHNsb3QgbmFtZSDlj5HnlJ/lj5jmm7TmiJYgc2xvdCDljLnphY3lj5HnlJ/lj5jljJbml7bvvIzph43mlrDnu5jliLZcbiAqIOWcqOe7hOS7tue6p+WIq+mHjee7mOacieeCueeyl+aatO+8jOS9huaYr+iDveS/neivgeinhuWbvue7k+aenOato+ehruaAp1xuICovXG5Db21wb25lbnQucHJvdG90eXBlLl9yZXBhaW50Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudERpc3Bvc2VDaGlsZHJlbih0aGlzLCAwLCAxKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICB0aGlzLl9jb250ZW50UmVhZHkgPSAwO1xuICAgIHRoaXMuc2xvdENoaWxkcmVuID0gW107XG4gICAgZWxlbWVudEF0dGFjaCh0aGlzKTtcbn07XG5cblxuLyoqXG4gKiDnu4Tku7blhoXpg6jnm5HlkKzmlbDmja7lj5jljJbnmoTlh73mlbBcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IGNoYW5nZSDmlbDmja7lj5jljJbkv6Hmga9cbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5fZGF0YUNoYW5nZXIgPSBmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgaWYgKHRoaXMubGlmZUN5Y2xlLmNyZWF0ZWQgJiYgdGhpcy5fYWZ0ZXJjcmVhdGVkKSB7XG4gICAgICAgIGlmICghdGhpcy5kYXRhQ2hhbmdlcykge1xuICAgICAgICAgICAgbmV4dFRpY2sodGhpcy5fdXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZXMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxpZmVDeWNsZS5pbml0ZWQgJiYgdGhpcy5vd25lcikge1xuICAgICAgICB0aGlzLl91cGRhdGVCaW5keE93bmVyKFtjaGFuZ2VdKTtcbiAgICB9XG59O1xuXG5cbi8qKlxuICog55uR5ZCs57uE5Lu255qE5pWw5o2u5Y+Y5YyWXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFOYW1lIOWPmOWMlueahOaVsOaNrumhuVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIg55uR5ZCs5Ye95pWwXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAoZGF0YU5hbWUsIGxpc3RlbmVyKSB7XG4gICAgdmFyIGRhdGFFeHByID0gcGFyc2VFeHByKGRhdGFOYW1lKTtcblxuICAgIHRoaXMuZGF0YS5saXN0ZW4oYmluZChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICAgIGlmIChjaGFuZ2VFeHByQ29tcGFyZShjaGFuZ2UuZXhwciwgZGF0YUV4cHIsIHRoaXMuZGF0YSkpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgZXZhbEV4cHIoZGF0YUV4cHIsIHRoaXMuZGF0YSwgdGhpcyksIGNoYW5nZSk7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKSk7XG59O1xuXG4vKipcbiAqIOe7hOS7tumUgOavgeeahOihjOS4ulxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOmUgOavgeihjOS4uueahOWPguaVsFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmRpc3Bvc2UgPSBlbGVtZW50T3duRGlzcG9zZTtcblxuQ29tcG9uZW50LnByb3RvdHlwZS5fZG9uZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxlYXZlRGlzcG9zZSkge1xuICAgICAgICBpZiAoIXRoaXMubGlmZUN5Y2xlLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAvLyDov5nph4zkuI3nlKjmjKjkuKrosIPnlKggZGlzcG9zZSDkuobvvIzlm6DkuLogY2hpbGRyZW4g6YeK5pS+6ZO+5Lya6LCD55So55qEXG4gICAgICAgICAgICB0aGlzLnNsb3RDaGlsZHJlbiA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YS51bmxpc3RlbigpO1xuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFuZ2VzID0gbnVsbDtcblxuICAgICAgICAgICAgZWxlbWVudERpc3Bvc2UoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VOb0RldGFjaCxcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VOb1RyYW5zaXRpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZ2l2ZW5BTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdpdmVuU2xvdHMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5naXZlbk5hbWVkU2xvdEJpbmRzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxpZmVDeWNsZS5hdHRhY2hlZCkge1xuICAgICAgICByZW1vdmVFbCh0aGlzLmVsKTtcbiAgICAgICAgdGhpcy5fdG9QaGFzZSgnZGV0YWNoZWQnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIOWujOaIkOe7hOS7tiBhdHRhY2hlZCDlkI7nmoTooYzkuLpcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudCDlhYPntKDoioLngrlcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5fYXR0YWNoZWQgPSBlbGVtZW50T3duQXR0YWNoZWQ7XG5cbkNvbXBvbmVudC5wcm90b3R5cGUuYXR0YWNoID0gZWxlbWVudE93bkF0dGFjaDtcbkNvbXBvbmVudC5wcm90b3R5cGUuZGV0YWNoID0gZWxlbWVudE93bkRldGFjaDtcbkNvbXBvbmVudC5wcm90b3R5cGUuX2NyZWF0ZSA9IGVsZW1lbnRPd25DcmVhdGU7XG5Db21wb25lbnQucHJvdG90eXBlLl9vbkVsID0gZWxlbWVudE93bk9uRWw7XG5cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50O1xuXG5cbi8qKlxuICogQGZpbGUg5Yib5bu657uE5Lu257G7XG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9jb21wb25lbnQnKTtcbi8vIHZhciBpbmhlcml0cyA9IHJlcXVpcmUoJy4uL3V0aWwvaW5oZXJpdHMnKTtcblxuLyoqXG4gKiDliJvlu7rnu4Tku7bnsbtcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8g57uE5Lu257G755qE5pa55rOV6KGoXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KHByb3RvKSB7XG4gICAgLy8g5aaC5p6c5Lyg5YWl5LiA5Liq5LiN5pivIHNhbiBjb21wb25lbnQg55qEIGNvbnN0cnVjdG9y77yM55u05o6l6L+U5Zue5LiN5piv57uE5Lu25p6E6YCg5Ye95pWwXG4gICAgLy8g6L+Z56eN5Zy65pmv5a+86Ie055qE6ZSZ6K+vIHNhbiDkuI3kuojogIPomZFcbiAgICBpZiAodHlwZW9mIHByb3RvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBwcm90bztcbiAgICB9XG5cbiAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgIGlmICh0eXBlb2YgcHJvdG8gIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW1NBTiBGQVRBTF0gcGFyYW0gbXVzdCBiZSBhIHBsYWluIG9iamVjdC4nKTtcbiAgICB9XG4gICAgLy8gI1tlbmRdXG5cbiAgICBmdW5jdGlvbiBDb21wb25lbnRDbGFzcyhvcHRpb24pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICBDb21wb25lbnQuY2FsbCh0aGlzLCBvcHRpb24pO1xuICAgIH1cblxuICAgIENvbXBvbmVudENsYXNzLnByb3RvdHlwZSA9IHByb3RvO1xuICAgIGluaGVyaXRzKENvbXBvbmVudENsYXNzLCBDb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIENvbXBvbmVudENsYXNzO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVDb21wb25lbnQ7XG5cblxuLyoqXG4gKiBAZmlsZSDnvJbor5Hnu4Tku7bnsbtcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGNyZWF0ZUFOb2RlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2NyZWF0ZS1hLW5vZGUnKTtcbi8vIHZhciBwYXJzZVRlbXBsYXRlID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLXRlbXBsYXRlJyk7XG4vLyB2YXIgcGFyc2VUZXh0ID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLXRleHQnKTtcbi8vIHZhciBkZWZpbmVDb21wb25lbnQgPSByZXF1aXJlKCcuL2RlZmluZS1jb21wb25lbnQnKTtcblxuXG4vKipcbiAqIOe8luivkee7hOS7tuexu+OAgumihOino+aekHRlbXBsYXRl5ZKMY29tcG9uZW50c1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IENvbXBvbmVudENsYXNzIOe7hOS7tuexu1xuICovXG5mdW5jdGlvbiBjb21waWxlQ29tcG9uZW50KENvbXBvbmVudENsYXNzKSB7XG4gICAgdmFyIHByb3RvID0gQ29tcG9uZW50Q2xhc3MucHJvdG90eXBlO1xuXG4gICAgLy8gcHJlIGRlZmluZSBjb21wb25lbnRzIGNsYXNzXG4gICAgaWYgKCFwcm90by5oYXNPd25Qcm9wZXJ0eSgnX2NtcHRSZWFkeScpKSB7XG4gICAgICAgIHByb3RvLmNvbXBvbmVudHMgPSBDb21wb25lbnRDbGFzcy5jb21wb25lbnRzIHx8IHByb3RvLmNvbXBvbmVudHMgfHwge307XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gcHJvdG8uY29tcG9uZW50cztcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50cykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50Q2xhc3MgPSBjb21wb25lbnRzW2tleV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50Q2xhc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50c1trZXldID0gZGVmaW5lQ29tcG9uZW50KGNvbXBvbmVudENsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudENsYXNzID09PSAnc2VsZicpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzW2tleV0gPSBDb21wb25lbnRDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RvLl9jbXB0UmVhZHkgPSAxO1xuICAgIH1cblxuXG4gICAgLy8gcHJlIGNvbXBpbGUgdGVtcGxhdGVcbiAgICBpZiAoIXByb3RvLmhhc093blByb3BlcnR5KCdhTm9kZScpKSB7XG4gICAgICAgIHByb3RvLmFOb2RlID0gY3JlYXRlQU5vZGUoKTtcblxuICAgICAgICB2YXIgdHBsID0gQ29tcG9uZW50Q2xhc3MudGVtcGxhdGUgfHwgcHJvdG8udGVtcGxhdGU7XG4gICAgICAgIGlmICh0cGwpIHtcbiAgICAgICAgICAgIHZhciBhTm9kZSA9IHBhcnNlVGVtcGxhdGUodHBsLCB7XG4gICAgICAgICAgICAgICAgdHJpbVdoaXRlc3BhY2U6IHByb3RvLnRyaW1XaGl0ZXNwYWNlIHx8IENvbXBvbmVudENsYXNzLnRyaW1XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgICAgIGRlbGltaXRlcnM6IHByb3RvLmRlbGltaXRlcnMgfHwgQ29tcG9uZW50Q2xhc3MuZGVsaW1pdGVyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IGFOb2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgICAgICAgICAvLyAjW2JlZ2luXSBlcnJvclxuICAgICAgICAgICAgaWYgKGFOb2RlLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBmaXJzdENoaWxkLnRleHRFeHByKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbU0FOIEZBVEFMXSB0ZW1wbGF0ZSBtdXN0IGhhdmUgYSByb290IGVsZW1lbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAjW2VuZF1cblxuICAgICAgICAgICAgcHJvdG8uYU5vZGUgPSBmaXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGQudGFnTmFtZSA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICAgIGZpcnN0Q2hpbGQudGFnTmFtZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb21wb25lbnRQcm9wRXh0cmEgPSB7XG4gICAgICAgICAgICAgICAgJ2NsYXNzJzoge25hbWU6ICdjbGFzcycsIGV4cHI6IHBhcnNlVGV4dCgne3tjbGFzcyB8IF9jbGFzcyB8IF9zZXAoXCIgXCIpfX0nKX0sXG4gICAgICAgICAgICAgICAgJ3N0eWxlJzoge25hbWU6ICdzdHlsZScsIGV4cHI6IHBhcnNlVGV4dCgne3tzdHlsZSB8IF9zdHlsZSB8IF9zZXAoXCI7XCIpfX0nKX0sXG4gICAgICAgICAgICAgICAgJ2lkJzoge25hbWU6ICdpZCcsIGV4cHI6IHBhcnNlVGV4dCgne3tpZH19Jyl9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbGVuID0gZmlyc3RDaGlsZC5wcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGZpcnN0Q2hpbGQucHJvcHNbbGVuXTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBjb21wb25lbnRQcm9wRXh0cmFbcHJvcC5uYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmIChleHRyYSkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdENoaWxkLnByb3BzLnNwbGljZShsZW4sIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wRXh0cmFbcHJvcC5uYW1lXSA9IHByb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AubmFtZSAhPT0gJ2lkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5leHByLnNlZ3MucHVzaChleHRyYS5leHByLnNlZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5leHByLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlyc3RDaGlsZC5wcm9wcy5wdXNoKFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb3BFeHRyYVsnY2xhc3MnXSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9wRXh0cmEuc3R5bGUsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcEV4dHJhLmlkXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjb21waWxlQ29tcG9uZW50O1xuXG5cbi8qKlxuICogQGZpbGUg57uE5Lu26aKE54OtXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgRXhwclR5cGUgPSByZXF1aXJlKCcuLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIGNyZWF0ZUVsID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9jcmVhdGUtZWwnKTtcbi8vIHZhciBnZXRQcm9wSGFuZGxlciA9IHJlcXVpcmUoJy4vZ2V0LXByb3AtaGFuZGxlcicpO1xuLy8gdmFyIGdldEFOb2RlUHJvcCA9IHJlcXVpcmUoJy4vZ2V0LWEtbm9kZS1wcm9wJyk7XG4vLyB2YXIgaXNCcm93c2VyID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9pcy1icm93c2VyJyk7XG5cbi8qKlxuICog57uE5Lu26aKE54Ot77yM5YiG5p6Q57uE5Lu2YU5vZGXnmoTmlbDmja7lvJXnlKjnrYnkv6Hmga9cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbiAqL1xuZnVuY3Rpb24gY29tcG9uZW50UHJlaGVhdChDb21wb25lbnRDbGFzcykge1xuICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgZnVuY3Rpb24gcmVjb3JkSG90c3BvdERhdGEocmVmcywgbm90Q29udGVudERhdGEpIHtcbiAgICAgICAgdmFyIGxlbiA9IHN0YWNrLmxlbmd0aDtcbiAgICAgICAgZWFjaChzdGFjaywgZnVuY3Rpb24gKGFOb2RlLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKCFub3RDb250ZW50RGF0YSB8fCBpbmRleCAhPT0gbGVuIC0gMSkge1xuICAgICAgICAgICAgICAgIGVhY2gocmVmcywgZnVuY3Rpb24gKHJlZikge1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmRhdGFbcmVmXSA9IDE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYW5hbHlzZUFOb2RlSG90c3BvdChhTm9kZSkge1xuICAgICAgICBpZiAoIWFOb2RlLmhvdHNwb3QpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goYU5vZGUpO1xuXG5cbiAgICAgICAgICAgIGlmIChhTm9kZS50ZXh0RXhwcikge1xuICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QgPSB7ZGF0YToge319O1xuICAgICAgICAgICAgICAgIHJlY29yZEhvdHNwb3REYXRhKGFuYWx5c2VFeHByRGF0YUhvdHNwb3QoYU5vZGUudGV4dEV4cHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2VOb2RlO1xuICAgICAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgYU5vZGUudGFnTmFtZSAmJiAhL14odGVtcGxhdGV8c2xvdHxzZWxlY3R8aW5wdXR8b3B0aW9uKSQvaS50ZXN0KGFOb2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZU5vZGUgPSBjcmVhdGVFbChhTm9kZS50YWdOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90ID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZHluYW1pY1Byb3BzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgeFByb3BzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VOb2RlOiBzb3VyY2VOb2RlXG4gICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAgICAgLy8gPT09IGFuYWx5c2UgaG90c3BvdCBkYXRhOiBzdGFydFxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUudmFycywgZnVuY3Rpb24gKHZhckl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkSG90c3BvdERhdGEoYW5hbHlzZUV4cHJEYXRhSG90c3BvdCh2YXJJdGVtLmV4cHIpKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUucHJvcHMsIGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEhvdHNwb3REYXRhKGFuYWx5c2VFeHByRGF0YUhvdHNwb3QocHJvcC5leHByKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBndWFyZC1mb3ItaW4gKi9cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYU5vZGUuZGlyZWN0aXZlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gYU5vZGUuZGlyZWN0aXZlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRIb3RzcG90RGF0YShhbmFseXNlRXhwckRhdGFIb3RzcG90KGRpcmVjdGl2ZS52YWx1ZSksICEvXihodG1sfGJpbmQpJC8udGVzdChrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBndWFyZC1mb3ItaW4gKi9cblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUuZWxzZXMsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmFseXNlQU5vZGVIb3RzcG90KGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBhbmFseXNlQU5vZGVIb3RzcG90KGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IGRhdGE6IGVuZFxuXG5cbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IHByb3BzOiBzdGFydFxuICAgICAgICAgICAgICAgIGVhY2goYU5vZGUucHJvcHMsIGZ1bmN0aW9uIChwcm9wLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LnByb3BzW3Byb3AubmFtZV0gPSBpbmRleDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5uYW1lID09PSAnaWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wLmlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QuaWRQcm9wID0gcHJvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QuZHluYW1pY1Byb3BzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcC5leHByLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJvcEhhbmRsZXIoYU5vZGUudGFnTmFtZSwgcHJvcC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucHJvcChzb3VyY2VOb2RlLCBwcm9wLmV4cHIudmFsdWUsIHByb3AubmFtZSwgYU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QueFByb3BzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZSDkuIvvvIzlpoLmnpwgb3B0aW9uIOayoeaciSB2YWx1ZSDlsZ7mgKfvvIxzZWxlY3QudmFsdWUgPSB4eCDmk43kvZzkuI3kvJrpgInkuK0gb3B0aW9uXG4gICAgICAgICAgICAgICAgLy8g5omA5Lul5rKh5pyJ6K6+572uIHZhbHVlIOaXtu+8jOm7mOiupOaKiiBvcHRpb24g55qE5YaF5a655L2c5Li6IHZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICdvcHRpb24nXG4gICAgICAgICAgICAgICAgICAgICYmICFnZXRBTm9kZVByb3AoYU5vZGUsICd2YWx1ZScpXG4gICAgICAgICAgICAgICAgICAgICYmIGFOb2RlLmNoaWxkcmVuWzBdXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVByb3AgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcjogYU5vZGUuY2hpbGRyZW5bMF0udGV4dEV4cHJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYU5vZGUucHJvcHMucHVzaCh2YWx1ZVByb3ApO1xuICAgICAgICAgICAgICAgICAgICBhTm9kZS5ob3RzcG90LmR5bmFtaWNQcm9wcy5wdXNoKHZhbHVlUHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGFOb2RlLmhvdHNwb3QucHJvcHMudmFsdWUgPSBhTm9kZS5wcm9wcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA9PT0gYW5hbHlzZSBob3RzcG90IHByb3BzOiBlbmRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmFseXNlQU5vZGVIb3RzcG90KENvbXBvbmVudENsYXNzLnByb3RvdHlwZS5hTm9kZSk7XG59XG5cbi8qKlxuICog5YiG5p6Q6KGo6L6+5byP55qE5pWw5o2u5byV55SoXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KaB5YiG5p6Q55qE6KGo6L6+5byPXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gYW5hbHlzZUV4cHJEYXRhSG90c3BvdChleHByKSB7XG4gICAgdmFyIHJlZnMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGFuYWx5c2VFeHBycyhleHBycykge1xuICAgICAgICBlYWNoKGV4cHJzLCBmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgcmVmcyA9IHJlZnMuY29uY2F0KGFuYWx5c2VFeHByRGF0YUhvdHNwb3QoZXhwcikpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGV4cHIudHlwZSkge1xuICAgICAgICBjYXNlIEV4cHJUeXBlLkFDQ0VTU09SOlxuICAgICAgICAgICAgdmFyIHBhdGhzID0gZXhwci5wYXRocztcbiAgICAgICAgICAgIHJlZnMucHVzaChwYXRoc1swXS52YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChwYXRocy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHBhdGhzWzBdLnZhbHVlICsgJy4nICsgKHBhdGhzWzFdLnZhbHVlIHx8ICcqJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhbmFseXNlRXhwcnMocGF0aHMuc2xpY2UoMSkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5VTkFSWTpcbiAgICAgICAgICAgIHJldHVybiBhbmFseXNlRXhwckRhdGFIb3RzcG90KGV4cHIuZXhwcik7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVhUOlxuICAgICAgICBjYXNlIEV4cHJUeXBlLkJJTkFSWTpcbiAgICAgICAgY2FzZSBFeHByVHlwZS5URVJUSUFSWTpcbiAgICAgICAgICAgIGFuYWx5c2VFeHBycyhleHByLnNlZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFeHByVHlwZS5JTlRFUlA6XG4gICAgICAgICAgICByZWZzID0gYW5hbHlzZUV4cHJEYXRhSG90c3BvdChleHByLmV4cHIpO1xuXG4gICAgICAgICAgICBlYWNoKGV4cHIuZmlsdGVycywgZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgICAgIGFuYWx5c2VFeHBycyhmaWx0ZXIubmFtZS5wYXRocyk7XG4gICAgICAgICAgICAgICAgYW5hbHlzZUV4cHJzKGZpbHRlci5hcmdzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBicmVhaztcblxuICAgIH1cblxuICAgIHJldHVybiByZWZzO1xufVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjb21wb25lbnRQcmVoZWF0O1xuXG5cbi8qKlxuICogQGZpbGUg5bCGIGJpbmRzIOeahCBuYW1lIOS7jiBrZWJhYmNhc2Ug6L2s5o2i5oiQIGNhbWVsY2FzZVxuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGtlYmFiMmNhbWVsID0gcmVxdWlyZSgnLi4vdXRpbC9rZWJhYjJjYW1lbCcpO1xuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcblxuLyoqXG4gKiDlsIYgYmluZHMg55qEIG5hbWUg5LuOIGtlYmFiY2FzZSDovazmjaLmiJAgY2FtZWxjYXNlXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYmluZHMgYmluZHPpm4blkIhcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5mdW5jdGlvbiBjYW1lbENvbXBvbmVudEJpbmRzKGJpbmRzKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGVhY2goYmluZHMsIGZ1bmN0aW9uIChiaW5kKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGtlYmFiMmNhbWVsKGJpbmQubmFtZSksXG4gICAgICAgICAgICBleHByOiBiaW5kLmV4cHIsXG4gICAgICAgICAgICB4OiBiaW5kLngsXG4gICAgICAgICAgICByYXc6IGJpbmQucmF3XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY2FtZWxDb21wb25lbnRCaW5kcztcblxuXG4vKipcbiAqIEBmaWxlIOe8luivkea6kOeggeeahCBoZWxwZXIg5pa55rOV6ZuG5ZCIXG4gKiBAYXV0aG9yIGVycm9ycmlrKGVycm9ycmlrQGdtYWlsLmNvbSlcbiAqL1xuXG4vLyB2YXIgZWFjaCA9IHJlcXVpcmUoJy4uL3V0aWwvZWFjaCcpO1xuLy8gdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi4vcGFyc2VyL2V4cHItdHlwZScpO1xuXG4vLyAjW2JlZ2luXSBzc3Jcbi8vIFxuLy8gLyoqXG4vLyAgKiDnvJbor5HmupDnoIHnmoQgaGVscGVyIOaWueazlembhuWQiOWvueixoVxuLy8gICovXG4vLyB2YXIgY29tcGlsZUV4cHJTb3VyY2UgPSB7XG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDlrZfnrKbkuLLlrZfpnaLljJZcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6ZyA6KaB5a2X6Z2i5YyW55qE5a2X56ym5LiyXG4vLyAgICAgICogQHJldHVybiB7c3RyaW5nfSDlrZfnrKbkuLLlrZfpnaLljJbnu5Pmnpxcbi8vICAgICAgKi9cbi8vICAgICBzdHJpbmdMaXRlcmFsaXplOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHJldHVybiAnXCInXG4vLyAgICAgICAgICAgICArIHNvdXJjZVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHg1Qy9nLCAnXFxcXFxcXFwnKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MEEvZywgJ1xcXFxuJylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MDkvZywgJ1xcXFx0Jylcbi8vICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx4MEQvZywgJ1xcXFxyJylcbi8vICAgICAgICAgICAgICAgICAvLyAucmVwbGFjZSggL1xceDA4L2csICdcXFxcYicgKVxuLy8gICAgICAgICAgICAgICAgIC8vIC5yZXBsYWNlKCAvXFx4MEMvZywgJ1xcXFxmJyApXG4vLyAgICAgICAgICAgICArICdcIic7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOeUn+aIkOaVsOaNruiuv+mXruihqOi+vuW8j+S7o+eggVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3Q/fSBhY2Nlc3NvckV4cHIgYWNjZXNzb3Looajovr7lvI/lr7nosaFcbi8vICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgICAgICovXG4vLyAgICAgZGF0YUFjY2VzczogZnVuY3Rpb24gKGFjY2Vzc29yRXhwcikge1xuLy8gICAgICAgICB2YXIgY29kZSA9ICdjb21wb25lbnRDdHguZGF0YSc7XG4vLyAgICAgICAgIGlmIChhY2Nlc3NvckV4cHIpIHtcbi8vICAgICAgICAgICAgIGVhY2goYWNjZXNzb3JFeHByLnBhdGhzLCBmdW5jdGlvbiAocGF0aCkge1xuLy8gICAgICAgICAgICAgICAgIGlmIChwYXRoLnR5cGUgPT09IEV4cHJUeXBlLkFDQ0VTU09SKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gJ1snICsgY29tcGlsZUV4cHJTb3VyY2UuZGF0YUFjY2VzcyhwYXRoKSArICddJztcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHBhdGgudmFsdWUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gJy4nICsgcGF0aC52YWx1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICdbJyArIHBhdGgudmFsdWUgKyAnXSc7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiBjb2RlO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnlJ/miJDmj5LlgLzku6PnoIFcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnRlcnBFeHByIOaPkuWAvOihqOi+vuW8j+WvueixoVxuLy8gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAgICAgKi9cbi8vICAgICBpbnRlcnA6IGZ1bmN0aW9uIChpbnRlcnBFeHByKSB7XG4vLyAgICAgICAgIHZhciBjb2RlID0gY29tcGlsZUV4cHJTb3VyY2UuZXhwcihpbnRlcnBFeHByLmV4cHIpO1xuLy8gXG4vLyBcbi8vICAgICAgICAgZWFjaChpbnRlcnBFeHByLmZpbHRlcnMsIGZ1bmN0aW9uIChmaWx0ZXIpIHtcbi8vICAgICAgICAgICAgIGNvZGUgPSAnY29tcG9uZW50Q3R4LmNhbGxGaWx0ZXIoXCInICsgZmlsdGVyLm5hbWUucGF0aHNbMF0udmFsdWUgKyAnXCIsIFsnICsgY29kZTtcbi8vICAgICAgICAgICAgIGVhY2goZmlsdGVyLmFyZ3MsIGZ1bmN0aW9uIChhcmcpIHtcbi8vICAgICAgICAgICAgICAgICBjb2RlICs9ICcsICcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGFyZyk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgIGNvZGUgKz0gJ10pJztcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgaWYgKCFpbnRlcnBFeHByLm9yaWdpbmFsKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gJ2VzY2FwZUhUTUwoJyArIGNvZGUgKyAnKSc7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gY29kZTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog55Sf5oiQ5paH5pys54mH5q615Luj56CBXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gdGV4dEV4cHIg5paH5pys54mH5q616KGo6L6+5byP5a+56LGhXG4vLyAgICAgICogQHJldHVybiB7c3RyaW5nfVxuLy8gICAgICAqL1xuLy8gICAgIHRleHQ6IGZ1bmN0aW9uICh0ZXh0RXhwcikge1xuLy8gICAgICAgICBpZiAodGV4dEV4cHIuc2Vncy5sZW5ndGggPT09IDApIHtcbi8vICAgICAgICAgICAgIHJldHVybiAnXCJcIic7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICB2YXIgY29kZSA9ICcnO1xuLy8gXG4vLyAgICAgICAgIGVhY2godGV4dEV4cHIuc2VncywgZnVuY3Rpb24gKHNlZykge1xuLy8gICAgICAgICAgICAgdmFyIHNlZ0NvZGUgPSBjb21waWxlRXhwclNvdXJjZS5leHByKHNlZyk7XG4vLyAgICAgICAgICAgICBjb2RlICs9IGNvZGUgPyAnICsgJyArIHNlZ0NvZGUgOiBzZWdDb2RlO1xuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICByZXR1cm4gY29kZTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog55Sf5oiQ5pWw57uE5a2X6Z2i6YeP5Luj56CBXG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJyYXlFeHByIOaVsOe7hOWtl+mdoumHj+ihqOi+vuW8j+WvueixoVxuLy8gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAgICAgKi9cbi8vICAgICBhcnJheTogZnVuY3Rpb24gKGFycmF5RXhwcikge1xuLy8gICAgICAgICB2YXIgY29kZSA9IFtdO1xuLy8gXG4vLyAgICAgICAgIGVhY2goYXJyYXlFeHByLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuLy8gICAgICAgICAgICAgY29kZS5wdXNoKChpdGVtLnNwcmVhZCA/ICcuLi4nIDogJycpICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihpdGVtLmV4cHIpKTtcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgcmV0dXJuICdbXFxuJyArIGNvZGUuam9pbignLFxcbicpICsgJ1xcbl0nO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnlJ/miJDlr7nosaHlrZfpnaLph4/ku6PnoIFcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpFeHByIOWvueixoeWtl+mdoumHj+ihqOi+vuW8j+WvueixoVxuLy8gICAgICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAgICAgKi9cbi8vICAgICBvYmplY3Q6IGZ1bmN0aW9uIChvYmpFeHByKSB7XG4vLyAgICAgICAgIHZhciBjb2RlID0gW107XG4vLyBcbi8vICAgICAgICAgZWFjaChvYmpFeHByLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuLy8gICAgICAgICAgICAgaWYgKGl0ZW0uc3ByZWFkKSB7XG4vLyAgICAgICAgICAgICAgICAgY29kZS5wdXNoKCcuLi4nICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihpdGVtLmV4cHIpKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgIGNvZGUucHVzaChjb21waWxlRXhwclNvdXJjZS5leHByKGl0ZW0ubmFtZSkgKyAnOicgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGl0ZW0uZXhwcikpO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICByZXR1cm4gJ3tcXG4nICsgY29kZS5qb2luKCcsXFxuJykgKyAnXFxufSc7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOS6jOWFg+ihqOi+vuW8j+aTjeS9nOespuaYoOWwhOihqFxuLy8gICAgICAqXG4vLyAgICAgICogQHR5cGUge09iamVjdH1cbi8vICAgICAgKi9cbi8vICAgICBiaW5hcnlPcDoge1xuLy8gICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gICAgICAgICA0MzogJysnLFxuLy8gICAgICAgICA0NTogJy0nLFxuLy8gICAgICAgICA0MjogJyonLFxuLy8gICAgICAgICA0NzogJy8nLFxuLy8gICAgICAgICA2MDogJzwnLFxuLy8gICAgICAgICA2MjogJz4nLFxuLy8gICAgICAgICA3NjogJyYmJyxcbi8vICAgICAgICAgOTQ6ICchPScsXG4vLyAgICAgICAgIDEyMTogJzw9Jyxcbi8vICAgICAgICAgMTIyOiAnPT0nLFxuLy8gICAgICAgICAxMjM6ICc+PScsXG4vLyAgICAgICAgIDE1NTogJyE9PScsXG4vLyAgICAgICAgIDE4MzogJz09PScsXG4vLyAgICAgICAgIDI0ODogJ3x8J1xuLy8gICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOeUn+aIkOihqOi+vuW8j+S7o+eggVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KGo6L6+5byP5a+56LGhXG4vLyAgICAgICogQHJldHVybiB7c3RyaW5nfVxuLy8gICAgICAqL1xuLy8gICAgIGV4cHI6IGZ1bmN0aW9uIChleHByKSB7XG4vLyAgICAgICAgIHN3aXRjaCAoZXhwci50eXBlKSB7XG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlVOQVJZOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiAnIScgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGV4cHIuZXhwcik7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQklOQVJZOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5leHByKGV4cHIuc2Vnc1swXSlcbi8vICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5iaW5hcnlPcFtleHByLm9wZXJhdG9yXVxuLy8gICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZXhwci5zZWdzWzFdKTtcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSBFeHByVHlwZS5URVJUSUFSWTpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZUV4cHJTb3VyY2UuZXhwcihleHByLnNlZ3NbMF0pXG4vLyAgICAgICAgICAgICAgICAgICAgICsgJz8nICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihleHByLnNlZ3NbMV0pXG4vLyAgICAgICAgICAgICAgICAgICAgICsgJzonICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihleHByLnNlZ3NbMl0pO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlNUUklORzpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZUV4cHJTb3VyY2Uuc3RyaW5nTGl0ZXJhbGl6ZShleHByLmxpdGVyYWwgfHwgZXhwci52YWx1ZSk7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuTlVNQkVSOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBleHByLnZhbHVlO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLkJPT0w6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHIudmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLkFDQ0VTU09SOlxuLy8gICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5kYXRhQWNjZXNzKGV4cHIpO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLklOVEVSUDpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZUV4cHJTb3VyY2UuaW50ZXJwKGV4cHIpO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLlRFWFQ6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLnRleHQoZXhwcik7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgRXhwclR5cGUuQVJSQVk6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLmFycmF5KGV4cHIpO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlIEV4cHJUeXBlLk9CSkVDVDpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGlsZUV4cHJTb3VyY2Uub2JqZWN0KGV4cHIpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfTtcbi8vICNbZW5kXVxuXG4vLyBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjb21waWxlRXhwclNvdXJjZTtcblxuXG4vKipcbiAqIEBmaWxlIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlcuexu1xuICogQGF1dGhvciBlcnJvcnJpayhlcnJvcnJpa0BnbWFpbC5jb20pXG4gKi9cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBjb21waWxlRXhwclNvdXJjZSA9IHJlcXVpcmUoJy4vY29tcGlsZS1leHByLXNvdXJjZScpO1xuXG5cbi8vICNbYmVnaW5dIHNzclxuLy8gLyoqXG4vLyAgKiDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXLnsbtcbi8vICAqXG4vLyAgKiBAY2xhc3Ncbi8vICAqL1xuLy8gZnVuY3Rpb24gQ29tcGlsZVNvdXJjZUJ1ZmZlcigpIHtcbi8vICAgICB0aGlzLnNlZ3MgPSBbXTtcbi8vIH1cbi8vIFxuLy8gLyoqXG4vLyAgKiDmt7vliqDljp/lp4vku6PnoIHvvIzlsIbljp/lsIHkuI3liqjovpPlh7pcbi8vICAqXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSDljp/lp4vku6PnoIFcbi8vICAqL1xuLy8gQ29tcGlsZVNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYWRkUmF3ID0gZnVuY3Rpb24gKGNvZGUpIHtcbi8vICAgICB0aGlzLnNlZ3MucHVzaCh7XG4vLyAgICAgICAgIHR5cGU6ICdSQVcnLFxuLy8gICAgICAgICBjb2RlOiBjb2RlXG4vLyAgICAgfSk7XG4vLyB9O1xuLy8gXG4vLyAvKipcbi8vICAqIOa3u+WKoOiiq+aLvOaOpeS4umh0bWznmoTljp/lp4vku6PnoIFcbi8vICAqXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gY29kZSDljp/lp4vku6PnoIFcbi8vICAqL1xuLy8gQ29tcGlsZVNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuam9pblJhdyA9IGZ1bmN0aW9uIChjb2RlKSB7XG4vLyAgICAgdGhpcy5zZWdzLnB1c2goe1xuLy8gICAgICAgICB0eXBlOiAnSk9JTl9SQVcnLFxuLy8gICAgICAgICBjb2RlOiBjb2RlXG4vLyAgICAgfSk7XG4vLyB9O1xuLy8gXG4vLyAvKipcbi8vICAqIOa3u+WKoHJlbmRlcmVy5pa55rOV55qE6LW35aeL5rqQ56CBXG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLmFkZFJlbmRlcmVyU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgdGhpcy5hZGRSYXcoJ2Z1bmN0aW9uIChkYXRhLCBwYXJlbnRDdHgsIGdpdmVuU2xvdHMpIHsnKTtcbi8vICAgICB0aGlzLmFkZFJhdygndmFyIGh0bWwgPSBcIlwiOycpO1xuLy8gfTtcbi8vIFxuLy8gLyoqXG4vLyAgKiDmt7vliqByZW5kZXJlcuaWueazleeahOe7k+adn+a6kOeggVxuLy8gICovXG4vLyBDb21waWxlU291cmNlQnVmZmVyLnByb3RvdHlwZS5hZGRSZW5kZXJlckVuZCA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICB0aGlzLmFkZFJhdygncmV0dXJuIGh0bWw7Jyk7XG4vLyAgICAgdGhpcy5hZGRSYXcoJ30nKTtcbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog5re75Yqg6KKr5ou85o6l5Li6aHRtbOeahOmdmeaAgeWtl+espuS4slxuLy8gICpcbi8vICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIg6KKr5ou85o6l55qE5a2X56ym5LiyXG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLmpvaW5TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4vLyAgICAgdGhpcy5zZWdzLnB1c2goe1xuLy8gICAgICAgICBzdHI6IHN0cixcbi8vICAgICAgICAgdHlwZTogJ0pPSU5fU1RSSU5HJ1xuLy8gICAgIH0pO1xuLy8gfTtcbi8vIFxuLy8gLyoqXG4vLyAgKiDmt7vliqDooqvmi7zmjqXkuLpodG1s55qE5pWw5o2u6K6/6ZeuXG4vLyAgKlxuLy8gICogQHBhcmFtIHtPYmplY3Q/fSBhY2Nlc3NvciDmlbDmja7orr/pl67ooajovr7lvI/lr7nosaFcbi8vICAqL1xuLy8gQ29tcGlsZVNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuam9pbkRhdGFTdHJpbmdpZnkgPSBmdW5jdGlvbiAoKSB7XG4vLyAgICAgdGhpcy5zZWdzLnB1c2goe1xuLy8gICAgICAgICB0eXBlOiAnSk9JTl9EQVRBX1NUUklOR0lGWSdcbi8vICAgICB9KTtcbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog5re75Yqg6KKr5ou85o6l5Li6aHRtbOeahOihqOi+vuW8j1xuLy8gICpcbi8vICAqIEBwYXJhbSB7T2JqZWN0fSBleHByIOihqOi+vuW8j+WvueixoVxuLy8gICovXG4vLyBDb21waWxlU291cmNlQnVmZmVyLnByb3RvdHlwZS5qb2luRXhwciA9IGZ1bmN0aW9uIChleHByKSB7XG4vLyAgICAgdGhpcy5zZWdzLnB1c2goe1xuLy8gICAgICAgICBleHByOiBleHByLFxuLy8gICAgICAgICB0eXBlOiAnSk9JTl9FWFBSJ1xuLy8gICAgIH0pO1xuLy8gfTtcbi8vIFxuLy8gLyoqXG4vLyAgKiDnlJ/miJDnvJbor5HlkI7ku6PnoIFcbi8vICAqXG4vLyAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgKi9cbi8vIENvbXBpbGVTb3VyY2VCdWZmZXIucHJvdG90eXBlLnRvQ29kZSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICB2YXIgY29kZSA9IFtdO1xuLy8gICAgIHZhciB0ZW1wID0gJyc7XG4vLyBcbi8vICAgICBmdW5jdGlvbiBnZW5TdHJMaXRlcmFsKCkge1xuLy8gICAgICAgICBpZiAodGVtcCkge1xuLy8gICAgICAgICAgICAgY29kZS5wdXNoKCdodG1sICs9ICcgKyBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKHRlbXApICsgJzsnKTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHRlbXAgPSAnJztcbi8vICAgICB9XG4vLyBcbi8vICAgICBlYWNoKHRoaXMuc2VncywgZnVuY3Rpb24gKHNlZykge1xuLy8gICAgICAgICBpZiAoc2VnLnR5cGUgPT09ICdKT0lOX1NUUklORycpIHtcbi8vICAgICAgICAgICAgIHRlbXAgKz0gc2VnLnN0cjtcbi8vICAgICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIGdlblN0ckxpdGVyYWwoKTtcbi8vICAgICAgICAgc3dpdGNoIChzZWcudHlwZSkge1xuLy8gICAgICAgICAgICAgY2FzZSAnSk9JTl9EQVRBX1NUUklOR0lGWSc6XG4vLyAgICAgICAgICAgICAgICAgY29kZS5wdXNoKCdodG1sICs9IHN0cmluZ2lmaWVyLmFueSgnICsgY29tcGlsZUV4cHJTb3VyY2UuZGF0YUFjY2VzcygpICsgJyk7Jyk7XG4vLyAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgJ0pPSU5fRVhQUic6XG4vLyAgICAgICAgICAgICAgICAgY29kZS5wdXNoKCdodG1sICs9ICcgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHNlZy5leHByKSArICc7Jyk7XG4vLyAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgJ0pPSU5fUkFXJzpcbi8vICAgICAgICAgICAgICAgICBjb2RlLnB1c2goJ2h0bWwgKz0gJyArIHNlZy5jb2RlICsgJzsnKTtcbi8vICAgICAgICAgICAgICAgICBicmVhaztcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSAnUkFXJzpcbi8vICAgICAgICAgICAgICAgICBjb2RlLnB1c2goc2VnLmNvZGUpO1xuLy8gICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgIH1cbi8vICAgICB9KTtcbi8vIFxuLy8gICAgIGdlblN0ckxpdGVyYWwoKTtcbi8vIFxuLy8gICAgIHJldHVybiBjb2RlLmpvaW4oJ1xcbicpO1xuLy8gfTtcbi8vIFxuLy8gI1tlbmRdXG5cbi8vIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IENvbXBpbGVTb3VyY2VCdWZmZXI7XG5cblxuLyoqXG4gKiBAZmlsZSDlsIbnu4Tku7bnvJbor5HmiJAgcmVuZGVyIOaWueazleeahCBqcyDmupDnoIFcbiAqIEBhdXRob3IgZXJyb3JyaWsoZXJyb3JyaWtAZ21haWwuY29tKVxuICovXG5cblxuLy8gdmFyIGVhY2ggPSByZXF1aXJlKCcuLi91dGlsL2VhY2gnKTtcbi8vIHZhciBndWlkID0gcmVxdWlyZSgnLi4vdXRpbC9ndWlkJyk7XG4vLyB2YXIgcGFyc2VFeHByID0gcmVxdWlyZSgnLi4vcGFyc2VyL3BhcnNlLWV4cHInKTtcbi8vIHZhciBjcmVhdGVBTm9kZSA9IHJlcXVpcmUoJy4uL3BhcnNlci9jcmVhdGUtYS1ub2RlJyk7XG4vLyB2YXIgY2xvbmVEaXJlY3RpdmVzID0gcmVxdWlyZSgnLi4vcGFyc2VyL2Nsb25lLWRpcmVjdGl2ZXMnKTtcbi8vIHZhciBhdXRvQ2xvc2VUYWdzID0gcmVxdWlyZSgnLi4vYnJvd3Nlci9hdXRvLWNsb3NlLXRhZ3MnKTtcbi8vIHZhciBDb21waWxlU291cmNlQnVmZmVyID0gcmVxdWlyZSgnLi9jb21waWxlLXNvdXJjZS1idWZmZXInKTtcbi8vIHZhciBjb21waWxlRXhwclNvdXJjZSA9IHJlcXVpcmUoJy4vY29tcGlsZS1leHByLXNvdXJjZScpO1xuLy8gdmFyIHJpbnNlQ29uZEFOb2RlID0gcmVxdWlyZSgnLi9yaW5zZS1jb25kLWFub2RlJyk7XG4vLyB2YXIgZ2V0QU5vZGVQcm9wID0gcmVxdWlyZSgnLi9nZXQtYS1ub2RlLXByb3AnKTtcblxuLy8gI1tiZWdpbl0gc3NyXG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ5bqP5YiX5YyW5pe26LW35aeL5qGp55qEaHRtbFxuLy8gICpcbi8vICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIOahqeexu+Wei+agh+ivhlxuLy8gICogQHBhcmFtIHtzdHJpbmc/fSBjb250ZW50IOahqeWGheeahOWGheWuuVxuLy8gICogQHJldHVybiB7c3RyaW5nfVxuLy8gICovXG4vLyBmdW5jdGlvbiBzZXJpYWxpemVTdHVtcCh0eXBlLCBjb250ZW50KSB7XG4vLyAgICAgcmV0dXJuICc8IS0tcy0nICsgdHlwZSArIChjb250ZW50ID8gJzonICsgY29udGVudCA6ICcnKSArICctLT4nO1xuLy8gfVxuLy8gXG4vLyAvKipcbi8vICAqIOeUn+aIkOW6j+WIl+WMluaXtue7k+adn+ahqeeahGh0bWxcbi8vICAqXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSDmoannsbvlnovmoIfor4Zcbi8vICAqIEByZXR1cm4ge3N0cmluZ31cbi8vICAqL1xuLy8gZnVuY3Rpb24gc2VyaWFsaXplU3R1bXBFbmQodHlwZSkge1xuLy8gICAgIHJldHVybiAnPCEtLS9zLScgKyB0eXBlICsgJy0tPic7XG4vLyB9XG4vLyBcbi8vIC8qKlxuLy8gICogZWxlbWVudCDnmoTnvJbor5Hmlrnms5Xpm4blkIjlr7nosaFcbi8vICAqXG4vLyAgKiBAaW5uZXJcbi8vICAqL1xuLy8gdmFyIGVsZW1lbnRTb3VyY2VDb21waWxlciA9IHtcbi8vIFxuLy8gICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1wYXJhbXMgKi9cbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5HlhYPntKDmoIfnrb7lpLRcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIOagh+etvuWQjVxuLy8gICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIOWxnuaAp+WIl+ihqFxuLy8gICAgICAqIEBwYXJhbSB7c3RyaW5nP30gZXh0cmFQcm9wIOmineWklueahOWxnuaAp+S4slxuLy8gICAgICAqL1xuLy8gICAgIHRhZ1N0YXJ0OiBmdW5jdGlvbiAoc291cmNlQnVmZmVyLCB0YWdOYW1lLCBwcm9wcywgZXh0cmFQcm9wLCBiaW5kRGlyZWN0aXZlKSB7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCc8JyArIHRhZ05hbWUpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZyhleHRyYVByb3AgfHwgJycpO1xuLy8gXG4vLyAgICAgICAgIC8vIGluZGV4IGxpc3Rcbi8vICAgICAgICAgdmFyIHByb3BzSW5kZXggPSB7fTtcbi8vICAgICAgICAgZWFjaChwcm9wcywgZnVuY3Rpb24gKHByb3ApIHtcbi8vICAgICAgICAgICAgIHByb3BzSW5kZXhbcHJvcC5uYW1lXSA9IHByb3A7XG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIGVhY2gocHJvcHMsIGZ1bmN0aW9uIChwcm9wKSB7XG4vLyAgICAgICAgICAgICBpZiAocHJvcC5uYW1lID09PSAnc2xvdCcpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIGlmIChwcm9wLm5hbWUgPT09ICd2YWx1ZScpIHtcbi8vICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRhZ05hbWUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dGFyZWEnOlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckc2VsZWN0VmFsdWUgPSAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHByb3AuZXhwcilcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcgfHwgXCJcIjsnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ29wdGlvbic6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckb3B0aW9uVmFsdWUgPSAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHByb3AuZXhwcilcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdpZiAoJG9wdGlvblZhbHVlICE9IG51bGwpIHsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdcIiB2YWx1ZT1cXFxcXCJcIiArICRvcHRpb25WYWx1ZSArIFwiXFxcXFwiXCInKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30nKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0ZWRcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2lmICgkb3B0aW9uVmFsdWUgPT09ICRzZWxlY3RWYWx1ZSkgeycpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyBzZWxlY3RlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgc3dpdGNoIChwcm9wLm5hbWUpIHtcbi8vICAgICAgICAgICAgICAgICBjYXNlICdyZWFkb25seSc6XG4vLyAgICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZWQnOlxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ211bHRpcGxlJzpcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AucmF3ID09PSAnJykge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyAnICsgcHJvcC5uYW1lKTtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdib29sQXR0ckZpbHRlcihcIicgKyBwcm9wLm5hbWUgKyAnXCIsICdcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyknXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICh0YWdOYW1lID09PSAnaW5wdXQnKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVQcm9wID0gcHJvcHNJbmRleC52YWx1ZTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUNvZGUgPSBjb21waWxlRXhwclNvdXJjZS5leHByKHZhbHVlUHJvcC5leHByKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlUHJvcCkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcHNJbmRleC50eXBlLnJhdykge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdpZiAoY29udGFpbnMoJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihwcm9wLmV4cHIpXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnLCAnXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyB2YWx1ZUNvZGVcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICcpKSB7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCcgY2hlY2tlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyBcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnaWYgKCdcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyA9PT0gJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgdmFsdWVDb2RlXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnKSB7J1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCcgY2hlY2tlZCcpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AuYXR0cikge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5TdHJpbmcoJyAnICsgcHJvcC5hdHRyKTtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdhdHRyRmlsdGVyKFwiJyArIHByb3AubmFtZSArICdcIiwgJ1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKHByb3AueCA/ICdlc2NhcGVIVE1MKCcgOiAnJylcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIocHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKHByb3AueCA/ICcpJyA6ICcnKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJyknXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICBpZiAoYmluZERpcmVjdGl2ZSkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgICAgICAnKGZ1bmN0aW9uICgkYmluZE9iaikge2ZvciAodmFyICRrZXkgaW4gJGJpbmRPYmopIHsnXG4vLyAgICAgICAgICAgICAgICAgKyAndmFyICR2YWx1ZSA9ICRiaW5kT2JqWyRrZXldOydcbi8vICAgICAgICAgICAgICk7XG4vLyBcbi8vICAgICAgICAgICAgIGlmICh0YWdOYW1lID09PSAndGV4dGFyZWEnKSB7XG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgICAgICAgICAgJ2lmICgka2V5ID09PSBcInZhbHVlXCIpIHsnXG4vLyAgICAgICAgICAgICAgICAgICAgICsgJ2NvbnRpbnVlOydcbi8vICAgICAgICAgICAgICAgICAgICAgKyAnfSdcbi8vICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdzd2l0Y2ggKCRrZXkpIHtcXG4nXG4vLyAgICAgICAgICAgICAgICAgKyAnY2FzZSBcInJlYWRvbmx5XCI6XFxuJ1xuLy8gICAgICAgICAgICAgICAgICsgJ2Nhc2UgXCJkaXNhYmxlZFwiOlxcbidcbi8vICAgICAgICAgICAgICAgICArICdjYXNlIFwibXVsdGlwbGVcIjpcXG4nXG4vLyAgICAgICAgICAgICAgICAgKyAnY2FzZSBcIm11bHRpcGxlXCI6XFxuJ1xuLy8gICAgICAgICAgICAgICAgICsgJ2h0bWwgKz0gYm9vbEF0dHJGaWx0ZXIoJGtleSwgZXNjYXBlSFRNTCgkdmFsdWUpKTtcXG4nXG4vLyAgICAgICAgICAgICAgICAgKyAnYnJlYWs7XFxuJ1xuLy8gICAgICAgICAgICAgICAgICsgJ2RlZmF1bHQ6XFxuJ1xuLy8gICAgICAgICAgICAgICAgICsgJ2h0bWwgKz0gYXR0ckZpbHRlcigka2V5LCBlc2NhcGVIVE1MKCR2YWx1ZSkpOydcbi8vICAgICAgICAgICAgICAgICArICd9J1xuLy8gICAgICAgICAgICAgKTtcbi8vIFxuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgICAgICAnfX0pKCdcbi8vICAgICAgICAgICAgICAgICArIGNvbXBpbGVFeHByU291cmNlLmV4cHIoYmluZERpcmVjdGl2ZS52YWx1ZSlcbi8vICAgICAgICAgICAgICAgICArICcpOydcbi8vICAgICAgICAgICAgICk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZygnPicpO1xuLy8gICAgIH0sXG4vLyAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtcGFyYW1zICovXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5HlhYPntKDpl63lkIhcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIOagh+etvuWQjVxuLy8gICAgICAqL1xuLy8gICAgIHRhZ0VuZDogZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlciwgdGFnTmFtZSkge1xuLy8gICAgICAgICBpZiAoIWF1dG9DbG9zZVRhZ3NbdGFnTmFtZV0pIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCc8LycgKyB0YWdOYW1lICsgJz4nKTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIGlmICh0YWdOYW1lID09PSAnc2VsZWN0Jykge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnJHNlbGVjdFZhbHVlID0gbnVsbDsnKTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIGlmICh0YWdOYW1lID09PSAnb3B0aW9uJykge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnJG9wdGlvblZhbHVlID0gbnVsbDsnKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5HlhYPntKDlhoXlrrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOWFg+e0oOeahOaKveixoeiKgueCueS/oeaBr1xuLy8gICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7blrp7kvovnjq/looNcbi8vICAgICAgKi9cbi8vICAgICBpbm5lcjogZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlciwgYU5vZGUsIG93bmVyKSB7XG4vLyAgICAgICAgIC8vIGlubmVyIGNvbnRlbnRcbi8vICAgICAgICAgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICd0ZXh0YXJlYScpIHtcbi8vICAgICAgICAgICAgIHZhciB2YWx1ZVByb3AgPSBnZXRBTm9kZVByb3AoYU5vZGUsICd2YWx1ZScpO1xuLy8gICAgICAgICAgICAgaWYgKHZhbHVlUHJvcCkge1xuLy8gICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luUmF3KCdlc2NhcGVIVE1MKCdcbi8vICAgICAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHZhbHVlUHJvcC5leHByKVxuLy8gICAgICAgICAgICAgICAgICAgICArICcpJ1xuLy8gICAgICAgICAgICAgICAgICk7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHZhciBodG1sRGlyZWN0aXZlID0gYU5vZGUuZGlyZWN0aXZlcy5odG1sO1xuLy8gICAgICAgICBpZiAoaHRtbERpcmVjdGl2ZSkge1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5FeHByKGh0bWxEaXJlY3RpdmUudmFsdWUpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2Uge1xuLy8gICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbi8vICAgICAgICAgICAgIGVhY2goYU5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uIChhTm9kZUNoaWxkKSB7XG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhhTm9kZUNvbXBpbGVyLmNvbXBpbGUoYU5vZGVDaGlsZCwgc291cmNlQnVmZmVyLCBvd25lcikpO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyB9O1xuLy8gXG4vLyAvKipcbi8vICAqIEFOb2RlIOeahOe8luivkeaWueazlembhuWQiOWvueixoVxuLy8gICpcbi8vICAqIEBpbm5lclxuLy8gICovXG4vLyB2YXIgYU5vZGVDb21waWxlciA9IHtcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkeiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg5oq96LGh6IqC54K5XG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqIEBwYXJhbSB7T2JqZWN0fSBleHRyYSDnvJbor5HmiYDpnIDnmoTkuIDkupvpop3lpJbkv6Hmga9cbi8vICAgICAgKi9cbi8vICAgICBjb21waWxlOiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIsIGV4dHJhKSB7XG4vLyAgICAgICAgIGV4dHJhID0gZXh0cmEgfHwge307XG4vLyAgICAgICAgIHZhciBjb21waWxlTWV0aG9kID0gJ2NvbXBpbGVFbGVtZW50Jztcbi8vIFxuLy8gICAgICAgICBpZiAoYU5vZGUudGV4dEV4cHIpIHtcbi8vICAgICAgICAgICAgIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZVRleHQnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGFOb2RlLmRpcmVjdGl2ZXNbJ2lmJ10pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbi8vICAgICAgICAgICAgIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZUlmJztcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIGlmIChhTm9kZS5kaXJlY3RpdmVzWydmb3InXSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuLy8gICAgICAgICAgICAgY29tcGlsZU1ldGhvZCA9ICdjb21waWxlRm9yJztcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIGlmIChhTm9kZS50YWdOYW1lID09PSAnc2xvdCcpIHtcbi8vICAgICAgICAgICAgIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZVNsb3QnO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGVsc2UgaWYgKGFOb2RlLnRhZ05hbWUgPT09ICd0ZW1wbGF0ZScpIHtcbi8vICAgICAgICAgICAgIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZVRlbXBsYXRlJztcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgIHZhciBDb21wb25lbnRUeXBlID0gb3duZXIuZ2V0Q29tcG9uZW50VHlwZShhTm9kZSk7XG4vLyAgICAgICAgICAgICBpZiAoQ29tcG9uZW50VHlwZSkge1xuLy8gICAgICAgICAgICAgICAgIGNvbXBpbGVNZXRob2QgPSAnY29tcGlsZUNvbXBvbmVudCc7XG4vLyAgICAgICAgICAgICAgICAgZXh0cmEuQ29tcG9uZW50Q2xhc3MgPSBDb21wb25lbnRUeXBlO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgYU5vZGVDb21waWxlcltjb21waWxlTWV0aG9kXShhTm9kZSwgc291cmNlQnVmZmVyLCBvd25lciwgZXh0cmEpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5HmlofmnKzoioLngrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOiKgueCueWvueixoVxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGVUZXh0OiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlcikge1xuLy8gICAgICAgICBpZiAoYU5vZGUudGV4dEV4cHIub3JpZ2luYWwpIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKHNlcmlhbGl6ZVN0dW1wKCd0ZXh0JykpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5FeHByKGFOb2RlLnRleHRFeHByKTtcbi8vIFxuLy8gICAgICAgICBpZiAoYU5vZGUudGV4dEV4cHIub3JpZ2luYWwpIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKHNlcmlhbGl6ZVN0dW1wRW5kKCd0ZXh0JykpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIC8qKlxuLy8gICAgICAqIOe8luivkXRlbXBsYXRl6IqC54K5XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDoioLngrnlr7nosaFcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu25a6e5L6L546v5aKDXG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZVRlbXBsYXRlOiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIpIHtcbi8vICAgICAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLmlubmVyKHNvdXJjZUJ1ZmZlciwgYU5vZGUsIG93bmVyKTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog57yW6K+RIGlmIOiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg6IqC54K55a+56LGhXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGVJZjogZnVuY3Rpb24gKGFOb2RlLCBzb3VyY2VCdWZmZXIsIG93bmVyKSB7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyhmdW5jdGlvbiAoKSB7Jyk7XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyIGlmSW5kZXggPSBudWxsOycpO1xuLy8gXG4vLyAgICAgICAgIC8vIG91dHB1dCBtYWluIGlmXG4vLyAgICAgICAgIHZhciBpZkRpcmVjdGl2ZSA9IGFOb2RlLmRpcmVjdGl2ZXNbJ2lmJ107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2lmICgnICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihpZkRpcmVjdGl2ZS52YWx1ZSkgKyAnKSB7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoXG4vLyAgICAgICAgICAgICBhTm9kZUNvbXBpbGVyLmNvbXBpbGUoXG4vLyAgICAgICAgICAgICAgICAgcmluc2VDb25kQU5vZGUoYU5vZGUpLFxuLy8gICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlcixcbi8vICAgICAgICAgICAgICAgICBvd25lclxuLy8gICAgICAgICAgICAgKVxuLy8gICAgICAgICApO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyBcbi8vICAgICAgICAgLy8gb3V0cHV0IGVsaWYgYW5kIGVsc2Vcbi8vICAgICAgICAgZWFjaChhTm9kZS5lbHNlcywgZnVuY3Rpb24gKGVsc2VBTm9kZSwgaW5kZXgpIHtcbi8vICAgICAgICAgICAgIHZhciBlbGlmRGlyZWN0aXZlID0gZWxzZUFOb2RlLmRpcmVjdGl2ZXMuZWxpZjtcbi8vICAgICAgICAgICAgIGlmIChlbGlmRGlyZWN0aXZlKSB7XG4vLyAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnZWxzZSBpZiAoJyArIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZWxpZkRpcmVjdGl2ZS52YWx1ZSkgKyAnKSB7Jyk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdlbHNlIHsnKTtcbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhcbi8vICAgICAgICAgICAgICAgICBhTm9kZUNvbXBpbGVyLmNvbXBpbGUoXG4vLyAgICAgICAgICAgICAgICAgICAgIHJpbnNlQ29uZEFOb2RlKGVsc2VBTm9kZSksXG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlcixcbi8vICAgICAgICAgICAgICAgICAgICAgb3duZXJcbi8vICAgICAgICAgICAgICAgICApXG4vLyAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9KSgpOycpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5EgZm9yIOiKgueCuVxuLy8gICAgICAqXG4vLyAgICAgICogQHBhcmFtIHtBTm9kZX0gYU5vZGUg6IqC54K55a+56LGhXG4vLyAgICAgICogQHBhcmFtIHtDb21waWxlU291cmNlQnVmZmVyfSBzb3VyY2VCdWZmZXIg57yW6K+R5rqQ56CB55qE5Lit6Ze0YnVmZmVyXG4vLyAgICAgICogQHBhcmFtIHtDb21wb25lbnR9IG93bmVyIOaJgOWxnue7hOS7tuWunuS+i+eOr+Wig1xuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGVGb3I6IGZ1bmN0aW9uIChhTm9kZSwgc291cmNlQnVmZmVyLCBvd25lcikge1xuLy8gICAgICAgICB2YXIgZm9yRWxlbWVudEFOb2RlID0gY3JlYXRlQU5vZGUoe1xuLy8gICAgICAgICAgICAgY2hpbGRyZW46IGFOb2RlLmNoaWxkcmVuLFxuLy8gICAgICAgICAgICAgcHJvcHM6IGFOb2RlLnByb3BzLFxuLy8gICAgICAgICAgICAgZXZlbnRzOiBhTm9kZS5ldmVudHMsXG4vLyAgICAgICAgICAgICB0YWdOYW1lOiBhTm9kZS50YWdOYW1lLFxuLy8gICAgICAgICAgICAgZGlyZWN0aXZlczogY2xvbmVEaXJlY3RpdmVzKGFOb2RlLmRpcmVjdGl2ZXMsIHtcbi8vICAgICAgICAgICAgICAgICAnZm9yJzogMVxuLy8gICAgICAgICAgICAgfSksXG4vLyAgICAgICAgICAgICBob3RzcG90OiBhTm9kZS5ob3RzcG90XG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIHZhciBmb3JEaXJlY3RpdmUgPSBhTm9kZS5kaXJlY3RpdmVzWydmb3InXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbi8vICAgICAgICAgdmFyIGl0ZW1OYW1lID0gZm9yRGlyZWN0aXZlLml0ZW0ucmF3O1xuLy8gICAgICAgICB2YXIgaW5kZXhOYW1lID0gZm9yRGlyZWN0aXZlLmluZGV4LnJhdztcbi8vICAgICAgICAgdmFyIGxpc3ROYW1lID0gY29tcGlsZUV4cHJTb3VyY2UuZGF0YUFjY2Vzcyhmb3JEaXJlY3RpdmUudmFsdWUpO1xuLy8gXG4vLyAgICAgICAgIGlmIChpbmRleE5hbWUgPT09ICckaW5kZXgnKSB7XG4vLyAgICAgICAgICAgICBpbmRleE5hbWUgPSBndWlkKCk7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmb3IgKCdcbi8vICAgICAgICAgICAgICsgJ3ZhciAnICsgaW5kZXhOYW1lICsgJyA9IDA7ICdcbi8vICAgICAgICAgICAgICsgaW5kZXhOYW1lICsgJyA8ICcgKyBsaXN0TmFtZSArICcubGVuZ3RoOyAnXG4vLyAgICAgICAgICAgICArIGluZGV4TmFtZSArICcrKykgeydcbi8vICAgICAgICAgKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnY29tcG9uZW50Q3R4LmRhdGEuJyArIGluZGV4TmFtZSArICc9JyArIGluZGV4TmFtZSArICc7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ2NvbXBvbmVudEN0eC5kYXRhLicgKyBpdGVtTmFtZSArICc9ICcgKyBsaXN0TmFtZSArICdbJyArIGluZGV4TmFtZSArICddOycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KFxuLy8gICAgICAgICAgICAgYU5vZGVDb21waWxlci5jb21waWxlKFxuLy8gICAgICAgICAgICAgICAgIGZvckVsZW1lbnRBTm9kZSxcbi8vICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIsXG4vLyAgICAgICAgICAgICAgICAgb3duZXJcbi8vICAgICAgICAgICAgIClcbi8vICAgICAgICAgKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5Egc2xvdCDoioLngrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOiKgueCueWvueixoVxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7blrp7kvovnjq/looNcbi8vICAgICAgKi9cbi8vICAgICBjb21waWxlU2xvdDogZnVuY3Rpb24gKGFOb2RlLCBzb3VyY2VCdWZmZXIsIG93bmVyKSB7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyhmdW5jdGlvbiAoKSB7Jyk7XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnZnVuY3Rpb24gJGRlZmF1bHRTbG90UmVuZGVyKGNvbXBvbmVudEN0eCkgeycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIHZhciBodG1sID0gXCJcIjsnKTtcbi8vICAgICAgICAgZWFjaChhTm9kZS5jaGlsZHJlbiwgZnVuY3Rpb24gKGFOb2RlQ2hpbGQpIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoYU5vZGVDb21waWxlci5jb21waWxlKGFOb2RlQ2hpbGQsIHNvdXJjZUJ1ZmZlciwgb3duZXIpKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgcmV0dXJuIGh0bWw7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30nKTtcbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIHZhciAkZ2l2ZW5TbG90ID0gW107Jyk7XG4vLyBcbi8vICAgICAgICAgdmFyIG5hbWVQcm9wID0gZ2V0QU5vZGVQcm9wKGFOb2RlLCAnbmFtZScpO1xuLy8gICAgICAgICBpZiAobmFtZVByb3ApIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ3ZhciAkc2xvdE5hbWUgPSAnICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihuYW1lUHJvcC5leHByKSArICc7Jyk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgZWxzZSB7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd2YXIgJHNsb3ROYW1lID0gbnVsbDsnKTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ3ZhciAkY3R4R2l2ZW5TbG90cyA9IGNvbXBvbmVudEN0eC5naXZlblNsb3RzOycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmb3IgKHZhciAkaSA9IDA7ICRpIDwgJGN0eEdpdmVuU2xvdHMubGVuZ3RoOyAkaSsrKSB7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgaWYgKCRjdHhHaXZlblNsb3RzWyRpXVsxXSA9PSAkc2xvdE5hbWUpIHsnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICAgICRnaXZlblNsb3QucHVzaCgkY3R4R2l2ZW5TbG90c1skaV1bMF0pOycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIH0nKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfScpO1xuLy8gXG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRpc0luc2VydGVkID0gJGdpdmVuU2xvdC5sZW5ndGggPiAwOycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdpZiAoISRpc0luc2VydGVkKSB7ICRnaXZlblNsb3QucHVzaCgkZGVmYXVsdFNsb3RSZW5kZXIpOyB9Jyk7XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRzbG90Q3R4ID0gJGlzSW5zZXJ0ZWQgPyBjb21wb25lbnRDdHgub3duZXIgOiBjb21wb25lbnRDdHg7Jyk7XG4vLyAgICAgICAgIGlmIChhTm9kZS52YXJzKSB7XG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckc2xvdEN0eCA9IHtkYXRhOiBleHRlbmQoe30sICRzbG90Q3R4LmRhdGEpLCBmaWx0ZXJzOiAkc2xvdEN0eC5maWx0ZXJzLCBjYWxsRmlsdGVyOiAkc2xvdEN0eC5jYWxsRmlsdGVyfTsnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuLy8gICAgICAgICAgICAgZWFjaChhTm9kZS52YXJzLCBmdW5jdGlvbiAodmFySXRlbSkge1xuLy8gICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoXG4vLyAgICAgICAgICAgICAgICAgICAgICckc2xvdEN0eC5kYXRhW1wiJyArIHZhckl0ZW0ubmFtZSArICdcIl0gPSAnXG4vLyAgICAgICAgICAgICAgICAgICAgICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcih2YXJJdGVtLmV4cHIpXG4vLyAgICAgICAgICAgICAgICAgICAgICsgJzsnXG4vLyAgICAgICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnZm9yICh2YXIgJHJlbmRlckluZGV4ID0gMDsgJHJlbmRlckluZGV4IDwgJGdpdmVuU2xvdC5sZW5ndGg7ICRyZW5kZXJJbmRleCsrKSB7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgaHRtbCArPSAkZ2l2ZW5TbG90WyRyZW5kZXJJbmRleF0oJHNsb3RDdHgpOycpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyBcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfSkoKTsnKTtcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgLyoqXG4vLyAgICAgICog57yW6K+R5pmu6YCa6IqC54K5XG4vLyAgICAgICpcbi8vICAgICAgKiBAcGFyYW0ge0FOb2RlfSBhTm9kZSDoioLngrnlr7nosaFcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gb3duZXIg5omA5bGe57uE5Lu25a6e5L6L546v5aKDXG4vLyAgICAgICogQHBhcmFtIHtPYmplY3R9IGV4dHJhIOe8luivkeaJgOmcgOeahOS4gOS6m+mineWkluS/oeaBr1xuLy8gICAgICAqL1xuLy8gICAgIGNvbXBpbGVFbGVtZW50OiBmdW5jdGlvbiAoYU5vZGUsIHNvdXJjZUJ1ZmZlciwgb3duZXIsIGV4dHJhKSB7XG4vLyAgICAgICAgIGV4dHJhID0gZXh0cmEgfHwge307XG4vLyAgICAgICAgIC8vIGlmIChhTm9kZS50YWdOYW1lID09PSAnb3B0aW9uJ1xuLy8gICAgICAgICAvLyAgICAgJiYgIWdldEFOb2RlUHJvcChhTm9kZSwgJ3ZhbHVlJylcbi8vICAgICAgICAgLy8gICAgICYmIGFOb2RlLmNoaWxkcmVuWzBdXG4vLyAgICAgICAgIC8vICkge1xuLy8gICAgICAgICAvLyAgICAgYU5vZGUucHJvcHMucHVzaCh7XG4vLyAgICAgICAgIC8vICAgICAgICAgbmFtZTogJ3ZhbHVlJyxcbi8vICAgICAgICAgLy8gICAgICAgICBleHByOiBhTm9kZS5jaGlsZHJlblswXS50ZXh0RXhwclxuLy8gICAgICAgICAvLyAgICAgfSk7XG4vLyAgICAgICAgIC8vIH1cbi8vIFxuLy8gICAgICAgICBlbGVtZW50U291cmNlQ29tcGlsZXIudGFnU3RhcnQoXG4vLyAgICAgICAgICAgICBzb3VyY2VCdWZmZXIsXG4vLyAgICAgICAgICAgICBhTm9kZS50YWdOYW1lLFxuLy8gICAgICAgICAgICAgYU5vZGUucHJvcHMsXG4vLyAgICAgICAgICAgICBleHRyYS5wcm9wLFxuLy8gICAgICAgICAgICAgYU5vZGUuZGlyZWN0aXZlcy5iaW5kXG4vLyAgICAgICAgICk7XG4vLyBcbi8vICAgICAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLmlubmVyKHNvdXJjZUJ1ZmZlciwgYU5vZGUsIG93bmVyKTtcbi8vICAgICAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLnRhZ0VuZChzb3VyY2VCdWZmZXIsIGFOb2RlLnRhZ05hbWUpO1xuLy8gICAgIH0sXG4vLyBcbi8vICAgICAvKipcbi8vICAgICAgKiDnvJbor5Hnu4Tku7boioLngrlcbi8vICAgICAgKlxuLy8gICAgICAqIEBwYXJhbSB7QU5vZGV9IGFOb2RlIOiKgueCueWvueixoVxuLy8gICAgICAqIEBwYXJhbSB7Q29tcGlsZVNvdXJjZUJ1ZmZlcn0gc291cmNlQnVmZmVyIOe8luivkea6kOeggeeahOS4remXtGJ1ZmZlclxuLy8gICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBvd25lciDmiYDlsZ7nu4Tku7blrp7kvovnjq/looNcbi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXh0cmEg57yW6K+R5omA6ZyA55qE5LiA5Lqb6aKd5aSW5L+h5oGvXG4vLyAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXh0cmEuQ29tcG9uZW50Q2xhc3Mg5a+55bqU57uE5Lu257G7XG4vLyAgICAgICovXG4vLyAgICAgY29tcGlsZUNvbXBvbmVudDogZnVuY3Rpb24gKGFOb2RlLCBzb3VyY2VCdWZmZXIsIG93bmVyLCBleHRyYSkge1xuLy8gICAgICAgICBpZiAoYU5vZGUpIHtcbi8vICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ3ZhciAkc2xvdE5hbWUgPSBudWxsOycpO1xuLy8gICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygndmFyICRnaXZlblNsb3RzID0gW107Jyk7XG4vLyAgICAgICAgICAgICBlYWNoKGFOb2RlLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbi8vICAgICAgICAgICAgICAgICB2YXIgc2xvdEJpbmQgPSAhY2hpbGQudGV4dEV4cHIgJiYgZ2V0QU5vZGVQcm9wKGNoaWxkLCAnc2xvdCcpO1xuLy8gICAgICAgICAgICAgICAgIGlmIChzbG90QmluZCkge1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCckc2xvdE5hbWUgPSAnICsgY29tcGlsZUV4cHJTb3VyY2UuZXhwcihzbG90QmluZC5leHByKSArICc7Jyk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyRnaXZlblNsb3RzLnB1c2goW2Z1bmN0aW9uIChjb21wb25lbnRDdHgpIHsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICB2YXIgaHRtbCA9IFwiXCI7Jyk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoYU5vZGVDb21waWxlci5jb21waWxlKGNoaWxkLCBzb3VyY2VCdWZmZXIsIG93bmVyKSk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyAgcmV0dXJuIGh0bWw7Jyk7XG4vLyAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJ30sICRzbG90TmFtZV0pOycpO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgICBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnJGdpdmVuU2xvdHMucHVzaChbZnVuY3Rpb24gKGNvbXBvbmVudEN0eCkgeycpO1xuLy8gICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIHZhciBodG1sID0gXCJcIjsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhhTm9kZUNvbXBpbGVyLmNvbXBpbGUoY2hpbGQsIHNvdXJjZUJ1ZmZlciwgb3duZXIpKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICByZXR1cm4gaHRtbDsnKTtcbi8vICAgICAgICAgICAgICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnfV0pOycpO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgdmFyIENvbXBvbmVudENsYXNzID0gZXh0cmEuQ29tcG9uZW50Q2xhc3M7XG4vLyAgICAgICAgIHZhciBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50Q2xhc3Moe1xuLy8gICAgICAgICAgICAgYU5vZGU6IGFOb2RlLFxuLy8gICAgICAgICAgICAgb3duZXI6IG93bmVyLFxuLy8gICAgICAgICAgICAgc3ViVGFnOiBhTm9kZS50YWdOYW1lXG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIHZhciBnaXZlbkRhdGEgPSBbXTtcbi8vIFxuLy8gICAgICAgICBlYWNoKGNvbXBvbmVudC5iaW5kcywgZnVuY3Rpb24gKHByb3ApIHtcbi8vICAgICAgICAgICAgIGdpdmVuRGF0YS5wdXNoKFxuLy8gICAgICAgICAgICAgICAgIGNvbXBpbGVFeHByU291cmNlLnN0cmluZ0xpdGVyYWxpemUocHJvcC5uYW1lKVxuLy8gICAgICAgICAgICAgICAgICsgJzonXG4vLyAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKHByb3AuZXhwcilcbi8vICAgICAgICAgICAgICk7XG4vLyAgICAgICAgIH0pO1xuLy8gXG4vLyAgICAgICAgIHZhciBnaXZlbkRhdGFIVE1MID0gJ3snICsgZ2l2ZW5EYXRhLmpvaW4oJyxcXG4nKSArICd9Jztcbi8vICAgICAgICAgaWYgKGFOb2RlLmRpcmVjdGl2ZXMuYmluZCl7XG4vLyAgICAgICAgICAgICBnaXZlbkRhdGFIVE1MID0gJ2V4dGVuZCgnXG4vLyAgICAgICAgICAgICAgICAgKyBjb21waWxlRXhwclNvdXJjZS5leHByKGFOb2RlLmRpcmVjdGl2ZXMuYmluZC52YWx1ZSlcbi8vICAgICAgICAgICAgICAgICAgKyAnLCAnXG4vLyAgICAgICAgICAgICAgICAgKyBnaXZlbkRhdGFIVE1MXG4vLyAgICAgICAgICAgICAgICAgKyAnKSc7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdodG1sICs9ICgnKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmFkZFJlbmRlcmVyU3RhcnQoKTtcbi8vICAgICAgICAgY29tcGlsZUNvbXBvbmVudFNvdXJjZShzb3VyY2VCdWZmZXIsIGNvbXBvbmVudCwgZXh0cmEgJiYgZXh0cmEucHJvcCk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSZW5kZXJlckVuZCgpO1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcpKCcgKyBnaXZlbkRhdGFIVE1MICsgJywgY29tcG9uZW50Q3R4LCAkZ2l2ZW5TbG90cyk7Jyk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5hZGRSYXcoJyRnaXZlblNsb3RzID0gbnVsbDsnKTtcbi8vICAgICB9XG4vLyB9O1xuLy8gLyogZXNsaW50LWRpc2FibGUgZ3VhcmQtZm9yLWluICovXG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ57uE5Lu2IHJlbmRlcmVyIOaXtiBjdHgg5a+56LGh5p6E5bu655qE5Luj56CBXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKiBAcGFyYW0ge0NvbXBpbGVTb3VyY2VCdWZmZXJ9IHNvdXJjZUJ1ZmZlciDnvJbor5HmupDnoIHnmoTkuK3pl7RidWZmZXJcbi8vICAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnQg57uE5Lu25a6e5L6LXG4vLyAgKiBAcGFyYW0ge3N0cmluZz99IGV4dHJhUHJvcCDpop3lpJbnmoTlsZ7mgKfkuLJcbi8vICAqL1xuLy8gZnVuY3Rpb24gY29tcGlsZUNvbXBvbmVudFNvdXJjZShzb3VyY2VCdWZmZXIsIGNvbXBvbmVudCwgZXh0cmFQcm9wKSB7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdyhnZW5Db21wb25lbnRDb250ZXh0Q29kZShjb21wb25lbnQpKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdjb21wb25lbnRDdHgub3duZXIgPSBwYXJlbnRDdHg7Jyk7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnY29tcG9uZW50Q3R4LmdpdmVuU2xvdHMgPSBnaXZlblNsb3RzOycpO1xuLy8gXG4vLyBcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdkYXRhID0gZXh0ZW5kKGNvbXBvbmVudEN0eC5kYXRhLCBkYXRhKTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCdmb3IgKHZhciAkaSA9IDA7ICRpIDwgY29tcG9uZW50Q3R4LmNvbXB1dGVkTmFtZXMubGVuZ3RoOyAkaSsrKSB7Jyk7XG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJhdygnICB2YXIgJGNvbXB1dGVkTmFtZSA9IGNvbXBvbmVudEN0eC5jb21wdXRlZE5hbWVzWyRpXTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCcgIGRhdGFbJGNvbXB1dGVkTmFtZV0gPSBjb21wb25lbnRDdHguY29tcHV0ZWRbJGNvbXB1dGVkTmFtZV0oKTsnKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KCd9Jyk7XG4vLyBcbi8vICAgICBleHRyYVByb3AgPSBleHRyYVByb3AgfHwgJyc7XG4vLyBcbi8vICAgICB2YXIgZXZlbnREZWNsYXJhdGlvbnMgPSBbXTtcbi8vICAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50Lmxpc3RlbmVycykge1xuLy8gICAgICAgICBlYWNoKGNvbXBvbmVudC5saXN0ZW5lcnNba2V5XSwgZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4vLyAgICAgICAgICAgICBpZiAobGlzdGVuZXIuZGVjbGFyYXRpb24pIHtcbi8vICAgICAgICAgICAgICAgICBldmVudERlY2xhcmF0aW9ucy5wdXNoKGxpc3RlbmVyLmRlY2xhcmF0aW9uKTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLnRhZ1N0YXJ0KFxuLy8gICAgICAgICBzb3VyY2VCdWZmZXIsXG4vLyAgICAgICAgIGNvbXBvbmVudC50YWdOYW1lLFxuLy8gICAgICAgICBjb21wb25lbnQuYU5vZGUucHJvcHMsXG4vLyAgICAgICAgIGV4dHJhUHJvcCxcbi8vICAgICAgICAgY29tcG9uZW50LmFOb2RlLmRpcmVjdGl2ZXMuYmluZFxuLy8gICAgICk7XG4vLyBcbi8vICAgICBpZiAoIWNvbXBvbmVudC5vd25lcikge1xuLy8gICAgICAgICBzb3VyY2VCdWZmZXIuam9pblN0cmluZygnPCEtLXMtZGF0YTonKTtcbi8vICAgICAgICAgc291cmNlQnVmZmVyLmpvaW5EYXRhU3RyaW5naWZ5KCk7XG4vLyAgICAgICAgIHNvdXJjZUJ1ZmZlci5qb2luU3RyaW5nKCctLT4nKTtcbi8vICAgICB9XG4vLyBcbi8vIFxuLy8gXG4vLyAgICAgZWxlbWVudFNvdXJjZUNvbXBpbGVyLmlubmVyKHNvdXJjZUJ1ZmZlciwgY29tcG9uZW50LmFOb2RlLCBjb21wb25lbnQpO1xuLy8gICAgIGVsZW1lbnRTb3VyY2VDb21waWxlci50YWdFbmQoc291cmNlQnVmZmVyLCBjb21wb25lbnQudGFnTmFtZSk7XG4vLyB9XG4vLyBcbi8vIHZhciBzdHJpbmdpZmllciA9IHtcbi8vICAgICBvYmo6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgdmFyIHByZWZpeENvbW1hO1xuLy8gICAgICAgICB2YXIgcmVzdWx0ID0gJ3snO1xuLy8gXG4vLyAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4vLyAgICAgICAgICAgICAgICAgY29udGludWU7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIGlmIChwcmVmaXhDb21tYSkge1xuLy8gICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLCc7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBwcmVmaXhDb21tYSA9IDE7XG4vLyBcbi8vICAgICAgICAgICAgIHJlc3VsdCArPSBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKGtleSkgKyAnOicgKyBzdHJpbmdpZmllci5hbnkoc291cmNlW2tleV0pO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdCArICd9Jztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgYXJyOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHZhciBwcmVmaXhDb21tYTtcbi8vICAgICAgICAgdmFyIHJlc3VsdCA9ICdbJztcbi8vIFxuLy8gICAgICAgICBlYWNoKHNvdXJjZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4vLyAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJywnO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5naWZpZXIuYW55KHZhbHVlKTtcbi8vICAgICAgICAgfSk7XG4vLyBcbi8vICAgICAgICAgcmV0dXJuIHJlc3VsdCArICddJztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgc3RyOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHJldHVybiBjb21waWxlRXhwclNvdXJjZS5zdHJpbmdMaXRlcmFsaXplKHNvdXJjZSk7XG4vLyAgICAgfSxcbi8vIFxuLy8gICAgIGRhdGU6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgcmV0dXJuICduZXcgRGF0ZSgnICsgc291cmNlLmdldFRpbWUoKSArICcpJztcbi8vICAgICB9LFxuLy8gXG4vLyAgICAgYW55OiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZXIuc3RyKHNvdXJjZSk7XG4vLyBcbi8vICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuICcnICsgc291cmNlO1xuLy8gXG4vLyAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlID8gJ3RydWUnIDogJ2ZhbHNlJztcbi8vIFxuLy8gICAgICAgICAgICAgY2FzZSAnb2JqZWN0Jzpcbi8vICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLmFycihzb3VyY2UpO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBEYXRlKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5kYXRlKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLm9iaihzb3VyY2UpO1xuLy8gICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgU3RyaW5naWZ5OicgKyBzb3VyY2UpO1xuLy8gICAgIH1cbi8vIH07XG4vLyBcbi8vIC8qKlxuLy8gICog55Sf5oiQ57uE5Lu2IHJlbmRlcmVyIOaXtiBjdHgg5a+56LGh5p6E5bu655qE5Luj56CBXG4vLyAgKlxuLy8gICogQGlubmVyXG4vLyAgKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50IOe7hOS7tuWunuS+i1xuLy8gICogQHJldHVybiB7c3RyaW5nfVxuLy8gICovXG4vLyBmdW5jdGlvbiBnZW5Db21wb25lbnRDb250ZXh0Q29kZShjb21wb25lbnQpIHtcbi8vICAgICB2YXIgY29kZSA9IFsndmFyIGNvbXBvbmVudEN0eCA9IHsnXTtcbi8vIFxuLy8gICAgIC8vIGdpdmVuIGFub2RlXG4vLyAgICAgY29kZS5wdXNoKCdnaXZlblNsb3RzOiBbXSwnKTtcbi8vIFxuLy8gICAgIC8vIGZpbHRlcnNcbi8vICAgICBjb2RlLnB1c2goJ2ZpbHRlcnM6IHsnKTtcbi8vICAgICB2YXIgZmlsdGVyQ29kZSA9IFtdO1xuLy8gICAgIGZvciAodmFyIGtleSBpbiBjb21wb25lbnQuZmlsdGVycykge1xuLy8gICAgICAgICB2YXIgZmlsdGVyID0gY29tcG9uZW50LmZpbHRlcnNba2V5XTtcbi8vIFxuLy8gICAgICAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuLy8gICAgICAgICAgICAgZmlsdGVyQ29kZS5wdXNoKGtleSArICc6ICcgKyBmaWx0ZXIudG9TdHJpbmcoKSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9XG4vLyAgICAgY29kZS5wdXNoKGZpbHRlckNvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ30sJyk7XG4vLyBcbi8vICAgICBjb2RlLnB1c2goXG4vLyAgICAgICAgICdjYWxsRmlsdGVyOiBmdW5jdGlvbiAobmFtZSwgYXJncykgeycsXG4vLyAgICAgICAgICcgICAgdmFyIGZpbHRlciA9IHRoaXMuZmlsdGVyc1tuYW1lXSB8fCBERUZBVUxUX0ZJTFRFUlNbbmFtZV07Jyxcbi8vICAgICAgICAgJyAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gXCJmdW5jdGlvblwiKSB7Jyxcbi8vICAgICAgICAgJyAgICAgICAgcmV0dXJuIGZpbHRlci5hcHBseSh0aGlzLCBhcmdzKTsnLFxuLy8gICAgICAgICAnICAgIH0nLFxuLy8gICAgICAgICAnfSwnXG4vLyAgICAgKTtcbi8vIFxuLy8gICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXJlZGVjbGFyZSAqL1xuLy8gICAgIC8vIGNvbXB1dGVkIG9ialxuLy8gICAgIGNvZGUucHVzaCgnY29tcHV0ZWQ6IHsnKTtcbi8vICAgICB2YXIgY29tcHV0ZWRDb2RlID0gW107XG4vLyAgICAgZm9yICh2YXIga2V5IGluIGNvbXBvbmVudC5jb21wdXRlZCkge1xuLy8gICAgICAgICB2YXIgY29tcHV0ZWQgPSBjb21wb25lbnQuY29tcHV0ZWRba2V5XTtcbi8vIFxuLy8gICAgICAgICBpZiAodHlwZW9mIGNvbXB1dGVkID09PSAnZnVuY3Rpb24nKSB7XG4vLyAgICAgICAgICAgICBjb21wdXRlZENvZGUucHVzaChrZXkgKyAnOiAnXG4vLyAgICAgICAgICAgICAgICAgKyBjb21wdXRlZC50b1N0cmluZygpLnJlcGxhY2UoXG4vLyAgICAgICAgICAgICAgICAgICAgIC90aGlzLmRhdGEuZ2V0XFwoKFteXFwpXSspXFwpL2csXG4vLyAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtYXRjaCwgZXhwckxpdGVyYWwpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHByU3RyID0gKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBleHByTGl0ZXJhbCkpKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwciA9IHBhcnNlRXhwcihleHByU3RyKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVFeHByU291cmNlLmV4cHIoZXhwcik7XG4vLyAgICAgICAgICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgICApO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gICAgIGNvZGUucHVzaChjb21wdXRlZENvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ30sJyk7XG4vLyBcbi8vICAgICAvLyBjb21wdXRlZCBuYW1lc1xuLy8gICAgIGNvZGUucHVzaCgnY29tcHV0ZWROYW1lczogWycpO1xuLy8gICAgIGNvbXB1dGVkQ29kZSA9IFtdO1xuLy8gICAgIGZvciAodmFyIGtleSBpbiBjb21wb25lbnQuY29tcHV0ZWQpIHtcbi8vICAgICAgICAgdmFyIGNvbXB1dGVkID0gY29tcG9uZW50LmNvbXB1dGVkW2tleV07XG4vLyBcbi8vICAgICAgICAgaWYgKHR5cGVvZiBjb21wdXRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuLy8gICAgICAgICAgICAgY29tcHV0ZWRDb2RlLnB1c2goJ1wiJyArIGtleSArICdcIicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gICAgIGNvZGUucHVzaChjb21wdXRlZENvZGUuam9pbignLCcpKTtcbi8vICAgICBjb2RlLnB1c2goJ10sJyk7XG4vLyAgICAgLyogZXNsaW50LWVuYWJsZSBuby1yZWRlY2xhcmUgKi9cbi8vIFxuLy8gICAgIC8vIGRhdGFcbi8vICAgICBjb2RlLnB1c2goJ2RhdGE6ICcgKyBzdHJpbmdpZmllci5hbnkoY29tcG9uZW50LmRhdGEuZ2V0KCkpICsgJywnKTtcbi8vIFxuLy8gICAgIC8vIHRhZ05hbWVcbi8vICAgICBjb2RlLnB1c2goJ3RhZ05hbWU6IFwiJyArIGNvbXBvbmVudC50YWdOYW1lICsgJ1wiJyk7XG4vLyAgICAgY29kZS5wdXNoKCd9OycpO1xuLy8gXG4vLyAgICAgcmV0dXJuIGNvZGUuam9pbignXFxuJyk7XG4vLyB9XG4vLyBcbi8vIC8qIGVzbGludC1lbmFibGUgZ3VhcmQtZm9yLWluICovXG4vLyBcbi8vIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vLyAvKiBlc2xpbnQtZGlzYWJsZSBmZWNzLWNhbWVsY2FzZSAqL1xuLy8gXG4vLyAvKipcbi8vICAqIOe7hOS7tue8luivkeeahOaooeadv+WHveaVsFxuLy8gICpcbi8vICAqIEBpbm5lclxuLy8gICovXG4vLyBmdW5jdGlvbiBjb21wb25lbnRDb21waWxlUHJlQ29kZSgpIHtcbi8vICAgICB2YXIgJHZlcnNpb24gPSAnMy41LjknO1xuLy8gXG4vLyAgICAgZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4vLyAgICAgICAgIGlmIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4vLyAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gc291cmNlW2tleV07XG4vLyAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gZWFjaChhcnJheSwgaXRlcmF0b3IpIHtcbi8vICAgICAgICAgaWYgKGFycmF5ICYmIGFycmF5Lmxlbmd0aCA+IDApIHtcbi8vICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4vLyAgICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yKGFycmF5W2ldLCBpKSA9PT0gZmFsc2UpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gY29udGFpbnMoYXJyYXksIHZhbHVlKSB7XG4vLyAgICAgICAgIHZhciByZXN1bHQ7XG4vLyAgICAgICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7XG4vLyAgICAgICAgICAgICByZXN1bHQgPSBpdGVtID09PSB2YWx1ZTtcbi8vICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0O1xuLy8gICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICByZXR1cm4gcmVzdWx0O1xuLy8gICAgIH1cbi8vIFxuLy8gICAgIHZhciBIVE1MX0VOVElUWSA9IHtcbi8vICAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuLy8gICAgICAgICAnJic6ICcmYW1wOycsXG4vLyAgICAgICAgICc8JzogJyZsdDsnLFxuLy8gICAgICAgICAnPic6ICcmZ3Q7Jyxcbi8vICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4vLyAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xuLy8gICAgICAgICBcIidcIjogJyYjMzk7J1xuLy8gICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHF1b3RlcyAqL1xuLy8gICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuLy8gICAgIH07XG4vLyBcbi8vICAgICBmdW5jdGlvbiBodG1sRmlsdGVyUmVwbGFjZXIoYykge1xuLy8gICAgICAgICByZXR1cm4gSFRNTF9FTlRJVFlbY107XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gZXNjYXBlSFRNTChzb3VyY2UpIHtcbi8vICAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSB7XG4vLyAgICAgICAgICAgICByZXR1cm4gJyc7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gU3RyaW5nKHNvdXJjZSkucmVwbGFjZSgvWyY8PlwiJ10vZywgaHRtbEZpbHRlclJlcGxhY2VyKTtcbi8vICAgICB9XG4vLyBcbi8vICAgICB2YXIgREVGQVVMVF9GSUxURVJTID0ge1xuLy8gICAgICAgICB1cmw6IGVuY29kZVVSSUNvbXBvbmVudCxcbi8vICAgICAgICAgX2NsYXNzOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQXJyYXkpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlLmpvaW4oJyAnKTtcbi8vICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgX3N0eWxlOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbi8vICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4vLyAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGtleSArICc6JyArIHNvdXJjZVtrZXldICsgJzsnO1xuLy8gICAgICAgICAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuLy8gICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICByZXR1cm4gc291cmNlIHx8ICcnO1xuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBfc2VwOiBmdW5jdGlvbiAoc291cmNlLCBzZXApIHtcbi8vICAgICAgICAgICAgIHJldHVybiBzb3VyY2UgPyBzZXAgKyBzb3VyY2UgOiAnJztcbi8vICAgICAgICAgfVxuLy8gICAgIH07XG4vLyBcbi8vICAgICBmdW5jdGlvbiBhdHRyRmlsdGVyKG5hbWUsIHZhbHVlKSB7XG4vLyAgICAgICAgIGlmICh2YWx1ZSkge1xuLy8gICAgICAgICAgICAgcmV0dXJuICcgJyArIG5hbWUgKyAnPVwiJyArIHZhbHVlICsgJ1wiJztcbi8vICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgIHJldHVybiAnJztcbi8vICAgICB9XG4vLyBcbi8vICAgICBmdW5jdGlvbiBib29sQXR0ckZpbHRlcihuYW1lLCB2YWx1ZSkge1xuLy8gICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScgJiYgdmFsdWUgIT09ICcwJykge1xuLy8gICAgICAgICAgICAgcmV0dXJuICcgJyArIG5hbWU7XG4vLyAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICByZXR1cm4gJyc7XG4vLyAgICAgfVxuLy8gXG4vLyAgICAgZnVuY3Rpb24gc3RyaW5nTGl0ZXJhbGl6ZShzb3VyY2UpIHtcbi8vICAgICAgICAgcmV0dXJuICdcIidcbi8vICAgICAgICAgICAgICsgc291cmNlXG4vLyAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xceDVDL2csICdcXFxcXFxcXCcpXG4vLyAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwQS9nLCAnXFxcXG4nKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwOS9nLCAnXFxcXHQnKVxuLy8gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHgwRC9nLCAnXFxcXHInKVxuLy8gICAgICAgICAgICAgKyAnXCInO1xuLy8gICAgIH1cbi8vIFxuLy8gICAgIHZhciBzdHJpbmdpZmllciA9IHtcbi8vICAgICAgICAgb2JqOiBmdW5jdGlvbiAoc291cmNlKSB7XG4vLyAgICAgICAgICAgICB2YXIgcHJlZml4Q29tbWE7XG4vLyAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gJ3snO1xuLy8gXG4vLyAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuLy8gICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ0xpdGVyYWxpemUoa2V5KSArICc6JyArIHN0cmluZ2lmaWVyLmFueShzb3VyY2Vba2V5XSk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICd9Jztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBhcnI6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHZhciBwcmVmaXhDb21tYTtcbi8vICAgICAgICAgICAgIHZhciByZXN1bHQgPSAnWyc7XG4vLyBcbi8vICAgICAgICAgICAgIGVhY2goc291cmNlLCBmdW5jdGlvbiAodmFsdWUpIHtcbi8vICAgICAgICAgICAgICAgICBpZiAocHJlZml4Q29tbWEpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsJztcbi8vICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgcHJlZml4Q29tbWEgPSAxO1xuLy8gXG4vLyAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ2lmaWVyLmFueSh2YWx1ZSk7XG4vLyAgICAgICAgICAgICB9KTtcbi8vIFxuLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCArICddJztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBzdHI6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHJldHVybiBzdHJpbmdMaXRlcmFsaXplKHNvdXJjZSk7XG4vLyAgICAgICAgIH0sXG4vLyBcbi8vICAgICAgICAgZGF0ZTogZnVuY3Rpb24gKHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgcmV0dXJuICduZXcgRGF0ZSgnICsgc291cmNlLmdldFRpbWUoKSArICcpJztcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICBhbnk6IGZ1bmN0aW9uIChzb3VyY2UpIHtcbi8vICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHNvdXJjZSkge1xuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5zdHIoc291cmNlKTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4vLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJyArIHNvdXJjZTtcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlID8gJ3RydWUnIDogJ2ZhbHNlJztcbi8vIFxuLy8gICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4vLyAgICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbi8vICAgICAgICAgICAgICAgICAgICAgfVxuLy8gXG4vLyAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBBcnJheSkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVyLmFycihzb3VyY2UpO1xuLy8gICAgICAgICAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIERhdGUpIHtcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllci5kYXRlKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICAgICAgICAgIH1cbi8vIFxuLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZXIub2JqKHNvdXJjZSk7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IFN0cmluZ2lmeTonICsgc291cmNlKTtcbi8vICAgICAgICAgfVxuLy8gICAgIH07XG4vLyB9XG4vLyAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG4vLyAvKiBlc2xpbnQtZW5hYmxlIGZlY3MtY2FtZWxjYXNlICovXG4vLyBcbi8vIC8qKlxuLy8gICog5bCG57uE5Lu257yW6K+R5oiQIHJlbmRlciDmlrnms5XnmoQganMg5rqQ56CBXG4vLyAgKlxuLy8gICogQHBhcmFtIHtGdW5jdGlvbn0gQ29tcG9uZW50Q2xhc3Mg57uE5Lu257G7XG4vLyAgKiBAcmV0dXJuIHtzdHJpbmd9XG4vLyAgKi9cbi8vIGZ1bmN0aW9uIGNvbXBpbGVKU1NvdXJjZShDb21wb25lbnRDbGFzcykge1xuLy8gICAgIHZhciBzb3VyY2VCdWZmZXIgPSBuZXcgQ29tcGlsZVNvdXJjZUJ1ZmZlcigpO1xuLy8gXG4vLyAgICAgc291cmNlQnVmZmVyLmFkZFJlbmRlcmVyU3RhcnQoKTtcbi8vICAgICBzb3VyY2VCdWZmZXIuYWRkUmF3KFxuLy8gICAgICAgICBjb21wb25lbnRDb21waWxlUHJlQ29kZS50b1N0cmluZygpXG4vLyAgICAgICAgICAgICAuc3BsaXQoJ1xcbicpXG4vLyAgICAgICAgICAgICAuc2xpY2UoMSlcbi8vICAgICAgICAgICAgIC5qb2luKCdcXG4nKVxuLy8gICAgICAgICAgICAgLnJlcGxhY2UoL1xcfVxccyokLywgJycpXG4vLyAgICAgKTtcbi8vIFxuLy8gICAgIC8vIOWFiOWIneWni+WMluS4quWunuS+i++8jOiuqeaooeadv+e8luivkeaIkCBBTm9kZe+8jOW5tuS4lOiDveiOt+W+l+WIneWni+WMluaVsOaNrlxuLy8gICAgIHZhciBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50Q2xhc3MoKTtcbi8vIFxuLy8gICAgIGNvbXBpbGVDb21wb25lbnRTb3VyY2Uoc291cmNlQnVmZmVyLCBjb21wb25lbnQpO1xuLy8gICAgIHNvdXJjZUJ1ZmZlci5hZGRSZW5kZXJlckVuZCgpO1xuLy8gICAgIHJldHVybiBzb3VyY2VCdWZmZXIudG9Db2RlKCk7XG4vLyB9XG4vLyAjW2VuZF1cblxuLy8gZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY29tcGlsZUpTU291cmNlO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8vICAgICB2YXIgbmV4dFRpY2sgPSByZXF1aXJlKCcuL3V0aWwvbmV4dC10aWNrJyk7XG4vLyAgICAgdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnLi91dGlsL2luaGVyaXRzJyk7XG4vLyAgICAgdmFyIHBhcnNlVGVtcGxhdGUgPSByZXF1aXJlKCcuL3BhcnNlci9wYXJzZS10ZW1wbGF0ZScpO1xuLy8gICAgIHZhciBwYXJzZUV4cHIgPSByZXF1aXJlKCcuL3BhcnNlci9wYXJzZS1leHByJyk7XG4vLyAgICAgdmFyIEV4cHJUeXBlID0gcmVxdWlyZSgnLi9wYXJzZXIvZXhwci10eXBlJyk7XG4vLyAgICAgdmFyIExpZmVDeWNsZSA9IHJlcXVpcmUoJy4vdmlldy9saWZlLWN5Y2xlJyk7XG4vLyAgICAgdmFyIE5vZGVUeXBlID0gcmVxdWlyZSgnLi92aWV3L25vZGUtdHlwZScpO1xuLy8gICAgIHZhciBDb21wb25lbnQgPSByZXF1aXJlKCcuL3ZpZXcvY29tcG9uZW50Jyk7XG4vLyAgICAgdmFyIGNvbXBpbGVDb21wb25lbnQgPSByZXF1aXJlKCcuL3ZpZXcvY29tcGlsZS1jb21wb25lbnQnKTtcbi8vICAgICB2YXIgZGVmaW5lQ29tcG9uZW50ID0gcmVxdWlyZSgnLi92aWV3L2RlZmluZS1jb21wb25lbnQnKTtcbi8vICAgICB2YXIgZW1pdERldnRvb2wgPSByZXF1aXJlKCcuL3V0aWwvZW1pdC1kZXZ0b29sJyk7XG4vLyAgICAgdmFyIGNvbXBpbGVKU1NvdXJjZSA9IHJlcXVpcmUoJy4vdmlldy9jb21waWxlLWpzLXNvdXJjZScpO1xuLy8gICAgIHZhciBEYXRhID0gcmVxdWlyZSgnLi9ydW50aW1lL2RhdGEnKTtcbi8vICAgICB2YXIgZXZhbEV4cHIgPSByZXF1aXJlKCcuL3J1bnRpbWUvZXZhbC1leHByJyk7XG4vLyAgICAgdmFyIERhdGFUeXBlcyA9IHJlcXVpcmUoJy4vdXRpbC9kYXRhLXR5cGVzJyk7XG5cblxuICAgIHZhciBzYW4gPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzYW7niYjmnKzlj7dcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHZlcnNpb246ICczLjUuOScsXG5cbiAgICAgICAgLy8gI1tiZWdpbl0gZGV2dG9vbFxuICAgICAgICAvKipcbiAgICAgICAgICog5piv5ZCm5byA5ZCv6LCD6K+V44CC5byA5ZCv6LCD6K+V5pe2IGRldnRvb2wg5Lya5bel5L2cXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZGVidWc6IHRydWUsXG4gICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgIC8vICNbYmVnaW5dIHNzclxuLy8gICAgICAgICAvKipcbi8vICAgICAgICAgICog5bCG57uE5Lu257G757yW6K+R5oiQIHJlbmRlcmVyIOaWueazlVxuLy8gICAgICAgICAgKlxuLy8gICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbi8vICAgICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oT2JqZWN0KTpzdHJpbmd9XG4vLyAgICAgICAgICAqL1xuLy8gICAgICAgICBjb21waWxlVG9SZW5kZXJlcjogZnVuY3Rpb24gKENvbXBvbmVudENsYXNzKSB7XG4vLyAgICAgICAgICAgICB2YXIgcmVuZGVyZXIgPSBDb21wb25lbnRDbGFzcy5fX3NzclJlbmRlcmVyO1xuLy8gXG4vLyAgICAgICAgICAgICBpZiAoIXJlbmRlcmVyKSB7XG4vLyAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBjb21waWxlSlNTb3VyY2UoQ29tcG9uZW50Q2xhc3MpO1xuLy8gICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gKG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBjb2RlKSkoKTtcbi8vICAgICAgICAgICAgICAgICBDb21wb25lbnRDbGFzcy5fX3NzclJlbmRlcmVyID0gcmVuZGVyZXI7XG4vLyAgICAgICAgICAgICB9XG4vLyBcbi8vICAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbi8vICAgICAgICAgfSxcbi8vIFxuLy8gICAgICAgICAvKipcbi8vICAgICAgICAgICog5bCG57uE5Lu257G757yW6K+R5oiQIHJlbmRlcmVyIOaWueazleeahOa6kOaWh+S7tlxuLy8gICAgICAgICAgKlxuLy8gICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbi8vICAgICAgICAgICogQHJldHVybiB7c3RyaW5nfVxuLy8gICAgICAgICAgKi9cbi8vICAgICAgICAgY29tcGlsZVRvU291cmNlOiBjb21waWxlSlNTb3VyY2UsXG4gICAgICAgIC8vICNbZW5kXVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDnu4Tku7bln7rnsbtcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgQ29tcG9uZW50OiBDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOWIm+W7uue7hOS7tuexu1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8g57uE5Lu257G755qE5pa55rOV6KGoXG4gICAgICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgZGVmaW5lQ29tcG9uZW50OiBkZWZpbmVDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOe8luivkee7hOS7tuexu+OAgumihOino+aekHRlbXBsYXRl5ZKMY29tcG9uZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDb21wb25lbnRDbGFzcyDnu4Tku7bnsbtcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBpbGVDb21wb25lbnQ6IGNvbXBpbGVDb21wb25lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOino+aekCB0ZW1wbGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5uZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSB0ZW1wbGF0ZSDmupDnoIFcbiAgICAgICAgICogQHJldHVybiB7QU5vZGV9XG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZVRlbXBsYXRlOiBwYXJzZVRlbXBsYXRlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDop6PmnpDooajovr7lvI9cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDmupDnoIFcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VFeHByOiBwYXJzZUV4cHIsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOihqOi+vuW8j+exu+Wei+aemuS4vlxuICAgICAgICAgKlxuICAgICAgICAgKiBAY29uc3RcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIEV4cHJUeXBlOiBFeHByVHlwZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog55Sf5ZG95ZGo5pyfXG4gICAgICAgICAqL1xuICAgICAgICBMaWZlQ3ljbGU6IExpZmVDeWNsZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICog6IqC54K557G75Z6LXG4gICAgICAgICAqXG4gICAgICAgICAqIEBjb25zdFxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgTm9kZVR5cGU6IE5vZGVUeXBlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDlnKjkuIvkuIDkuKrmm7TmlrDlkajmnJ/ov5DooYzlh73mlbBcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4g6KaB6L+Q6KGM55qE5Ye95pWwXG4gICAgICAgICAqL1xuICAgICAgICBuZXh0VGljazogbmV4dFRpY2ssXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIOaVsOaNruexu1xuICAgICAgICAgKlxuICAgICAgICAgKiBAY2xhc3NcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q/fSBkYXRhIOWIneWni+aVsOaNrlxuICAgICAgICAgKiBAcGFyYW0ge0RhdGE/fSBwYXJlbnQg54i257qn5pWw5o2u5a+56LGhXG4gICAgICAgICAqL1xuICAgICAgICBEYXRhOiBEYXRhLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiDorqHnrpfooajovr7lvI/nmoTlgLxcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV4cHIg6KGo6L6+5byP5a+56LGhXG4gICAgICAgICAqIEBwYXJhbSB7RGF0YX0gZGF0YSDmlbDmja7lr7nosaFcbiAgICAgICAgICogQHBhcmFtIHtDb21wb25lbnQ9fSBvd25lciDnu4Tku7blr7nosaHvvIznlKjkuo7ooajovr7lvI/kuK1maWx0ZXLnmoTmiafooYxcbiAgICAgICAgICogQHJldHVybiB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIGV2YWxFeHByOiBldmFsRXhwcixcblxuICAgICAgICAvKipcbiAgICAgICAgICog5p6E5bu657G75LmL6Ze055qE57un5om/5YWz57O7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YkNsYXNzIOWtkOexu+WHveaVsFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdXBlckNsYXNzIOeItuexu+WHveaVsFxuICAgICAgICAgKi9cbiAgICAgICAgaW5oZXJpdHM6IGluaGVyaXRzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhVHlwZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIERhdGFUeXBlczogRGF0YVR5cGVzXG4gICAgfTtcblxuICAgIC8vIGV4cG9ydFxuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gRm9yIENvbW1vbkpTXG4gICAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHNhbjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEZvciBBTURcbiAgICAgICAgZGVmaW5lKCdzYW4nLCBbXSwgc2FuKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEZvciA8c2NyaXB0IHNyYz1cIi4uLlwiXG4gICAgICAgIHJvb3Quc2FuID0gc2FuO1xuICAgIH1cblxuICAgIC8vICNbYmVnaW5dIGRldnRvb2xcbiAgICBlbWl0RGV2dG9vbC5zdGFydChzYW4pO1xuICAgIC8vICNbZW5kXVxufSkodGhpcyk7XG4iLCJ2YXIgX19zYW5fc2NyaXB0X18sIF9fc2FuX3RlbXBsYXRlX19cbnZhciBfX3Nhbl9zdHlsZXNfXyA9IHt9XG5yZXF1aXJlKFwiISFzdHlsZS1sb2FkZXIhY3NzLWxvYWRlcj9zb3VyY2VNYXAhLi4vbm9kZV9tb2R1bGVzL19zYW4tbG9hZGVyQDAuMC43QHNhbi1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzIS4uL25vZGVfbW9kdWxlcy9fc2FuLWxvYWRlckAwLjAuN0BzYW4tbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlJmluZGV4PTAhLi9kZW1vLnNhblwiKVxuX19zYW5fc2NyaXB0X18gPSByZXF1aXJlKFwiISEhLi4vbm9kZV9tb2R1bGVzL19zYW4tbG9hZGVyQDAuMC43QHNhbi1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9kZW1vLnNhblwiKVxuaWYgKF9fc2FuX3NjcmlwdF9fICYmXG4gICAgX19zYW5fc2NyaXB0X18uX19lc01vZHVsZSAmJlxuICAgIE9iamVjdC5rZXlzKF9fc2FuX3NjcmlwdF9fKS5sZW5ndGggPiAxKSB7XG4gIGNvbnNvbGUud2FybihcIltzYW4tbG9hZGVyXSBzcmMvZGVtby5zYW46IG5hbWVkIGV4cG9ydHMgaW4gKi5zYW4gZmlsZXMgYXJlIGlnbm9yZWQuXCIpfVxuX19zYW5fdGVtcGxhdGVfXyA9IHJlcXVpcmUoXCIhIWh0bWwtbG9hZGVyP21pbmltaXplPWZhbHNlIS4uL25vZGVfbW9kdWxlcy9fc2FuLWxvYWRlckAwLjAuN0BzYW4tbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9kZW1vLnNhblwiKVxudmFyIF9fc2FuX3Byb3RvX18gPSB7fVxuaWYgKF9fc2FuX3NjcmlwdF9fKSB7XG4gIF9fc2FuX3Byb3RvX18gPSBfX3Nhbl9zY3JpcHRfXy5fX2VzTW9kdWxlXG4gICAgPyBfX3Nhbl9zY3JpcHRfX1snZGVmYXVsdCddXG4gICAgOiBfX3Nhbl9zY3JpcHRfX1xufVxuaWYgKF9fc2FuX3RlbXBsYXRlX18pIHtcbiAgX19zYW5fcHJvdG9fXy50ZW1wbGF0ZSA9IF9fc2FuX3RlbXBsYXRlX19cbn1cbnZhciBzYW4gPSByZXF1aXJlKFwic2FuXCIpXG52YXIgX19zYW5fZXhwb3J0c19fID0gc2FuLmRlZmluZUNvbXBvbmVudChfX3Nhbl9wcm90b19fKVxubW9kdWxlLmV4cG9ydHMgPSBfX3Nhbl9leHBvcnRzX19cbmlmIChtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlKSBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzWydkZWZhdWx0J11cbmlmICghX19zYW5fZXhwb3J0c19fLmNvbXB1dGVkKSBfX3Nhbl9leHBvcnRzX18uY29tcHV0ZWQgPSB7fVxuT2JqZWN0LmtleXMoX19zYW5fc3R5bGVzX18pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xudmFyIG1vZHVsZSA9IF9fc2FuX3N0eWxlc19fW2tleV1cbl9fc2FuX2V4cG9ydHNfXy5jb21wdXRlZFtrZXldID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9kdWxlIH1cbn0pXG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiXFxuPGRpdiBjbGFzcz1cXFwiaGVsbG9cXFwiPmhlbGxvIHt7bXNnfX0gPC9kaXY+XFxuXCI7IiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiaGVsbG9cIj5oZWxsbyB7e21zZ319IDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbiAgZXhwb3J0IGRlZmF1bHQge1xuICAgIGluaXREYXRhKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbXNnOiBcIkhpXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbiAgLmhlbGxvIHtcbiAgICBjb2xvcjogcmVkO1xuICB9XG48L3N0eWxlPlxuXG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAwLjI4LjExQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKHRydWUpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuLmhlbGxvIHtcXG4gIGNvbG9yOiByZWQ7XFxufVxcblwiLCBcIlwiLCB7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCIvaG9tZS9zaGltZW5nL0RvY3VtZW50cy9pZmUyMDE4L212dm0vMDB3ZWJwYWNrL3NyYy9kZW1vLnNhbj8zY2Y3ZjZjYVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTtFQUNBLFdBQUE7Q0FDQVwiLFwiZmlsZVwiOlwiZGVtby5zYW5cIixcInNvdXJjZXNDb250ZW50XCI6W1wiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiaGVsbG9cXFwiPmhlbGxvIHt7bXNnfX0gPC9kaXY+XFxuPC90ZW1wbGF0ZT5cXG5cXG48c2NyaXB0PlxcbiAgZXhwb3J0IGRlZmF1bHQge1xcbiAgICBpbml0RGF0YSgpIHtcXG4gICAgICByZXR1cm4ge1xcbiAgICAgICAgbXNnOiBcXFwiSGlcXFwiLFxcbiAgICAgIH07XFxuICAgIH1cXG4gIH1cXG48L3NjcmlwdD5cXG5cXG48c3R5bGU+XFxuICAuaGVsbG8ge1xcbiAgICBjb2xvcjogcmVkO1xcbiAgfVxcbjwvc3R5bGU+XFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMC4yOC4xMUBjc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLi9ub2RlX21vZHVsZXMvX3Nhbi1sb2FkZXJAMC4wLjdAc2FuLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanMhLi4vbm9kZV9tb2R1bGVzL19zYW4tbG9hZGVyQDAuMC43QHNhbi1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGUmaW5kZXg9MCEuL2RlbW8uc2FuXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvX3N0eWxlLWxvYWRlckAwLjIxLjBAc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMC4yOC4xMUBjc3MtbG9hZGVyL2luZGV4LmpzP3NvdXJjZU1hcCEuLi9ub2RlX21vZHVsZXMvX3Nhbi1sb2FkZXJAMC4wLjdAc2FuLWxvYWRlci9saWIvc3R5bGUtcmV3cml0ZXIuanMhLi4vbm9kZV9tb2R1bGVzL19zYW4tbG9hZGVyQDAuMC43QHNhbi1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGUmaW5kZXg9MCEuL2RlbW8uc2FuXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDAuMjguMTFAY3NzLWxvYWRlci9pbmRleC5qcz9zb3VyY2VNYXAhLi4vbm9kZV9tb2R1bGVzL19zYW4tbG9hZGVyQDAuMC43QHNhbi1sb2FkZXIvbGliL3N0eWxlLXJld3JpdGVyLmpzIS4uL25vZGVfbW9kdWxlcy9fc2FuLWxvYWRlckAwLjAuN0BzYW4tbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlJmluZGV4PTAhLi9kZW1vLnNhblwiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJ2YXIgc2NvcGUgPSAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwpIHx8XG4gICAgICAgICAgICAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZikgfHxcbiAgICAgICAgICAgIHdpbmRvdztcbnZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhclRpbWVvdXQpO1xufTtcbmV4cG9ydHMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0SW50ZXJ2YWwsIHNjb3BlLCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbi8vIE9uIHNvbWUgZXhvdGljIGVudmlyb25tZW50cywgaXQncyBub3QgY2xlYXIgd2hpY2ggb2JqZWN0IGBzZXRpbW1lZGlhdGVgIHdhc1xuLy8gYWJsZSB0byBpbnN0YWxsIG9udG8uICBTZWFyY2ggZWFjaCBwb3NzaWJpbGl0eSBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbi8vIGBzZXRpbW1lZGlhdGVgIGxpYnJhcnkuXG5leHBvcnRzLnNldEltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLnNldEltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5zZXRJbW1lZGlhdGUpO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9ICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLmNsZWFySW1tZWRpYXRlKTtcbiIsImltcG9ydCBzYW4gZnJvbSBcInNhblwiO1xuaW1wb3J0IHtyb3V0ZXJ9IGZyb20gXCJzYW4tcm91dGVyXCI7XG5pbXBvcnQgU2FuIGZyb20gXCIuL2RlbW8uc2FuXCI7XG5cblxuY29uc29sZS5sb2coXCJIZWxsbyB3b3JsZCFcIik7XG5yb3V0ZXIuYWRkKHtydWxlOiBcIi9cIiwgQ29tcG9uZW50OiBTYW4sIHRhcmdldDogXCIjYXBwXCJ9KTtcblxucm91dGVyLnN0YXJ0KCk7Il0sInNvdXJjZVJvb3QiOiIifQ==